<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
</style></head><body data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">


  
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="viewport" content="width=device-width, initial-scale=1">

    <title>podman-build — Podman  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css">
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css">
    <link rel="stylesheet" type="text/css" href="../../../_/static/css/badge_only.css">
    <link rel="stylesheet" type="text/css" href="../_static/custom.css">
    <script src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script async="async" src="../../../_/static/javascript/readthedocs-doc-embed.js"></script>
    <link rel="index" title="Index" href="../genindex.html">
    <link rel="search" title="Search" href="../search.html">
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css">
  

  
  

  
<!-- RTD Extra Head -->

<link rel="stylesheet" href="../../../_/static/css/readthedocs-doc-embed.css" type="text/css">

<script type="application/json" id="READTHEDOCS_DATA">{"ad_free": false, "api_host": "https://readthedocs.org", "builder": "sphinx", "canonical_url": null, "docroot": "/docs/source/", "features": {"docsearch_disabled": false}, "global_analytics_code": "UA-17997319-1", "language": "en", "page": "markdown/podman-build.1", "programming_language": "go", "project": "podman", "proxied_api_host": "/_", "source_suffix": ".md", "subprojects": {}, "theme": "alabaster", "user_analytics_code": "", "version": "latest"}</script>

<!--
Using this variable directly instead of using `JSON.parse` is deprecated.
The READTHEDOCS_DATA global variable will be removed in the future.
-->
<script type="text/javascript">
READTHEDOCS_DATA = JSON.parse(document.getElementById('READTHEDOCS_DATA').innerHTML);
</script>

<script type="text/javascript" src="../../../_/static/javascript/readthedocs-analytics.js" async="async"></script>

<!-- end RTD <extrahead> -->

  

    <div class="document" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
      <div class="documentwrapper" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
        <div class="bodywrapper" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
          

          <div class="body" role="main" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
            
  <section id="name" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h1 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">NAME<a class="headerlink" href="#name" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h1>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">podman-build - Build a container image using a Containerfile<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">podman-build - 使用 Containerfile 构建容器镜像</font></font></font></p>
</section>
<section id="synopsis" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h1 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">SYNOPSIS<a class="headerlink" href="#synopsis" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">概要</font></font></font></h1>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">podman build</strong> [<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">options</em>] [<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">context</em>]<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">podman 构建 [选项] [上下文]</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">podman image build</strong> [<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">options</em>] [<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">context</em>]<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">podman 镜像构建 [选项] [上下文]</font></font></font></p>
</section>
<section id="description" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h1 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">DESCRIPTION<a class="headerlink" href="#description" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h1>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">podman build</strong> Builds an image using instructions from one or more
Containerfiles or Dockerfiles and a specified build context directory. A
Containerfile uses the same syntax as a Dockerfile internally. For this
document, a file referred to as a Containerfile can be a file named
either ‘Containerfile’ or ‘Dockerfile’.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">podman build 使用一个或多个 Containerfiles 或 Dockerfiles 中的指令以及指定的构建上下文目录构建镜像。Containerfile 在内部使用与 Dockerfile 相同的语法。在本文档中，所谓的 Containerfile 可以是一个名为 'Containerfile' 或 'Dockerfile' 的文件。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">The build context directory can be specified as the http(s) URL of an archive,
git repository or Containerfile.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">构建上下文目录可以指定为存档、git 仓库或 Containerfile 的 http(s) URL。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">When invoked with <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">-f</span></code> and a path to a Containerfile, with no explicit CONTEXT
directory, Podman uses the Containerfile’s parent directory as its build context.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当使用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">-f</span></code> 和 Containerfile 路径调用时，没有明确的 CONTEXT 目录，Podman 使用 Containerfile 的父目录作为其构建上下文。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Containerfiles ending with a “.in” suffix are preprocessed via CPP(1).  This
can be useful to decompose Containerfiles into several reusable parts that can
be used via CPP’s <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">#include</strong> directive. Containerfiles ending in .in are
restricted to no comment lines unless they are CPP commands.
Note, a Containerfile.in file can still be used by other tools when manually
preprocessing them via <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">cpp</span> <span class="pre">-E</span></code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以“.in”后缀结尾的 Containerfiles 通过 CPP(1) 预处理。这对将 Containerfiles 分解为几个可重用部分并通过 CPP 的 #include 指令使用非常有用。以 .in 结尾的 Containerfiles 除非是 CPP 命令，否则不允许有注释行。请注意，Containerfile.in 文件仍然可以通过其他工具手动预处理后使用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">cpp</span> <span class="pre">-E</span></code> 。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">When the URL is an archive, the contents of the URL is downloaded to a temporary
location and extracted before execution.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当 URL 是一个存档文件时，URL 的内容会被下载到临时位置并在执行之前被解压。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">When the URL is a Containerfile, the Containerfile is downloaded to a temporary
location.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当 URL 是一个 Containerfile 时，Containerfile 会被下载到临时位置。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">When a Git repository is set as the URL, the repository is cloned locally and
then set as the context.  A URL is treated as a Git repository if it
has a <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">git://</span></code> prefix or a <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">.git</span></code> suffix.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当将 Git 存储库设置为 URL 时，存储库会在本地克隆，然后设置为上下文。如果 URL 具有 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">git://</span></code> 前缀或 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">.git</span></code> 后缀，则将其视为 Git 存储库。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">NOTE: <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span> <span class="pre">build</span></code> uses code sourced from the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">Buildah</span></code> project to build
container images.  This <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">Buildah</span></code> code creates <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">Buildah</span></code> containers for the
<code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> options in container storage. In certain situations, when the
<code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span> <span class="pre">build</span></code> crashes or users kill the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span> <span class="pre">build</span></code> process, these external
containers can be left in container storage. Use the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span> <span class="pre">ps</span> <span class="pre">--all</span> <span class="pre">--storage</span></code>
command to see these containers. External containers can be removed with the
<code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span> <span class="pre">rm</span> <span class="pre">--storage</span></code> command.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意： <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span> <span class="pre">build</span></code> 使用从 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">Buildah</span></code> 项目获取的代码来构建容器映像。这 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">Buildah</span></code> 代码为 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> 选项中的容器存储创建 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">Buildah</span></code> 容器。在某些情况下，当 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span> <span class="pre">build</span></code> 崩溃或用户终止 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span> <span class="pre">build</span></code> 进程时，这些外部容器可能会留在容器存储中。使用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span> <span class="pre">ps</span> <span class="pre">--all</span> <span class="pre">--storage</span></code> 命令查看这些容器。可以使用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span> <span class="pre">rm</span> <span class="pre">--storage</span></code> 命令删除外部容器。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span> <span class="pre">buildx</span> <span class="pre">build</span></code> command is an alias of <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span> <span class="pre">build</span></code>.  Not all <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">buildx</span> <span class="pre">build</span></code> features are available in Podman. The <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">buildx</span> <span class="pre">build</span></code> option is provided for scripting compatibility.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span> <span class="pre">buildx</span> <span class="pre">build</span></code> 命令是 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span> <span class="pre">build</span></code> 的别名。并非所有 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">buildx</span> <span class="pre">build</span></code> 功能在 Podman 中都可用。提供 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">buildx</span> <span class="pre">build</span></code> 选项以实现脚本兼容性。</font></font></font></p>
</section>
<section id="options" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h1 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">OPTIONS<a class="headerlink" href="#options" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">选项</font></font></font></h1>
<section id="add-host-host-ip" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--add-host</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">host:ip</em><a class="headerlink" href="#add-host-host-ip" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Add a custom host-to-IP mapping (host:ip)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加自定义主机到 IP 映射（host:ip）</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Add a line to /etc/hosts. The format is hostname:ip. The <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--add-host</strong>
option can be set multiple times. Conflicts with the <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--no-hosts</strong> option.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 /etc/hosts 中添加一行。格式为主机名:ip。--add-host 选项可以设置多次。与 --no-hosts 选项冲突。</font></font></font></p>
</section>
<section id="all-platforms" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--all-platforms</strong><a class="headerlink" href="#all-platforms" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--所有平台 ¶</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Instead of building for a set of platforms specified using the <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--platform</strong> option, inspect the build’s base images, and build for all of the platforms for which they are all available.  Stages that use <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">scratch</em> as a starting point can not be inspected, so at least one non-<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">scratch</em> stage must be present for detection to work usefully.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不再构建一组使用 --platform 选项指定的平台，而是检查构建的基础镜像，并为所有可用的平台构建。使用 scratch 作为起点的阶段无法被检查，因此至少必须存在一个非 scratch 阶段，以使检测能够有效工作。</font></font></font></p>
</section>
<section id="annotation-annotation-value" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--annotation</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">annotation=value</em><a class="headerlink" href="#annotation-annotation-value" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--annotation=注释=值 ¶</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Add an image <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">annotation</em> (e.g. annotation=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">value</em>) to the image metadata. Can
be used multiple times.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将图像注释（例如注释=值）添加到图像元数据。可以多次使用。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Note: this information is not present in Docker image formats, so it is
discarded when writing images in Docker formats.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：此信息不包含在 Docker 图像格式中，因此在以 Docker 格式编写图像时会被丢弃。</font></font></font></p>
</section>
<section id="arch-arch" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--arch</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">arch</em><a class="headerlink" href="#arch-arch" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Set the architecture of the image to be built, and that of the base image to be
pulled, if the build uses one, to the provided value instead of using the
architecture of the build host. Unless overridden, subsequent lookups of the
same image in the local storage matches this architecture, regardless of the
host. (Examples: arm, arm64, 386, amd64, ppc64le, s390x)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将要构建的镜像的架构和要拉取的基础镜像的架构（如果构建使用基础镜像）设置为提供的值，而不是使用构建主机的架构。除非被覆盖，否则在本地存储中对相同镜像的后续查找将匹配此架构，而不考虑主机。（示例：arm、arm64、386、amd64、ppc64le、s390x）</font></font></font></p>
</section>
<section id="authfile-path" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--authfile</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">path</em><a class="headerlink" href="#authfile-path" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Path of the authentication file. Default is <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">${XDG_RUNTIME_DIR}/containers/auth.json</span></code> on Linux, and <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">$HOME/.config/containers/auth.json</span></code> on Windows/macOS.
The file is created by <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference internal" href="podman-login.1.html" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="std std-doc" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">podman login</span></a></strong>. If the authorization state is not found there, <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">$HOME/.docker/config.json</span></code> is checked, which is set using <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">docker login</strong>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">认证文件的路径。在 Linux 上默认为 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">${XDG_RUNTIME_DIR}/containers/auth.json</span></code> ，在 Windows/macOS 上默认为 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">$HOME/.config/containers/auth.json</span></code> 。该文件由 podman login 创建。如果授权状态未在那里找到，则会检查 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">$HOME/.docker/config.json</span></code> ，该值是使用 docker login 设置的。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Note: There is also the option to override the default path of the authentication file by setting the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">REGISTRY_AUTH_FILE</span></code> environment variable. This can be done with <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">export REGISTRY_AUTH_FILE=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">path</em></strong>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：还有一种选择，可以通过设置 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">REGISTRY_AUTH_FILE</span></code> 环境变量来覆盖认证文件的默认路径。可以通过 export REGISTRY_AUTH_FILE=path 来实现。</font></font></font></p>
</section>
<section id="build-arg-arg-value" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--build-arg</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">arg=value</em><a class="headerlink" href="#build-arg-arg-value" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Specifies a build argument and its value, which is interpolated in
instructions read from the Containerfiles in the same way that environment variables are, but which are not added to environment variable list in the resulting image’s configuration.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定构建参数及其值，这些值会被插入到从相同的 Containerfiles 中读取的指令中，就像环境变量一样插值，但不会被添加到生成镜像配置中的环境变量列表中。</font></font></font></p>
</section>
<section id="build-arg-file-path" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--build-arg-file</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">path</em><a class="headerlink" href="#build-arg-file-path" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Specifies a file containing lines of build arguments of the form <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">arg=value</span></code>.
The suggested file name is <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">argfile.conf</span></code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定一个包含构建参数行的文件，格式为 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">arg=value</span></code> 。建议的文件名为 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">argfile.conf</span></code> 。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Comment lines beginning with <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">#</span></code> are ignored, along with blank lines.
All others must be of the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">arg=value</span></code> format passed to <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--build-arg</span></code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">#</span></code> 开头的注释行将被忽略，以及空白行。所有其他行必须是传递给 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--build-arg</span></code> 的 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">arg=value</span></code> 格式。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">If several arguments are provided via the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--build-arg-file</span></code>
and <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--build-arg</span></code> options, the build arguments are merged across all
of the provided files and command line arguments.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果通过 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--build-arg-file</span></code> 和 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--build-arg</span></code> 选项提供了多个参数，则构建参数将在提供的所有文件和命令行参数之间合并。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Any file provided in a <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--build-arg-file</span></code> option is read before
the arguments supplied via the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--build-arg</span></code> option.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">通过 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--build-arg-file</span></code> 选项提供的任何文件都会在通过 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--build-arg</span></code> 选项提供的参数之前读取。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">When a given argument name is specified several times, the last instance
is the one that is passed to the resulting builds. This means <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--build-arg</span></code>
values always override those in a <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--build-arg-file</span></code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当指定了相同的参数名称多次时，最后一个实例将传递给生成的构建。这意味着 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--build-arg</span></code> 值始终会覆盖 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--build-arg-file</span></code> 中的值。</font></font></font></p>
</section>
<section id="build-context-name-value" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--build-context</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">name=value</em><a class="headerlink" href="#build-context-name-value" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Specify an additional build context using its short name and its location.
Additional build contexts can be referenced in the same manner as we access
different stages in COPY instruction.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用其简称和位置指定额外的构建上下文。可以像访问 COPY 指令中的不同阶段一样引用其他构建上下文。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Valid values are:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">有效值为:</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Local directory – e.g. --build-context project2=../path/to/project2/src (This option is not available with the remote Podman client. On Podman machine setup (i.e macOS and Windows) path must exists on the machine VM)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">本地目录 – 例如 --build-context project2=../path/to/project2/src（此选项在远程 Podman 客户端不可用。在 Podman 机器设置（即 macOS 和 Windows）中，路径必须存在于机器 VM 上）</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">HTTP URL to a tarball – e.g. --build-context src=https://example.org/releases/src.tar<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">HTTP URL 到一个 tarball – 例如 --build-context src=https://example.org/releases/src.tar</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Container image – specified with a container-image:// prefix, e.g. --build-context alpine=container-image://alpine:3.15, (also accepts docker://, docker-image://)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">容器镜像 – 使用 container-image:// 前缀指定，例如 --build-context alpine=container-image://alpine:3.15，（也接受 docker://，docker-image://）</font></font></font></p></li>
</ul>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">On the Containerfile side, reference the build context on all
commands that accept the “from” parameter. Here’s how that might look:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 Containerfile 方面，在所有接受“from”参数的命令中引用构建上下文。以下是可能的样子：</font></font></font></p>
<div class="highlight-dockerfile notranslate"><div class="highlight"><pre><span></span><span class="k">FROM</span><span class="w"> </span><span class="s">[name]</span>
<span class="k">COPY</span><span class="w"> </span>--from<span class="o">=[</span>name<span class="o">]</span><span class="w"> </span>...
<span class="k">RUN</span><span class="w"> </span>--mount<span class="o">=</span><span class="nv">from</span><span class="o">=[</span>name<span class="o">]</span><span class="w"> </span>…
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">The value of [name] is matched with the following priority order:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">[name] 的值按以下优先顺序匹配：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Named build context defined with --build-context [name]=..<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 --build-context [name]=.. 定义的命名构建上下文</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Stage defined with AS [name] inside Containerfile<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 Containerfile 中使用 AS [name] 定义的阶段</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Image [name], either local or in a remote registry<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">镜像 [name]，可以是本地的或者在远程仓库中的</font></font></font></p></li>
</ul>
</section>
<section id="cache-from-image" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--cache-from</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">image</em><a class="headerlink" href="#cache-from-image" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Repository to utilize as a potential cache source. When specified, Buildah tries to look for
cache images in the specified repository and attempts to pull cache images instead of actually
executing the build steps locally. Buildah only attempts to pull previously cached images if they
are considered as valid cache hits.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用作潜在缓存源的存储库。当指定时，Buildah 尝试在指定的存储库中查找缓存镜像，并尝试拉取缓存镜像，而不是在本地执行构建步骤。仅当之前缓存的镜像被视为有效的缓存命中时，Buildah 才会尝试拉取先前缓存的镜像。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Use the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--cache-to</span></code> option to populate a remote repository with cache content.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--cache-to</span></code> 选项将远程存储库填充为缓存内容。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Example<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例</font></font></font></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># populate a cache and also consult it</span>
buildah<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span><span class="nb">test</span><span class="w"> </span>--layers<span class="w"> </span>--cache-to<span class="w"> </span>registry/myrepo/cache<span class="w"> </span>--cache-from<span class="w"> </span>registry/myrepo/cache<span class="w"> </span>.
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Note: <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--cache-from</span></code> option is ignored unless <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--layers</span></code> is specified.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意: 除非指定 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--layers</span></code> ，否则选项 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--cache-from</span></code> 将被忽略。</font></font></font></p>
</section>
<section id="cache-to-image" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--cache-to</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">image</em><a class="headerlink" href="#cache-to-image" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Set this flag to specify a remote repository that is used to store cache images. Buildah attempts to
push newly built cache image to the remote repository.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置此标志以指定用于存储缓存镜像的远程存储库。Buildah 尝试将新构建的缓存镜像推送到远程存储库。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Note: Use the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--cache-from</span></code> option in order to use cache content in a remote repository.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：使用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--cache-from</span></code> 选项以便在远程存储库中使用缓存内容。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Example<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例</font></font></font></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># populate a cache and also consult it</span>
buildah<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span><span class="nb">test</span><span class="w"> </span>--layers<span class="w"> </span>--cache-to<span class="w"> </span>registry/myrepo/cache<span class="w"> </span>--cache-from<span class="w"> </span>registry/myrepo/cache<span class="w"> </span>.
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Note: <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--cache-to</span></code> option is ignored unless <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--layers</span></code> is specified.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：除非指定 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--layers</span></code> ，否则 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--cache-to</span></code> 选项将被忽略。</font></font></font></p>
</section>
<section id="cache-ttl" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--cache-ttl</strong><a class="headerlink" href="#cache-ttl" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Limit the use of cached images to only consider images with created timestamps less than <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">duration</em> ago.
For example if <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--cache-ttl=1h</span></code> is specified, Buildah considers intermediate cache images which are created
under the duration of one hour, and intermediate cache images outside this duration is ignored.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">限制仅考虑创建时间早于持续时间的图像的缓存使用。例如，如果指定 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--cache-ttl=1h</span></code> ，Buildah 会考虑在一个小时内创建的中间缓存图像，而超出此持续时间的中间缓存图像将被忽略。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Note: Setting <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--cache-ttl=0</span></code> manually is equivalent to using <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--no-cache</span></code> in the
implementation since this means that the user dones not want to use cache at all.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：手动设置 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--cache-ttl=0</span></code> 等效于在实现中使用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--no-cache</span></code> ，因为这意味着用户根本不想使用缓存。</font></font></font></p>
</section>
<section id="cap-add-cap-xxx" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--cap-add</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">CAP_xxx</em><a class="headerlink" href="#cap-add-cap-xxx" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">When executing RUN instructions, run the command specified in the instruction
with the specified capability added to its capability set.
Certain capabilities are granted by default; this option can be used to add
more.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在执行 RUN 指令时，使用指令中指定的命令，并将指定的能力添加到其能力集中。某些能力是默认授予的；此选项可用于添加更多。</font></font></font></p>
</section>
<section id="cap-drop-cap-xxx" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--cap-drop</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">CAP_xxx</em><a class="headerlink" href="#cap-drop-cap-xxx" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">When executing RUN instructions, run the command specified in the instruction
with the specified capability removed from its capability set.
The CAP_CHOWN, CAP_DAC_OVERRIDE, CAP_FOWNER,
CAP_FSETID, CAP_KILL, CAP_NET_BIND_SERVICE, CAP_SETFCAP,
CAP_SETGID, CAP_SETPCAP, and CAP_SETUID capabilities are
granted by default; this option can be used to remove them.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在执行 RUN 指令时，使用指令中指定的命令，并从其能力集中移除指定的能力。默认情况下授予 CAP_CHOWN、CAP_DAC_OVERRIDE、CAP_FOWNER、CAP_FSETID、CAP_KILL、CAP_NET_BIND_SERVICE、CAP_SETFCAP、CAP_SETGID、CAP_SETPCAP 和 CAP_SETUID 能力；此选项可用于移除它们。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">If a capability is specified to both the <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--cap-add</strong> and <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--cap-drop</strong>
options, it is dropped, regardless of the order in which the options were
given.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果一个能力同时被指定为 --cap-add 和 --cap-drop 选项，它将被移除，无论选项的给定顺序如何。</font></font></font></p>
</section>
<section id="cert-dir-path" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--cert-dir</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">path</em><a class="headerlink" href="#cert-dir-path" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Use certificates at <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">path</em> (*.crt, *.cert, *.key) to connect to the registry. (Default: /etc/containers/certs.d)
For details, see <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference external" href="https://github.com/containers/image/blob/main/docs/containers-certs.d.5.md" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">containers-certs.d(5)</a></strong>.
(This option is not available with the remote Podman client, including Mac and Windows (excluding WSL2) machines)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用证书路径（*.crt, *.cert, *.key）连接到注册表。 （默认值：/etc/containers/certs.d）有关详细信息，请参阅 containers-certs.d(5)。 （此选项不适用于远程 Podman 客户端，包括 Mac 和 Windows（不包括 WSL2）机器）</font></font></font></p>
</section>
<section id="cgroup-parent-path" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--cgroup-parent</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">path</em><a class="headerlink" href="#cgroup-parent-path" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Path to cgroups under which the cgroup for the container is created. If the
path is not absolute, the path is considered to be relative to the cgroups path
of the init process. Cgroups are created if they do not already exist.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用于创建容器的 cgroup 所在的 cgroups 路径。 如果路径不是绝对路径，则将其视为相对于 init 进程的 cgroups 路径。 如果尚不存在，则会创建 cgroups。</font></font></font></p>
</section>
<section id="cgroupns-how" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--cgroupns</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">how</em><a class="headerlink" href="#cgroupns-how" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--cgroupns=如何</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Sets the configuration for cgroup namespaces when handling <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> instructions.
The configured value can be “” (the empty string) or “private” to indicate
that a new cgroup namespace is created, or it can be “host” to indicate
that the cgroup namespace in which <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">buildah</span></code> itself is being run is reused.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置处理 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> 指令时的 cgroup 命名空间配置。配置的值可以是“”（空字符串）或“private”表示创建新的 cgroup 命名空间，也可以是“host”表示重用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">buildah</span></code> 所在的 cgroup 命名空间。</font></font></font></p>
</section>
<section id="compress" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--compress</strong><a class="headerlink" href="#compress" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--压缩</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">This option is added to be aligned with other containers CLIs.
Podman doesn’t communicate with a daemon or a remote server.
Thus, compressing the data before sending it is irrelevant to Podman. (This option is not available with the remote Podman client, including Mac and Windows (excluding WSL2) machines)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项已添加以与其他容器 CLI 对齐。 Podman 不与守护程序或远程服务器通信。因此，在发送数据之前对其进行压缩对于 Podman 是无关紧要的。（此选项不适用于远程 Podman 客户端，包括 Mac 和 Windows（不包括 WSL2）机器）</font></font></font></p>
</section>
<section id="cpp-flag-flags" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--cpp-flag</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">flags</em><a class="headerlink" href="#cpp-flag-flags" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Set additional flags to pass to the C Preprocessor cpp(1). Containerfiles ending with a “.in” suffix is preprocessed via cpp(1). This option can be used to pass additional flags to cpp.Note: You can also set default CPPFLAGS by setting the BUILDAH_CPPFLAGS environment variable (e.g., export BUILDAH_CPPFLAGS=”-DDEBUG”).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置要传递给 C 预处理器 cpp(1) 的附加标志。以“.in”后缀结尾的 Containerfiles 将通过 cpp(1) 预处理。此选项可用于传递附加标志给 cpp。注意：您还可以通过设置 BUILDAH_CPPFLAGS 环境变量来设置默认的 CPPFLAGS（例如，export BUILDAH_CPPFLAGS=”-DDEBUG”）。</font></font></font></p>
</section>
<section id="cpu-period-limit" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--cpu-period</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">limit</em><a class="headerlink" href="#cpu-period-limit" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Set the CPU period for the Completely Fair Scheduler (CFS), which is a
duration in microseconds. Once the container’s CPU quota is used up, it will not
be scheduled to run until the current period ends. Defaults to 100000
microseconds.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置完全公平调度器（CFS）的 CPU 周期，单位为微秒。一旦容器的 CPU 配额用完，它将不会被调度运行，直到当前周期结束。默认为 100000 微秒。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">On some systems, changing the resource limits may not be allowed for non-root
users. For more details, see
https://github.com/containers/podman/blob/main/troubleshooting.md#26-running-containers-with-resource-limits-fails-with-a-permissions-error<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在某些系统上，非 root 用户可能无法更改资源限制。有关更多详细信息，请参阅 https://github.com/containers/podman/blob/main/troubleshooting.md#26-running-containers-with-resource-limits-fails-with-a-permissions-error</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">This option is not supported on cgroups V1 rootless systems.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项不支持 cgroups V1 无根系统。</font></font></font></p>
</section>
<section id="cpu-quota-limit" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--cpu-quota</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">limit</em><a class="headerlink" href="#cpu-quota-limit" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Limit the CPU Completely Fair Scheduler (CFS) quota.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">限制 CPU 完全公平调度器（CFS）的配额。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Limit the container’s CPU usage. By default, containers run with the full
CPU resource. The limit is a number in microseconds. If a number is provided,
the container is allowed to use that much CPU time until the CPU period
ends (controllable via <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--cpu-period</strong>).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">限制容器的 CPU 使用率。默认情况下，容器以完整的 CPU 资源运行。限制是以微秒为单位的数字。如果提供了一个数字，容器可以使用那么多的 CPU 时间，直到 CPU 周期结束（可通过 --cpu-period 控制）。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">On some systems, changing the resource limits may not be allowed for non-root
users. For more details, see
https://github.com/containers/podman/blob/main/troubleshooting.md#26-running-containers-with-resource-limits-fails-with-a-permissions-error<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在某些系统上，非 root 用户可能不被允许更改资源限制。有关更多详细信息，请参阅 https://github.com/containers/podman/blob/main/troubleshooting.md#26-running-containers-with-resource-limits-fails-with-a-permissions-error</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">This option is not supported on cgroups V1 rootless systems.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 cgroups V1 无根系统上不支持此选项。</font></font></font></p>
</section>
<section id="cpu-shares-c-shares" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--cpu-shares</strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">-c</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">shares</em><a class="headerlink" href="#cpu-shares-c-shares" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--cpu-shares, -c=份额 ¶</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">CPU shares (relative weight).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">CPU 份额（相对权重）。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">By default, all containers get the same proportion of CPU cycles. This
proportion can be modified by changing the container’s CPU share weighting
relative to the combined weight of all the running containers.
Default weight is <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">1024</strong>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">默认情况下，所有容器获得相同比例的 CPU 周期。可以通过修改容器的 CPU 份额权重相对于所有运行容器的组合权重来修改此比例。默认权重为 1024。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">The proportion only applies when CPU-intensive processes are running.
When tasks in one container are idle, other containers can use the
left-over CPU time. The actual amount of CPU time varies depending on
the number of containers running on the system.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">仅当运行 CPU 密集型进程时，比例才适用。当一个容器中的任务处于空闲状态时，其他容器可以使用剩余的 CPU 时间。实际的 CPU 时间量取决于系统上运行的容器数量。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">For example, consider three containers, one has a cpu-share of 1024 and
two others have a cpu-share setting of 512. When processes in all three
containers attempt to use 100% of CPU, the first container receives
50% of the total CPU time. If a fourth container is added with a cpu-share
of 1024, the first container only gets 33% of the CPU. The remaining containers
receive 16.5%, 16.5% and 33% of the CPU.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">例如，考虑三个容器，一个的 cpu-share 为 1024，另外两个的 cpu-share 设置为 512。当所有三个容器中的进程尝试使用 CPU 的 100% 时，第一个容器将获得总 CPU 时间的 50%。如果添加一个 cpu-share 为 1024 的第四个容器，则第一个容器只能获得 CPU 的 33%。其余容器分别获得 CPU 的 16.5%，16.5% 和 33%。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">On a multi-core system, the shares of CPU time are distributed over all CPU
cores. Even if a container is limited to less than 100% of CPU time, it can
use 100% of each individual CPU core.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在多核系统上，CPU 时间的份额分布在所有 CPU 核心上。即使容器被限制在少于 100% 的 CPU 时间，它仍然可以使用每个单独的 CPU 核心的 100%。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">For example, consider a system with more than three cores.
If the container <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">C0</em> is started with <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--cpu-shares=512</strong> running one process,
and another container <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">C1</em> with <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--cpu-shares=1024</strong> running two processes,
this can result in the following division of CPU shares:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">例如，考虑一个具有三个以上核心的系统。如果容器 C0 使用 --cpu-shares=512 启动并运行一个进程，另一个容器 C1 使用 --cpu-shares=1024 启动并运行两个进程，这可能导致 CPU 分配如下：</font></font></font></p>
<table class="docutils align-default" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<thead data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<tr class="row-odd" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><th class="head"><p>PID</p></th>
<th class="head"><p>container</p></th>
<th class="head"><p>CPU</p></th>
<th class="head" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">CPU share<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">CPU 分配</font></font></font></p></th>
</tr>
</thead>
<tbody data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<tr class="row-even" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><td><p>100</p></td>
<td><p>C0</p></td>
<td><p>0</p></td>
<td data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">100% of CPU0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">CPU0 的 100%</font></font></font></p></td>
</tr>
<tr class="row-odd" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><td><p>101</p></td>
<td><p>C1</p></td>
<td><p>1</p></td>
<td data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">100% of CPU1<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">CPU1 的 100%</font></font></font></p></td>
</tr>
<tr class="row-even" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><td><p>102</p></td>
<td><p>C1</p></td>
<td><p>2</p></td>
<td data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">100% of CPU2<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">CPU2 的 100%</font></font></font></p></td>
</tr>
</tbody>
</table>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">On some systems, changing the resource limits may not be allowed for non-root
users. For more details, see
https://github.com/containers/podman/blob/main/troubleshooting.md#26-running-containers-with-resource-limits-fails-with-a-permissions-error<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在某些系统上，更改资源限制可能不允许非 root 用户执行。有关更多详细信息，请参阅 https://github.com/containers/podman/blob/main/troubleshooting.md#26-running-containers-with-resource-limits-fails-with-a-permissions-error</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">This option is not supported on cgroups V1 rootless systems.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项不支持 cgroups V1 无根系统。</font></font></font></p>
</section>
<section id="cpuset-cpus-number" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--cpuset-cpus</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">number</em><a class="headerlink" href="#cpuset-cpus-number" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">CPUs in which to allow execution. Can be specified as a comma-separated list
(e.g. <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">0,1</strong>), as a range (e.g. <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">0-3</strong>), or any combination thereof
(e.g. <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">0-3,7,11-15</strong>).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">允许执行的 CPU。可以指定为逗号分隔的列表（例如 0,1），作为范围（例如 0-3），或两者的任意组合（例如 0-3,7,11-15）。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">On some systems, changing the resource limits may not be allowed for non-root
users. For more details, see
https://github.com/containers/podman/blob/main/troubleshooting.md#26-running-containers-with-resource-limits-fails-with-a-permissions-error<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在某些系统上，非 root 用户可能无法更改资源限制。有关更多详细信息，请参阅 https://github.com/containers/podman/blob/main/troubleshooting.md#26-running-containers-with-resource-limits-fails-with-a-permissions-error</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">This option is not supported on cgroups V1 rootless systems.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项不受 cgroups V1 无根系统支持。</font></font></font></p>
</section>
<section id="cpuset-mems-nodes" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--cpuset-mems</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">nodes</em><a class="headerlink" href="#cpuset-mems-nodes" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Memory nodes (MEMs) in which to allow execution (0-3, 0,1). Only effective on
NUMA systems.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">允许执行的内存节点（MEMs）（0-3, 0,1）。仅在 NUMA 系统上有效。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">If there are four memory nodes on the system (0-3), use <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--cpuset-mems=0,1</strong>
then processes in the container only uses memory from the first
two memory nodes.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果系统上有四个内存节点（0-3），则使用--cpuset-mems=0,1，然后容器中的进程仅使用来自前两个内存节点的内存。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">On some systems, changing the resource limits may not be allowed for non-root
users. For more details, see
https://github.com/containers/podman/blob/main/troubleshooting.md#26-running-containers-with-resource-limits-fails-with-a-permissions-error<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在某些系统上，非 root 用户可能无法更改资源限制。有关更多详细信息，请参阅 https://github.com/containers/podman/blob/main/troubleshooting.md#26-running-containers-with-resource-limits-fails-with-a-permissions-error</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">This option is not supported on cgroups V1 rootless systems.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项不支持在 cgroups V1 无根系统上。</font></font></font></p>
</section>
<section id="creds-username-password" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--creds</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">[username[:password]]</em><a class="headerlink" href="#creds-username-password" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--creds=[用户名[:密码]] ¶</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">The [username[:password]] to use to authenticate with the registry, if required.
If one or both values are not supplied, a command line prompt appears and the
value can be entered. The password is entered without echo.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果需要，用于与注册表进行身份验证的[用户名[:密码]]。如果一个或两个值未提供，将出现命令行提示，并可以输入该值。密码输入时不会显示。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Note that the specified credentials are only used to authenticate against
target registries.  They are not used for mirrors or when the registry gets
rewritten (see <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">containers-registries.conf(5)</span></code>); to authenticate against those
consider using a <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">containers-auth.json(5)</span></code> file.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，指定的凭据仅用于对目标注册表进行身份验证。它们不用于镜像或注册表被重写时（请参阅 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">containers-registries.conf(5)</span></code> ）；要对其进行身份验证，请考虑使用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">containers-auth.json(5)</span></code> 文件。</font></font></font></p>
</section>
<section id="cw-options" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--cw</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">options</em><a class="headerlink" href="#cw-options" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Produce an image suitable for use as a confidential workload running in a
trusted execution environment (TEE) using krun (i.e., <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">crun</em> built with the
libkrun feature enabled and invoked as <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">krun</em>).  Instead of the conventional
contents, the root filesystem of the image will contain an encrypted disk image
and configuration information for krun.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 krun 生成适用于在受信任执行环境（TEE）中运行的保密工作负载的镜像（即，使用启用了 libkrun 功能并作为 krun 调用的 crun）。镜像的根文件系统将包含加密的磁盘镜像和 krun 的配置信息，而不是传统的内容。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">The value for <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">options</em> is a comma-separated list of key=value pairs, supplying
configuration information which is needed for producing the additional data
which will be included in the container image.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">options 的值是一个逗号分隔的 key=value 对列表，提供配置信息，用于生成将包含在容器镜像中的附加数据所需的信息。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Recognized <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">keys</em> are:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可识别的键包括：</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">attestation_url</em>: The location of a key broker / attestation server.
If a value is specified, the new image’s workload ID, along with the passphrase
used to encrypt the disk image, will be registered with the server, and the
server’s location will be stored in the container image.
At run-time, krun is expected to contact the server to retrieve the passphrase
using the workload ID, which is also stored in the container image.
If no value is specified, a <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">passphrase</em> value <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">must</em> be specified.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">attestation_url: 密钥经纪人/认证服务器的位置。如果指定了值，则新镜像的工作负载 ID 以及用于加密磁盘镜像的密码将在服务器上注册，并且服务器的位置将存储在容器镜像中。在运行时，krun 预计会联系服务器，使用工作负载 ID 检索密码，该 ID 也存储在容器镜像中。如果未指定值，则必须指定密码值。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">cpus</em>: The number of virtual CPUs which the image expects to be run with at
run-time.  If not specified, a default value will be supplied.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">cpus: 镜像在运行时期望运行的虚拟 CPU 数。如果未指定，将提供默认值。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">firmware_library</em>: The location of the libkrunfw-sev shared library.  If not
specified, <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">buildah</span></code> checks for its presence in a number of hard-coded
locations.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">firmware_library: libkrunfw-sev 共享库的位置。如果未指定， <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">buildah</span></code> 将在一些硬编码的位置检查其存在。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">memory</em>: The amount of memory which the image expects to be run with at
run-time, as a number of megabytes.  If not specified, a default value will be
supplied.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">memory: 镜像在运行时期望运行的内存量，以兆字节为单位。如果未指定，将提供默认值。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">passphrase</em>: The passphrase to use to encrypt the disk image which will be
included in the container image.
If no value is specified, but an <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">attestation_url</em> value is specified, a
randomly-generated passphrase will be used.
The authors recommend setting an <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">attestation_url</em> but not a <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">passphrase</em>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">密码短语：用于加密磁盘映像的密码短语，该密码短语将包含在容器映像中。如果未指定任何值，但指定了 attestation_url 值，则将使用随机生成的密码短语。作者建议设置 attestation_url，但不设置密码短语。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">slop</em>: Extra space to allocate for the disk image compared to the size of the
container image’s contents, expressed either as a percentage (..%) or a size
value (bytes, or larger units if suffixes like KB or MB are present), or a sum
of two or more such specifications.  If not specified, <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">buildah</span></code> guesses that
25% more space than the contents will be enough, but this option is provided in
case its guess is wrong.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">slop：为磁盘映像分配的额外空间，与容器映像内容的大小相比，可以表示为百分比（..%）或大小值（字节，或者如果存在 KB 或 MB 等后缀，则为更大单位），或两个或更多这样的规范的总和。如果未指定， <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">buildah</span></code> 猜测比内容多 25% 的空间将足够，但提供此选项以防其猜测错误。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">type</em>: The type of trusted execution environment (TEE) which the image should
be marked for use with.  Accepted values are “SEV” (AMD Secure Encrypted
Virtualization - Encrypted State) and “SNP” (AMD Secure Encrypted
Virtualization - Secure Nested Paging).  If not specified, defaults to “SNP”.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">类型：应标记为可与之一起使用的受信任执行环境（TEE）的类型的映像。接受的值为“SEV”（AMD 安全加密虚拟化 - 加密状态）和“SNP”（AMD 安全加密虚拟化 - 安全嵌套分页）。如果未指定，默认为“SNP”。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">workload_id</em>: A workload identifier which will be recorded in the container
image, to be used at run-time for retrieving the passphrase which was used to
encrypt the disk image.  If not specified, a semi-random value will be derived
from the base image’s image ID.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">workload_id: 将记录在容器映像中的工作负载标识符，用于在运行时检索用于加密磁盘映像的密码。如果未指定，则将从基础映像的映像 ID 派生出一个半随机值。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">This option is not supported on the remote client, including Mac and Windows
(excluding WSL2) machines.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项不受远程客户端支持，包括 Mac 和 Windows（不包括 WSL2）机器。</font></font></font></p>
</section>
<section id="decryption-key-key-passphrase" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--decryption-key</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">key[:passphrase]</em><a class="headerlink" href="#decryption-key-key-passphrase" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">The [key[:passphrase]] to be used for decryption of images. Key can point to keys and/or certificates. Decryption is tried with all keys. If the key is protected by a passphrase, it is required to be passed in the argument and omitted otherwise.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用于解密图像的密钥[:密码]。密钥可以指向密钥和/或证书。尝试使用所有密钥进行解密。如果密钥受密码保护，则需要在参数中传递密码，否则应省略。</font></font></font></p>
</section>
<section id="device-host-device-container-device-permissions" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--device</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">host-device[:container-device][:permissions]</em><a class="headerlink" href="#device-host-device-container-device-permissions" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--device=主机设备[:容器设备][:权限] ¶</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Add a host device to the container. Optional <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">permissions</em> parameter
can be used to specify device permissions by combining
<strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">r</strong> for read, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">w</strong> for write, and <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">m</strong> for <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">mknod</strong>(2).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将主机设备添加到容器中。可选的权限参数可用于通过组合 r 代表读取，w 代表写入，m 代表 mknod(2) 来指定设备权限。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Example: <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--device=/dev/sdc:/dev/xvdc:rwm</strong>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例: --device=/dev/sdc:/dev/xvdc:rwm.</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Note: if <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">host-device</em> is a symbolic link then it is resolved first.
The container only stores the major and minor numbers of the host device.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意: 如果主机设备是一个符号链接，则首先解析它。容器仅存储主机设备的主次编号。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Podman may load kernel modules required for using the specified
device. The devices that Podman loads modules for when necessary are:
/dev/fuse.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Podman 可能会加载使用指定设备所需的内核模块。Podman 在必要时加载模块的设备有: /dev/fuse。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">In rootless mode, the new device is bind mounted in the container from the host
rather than Podman creating it within the container space. Because the bind
mount retains its SELinux label on SELinux systems, the container can get
permission denied when accessing the mounted device. Modify SELinux settings to
allow containers to use all device labels via the following command:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在无根模式下，新设备是从主机中绑定挂载到容器中，而不是 Podman 在容器空间内创建它。由于绑定挂载在 SELinux 系统上保留其 SELinux 标签，当容器访问挂载的设备时可能会出现权限被拒绝的情况。通过以下命令修改 SELinux 设置以允许容器使用所有设备标签：</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">$ sudo setsebool -P  container_use_devices=true</p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Note: if the user only has access rights via a group, accessing the device
from inside a rootless container fails. The <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference external" href="https://github.com/containers/crun/tree/main/crun.1.md" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">crun(1)</a></strong> runtime offers a
workaround for this by adding the option
<strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--annotation run.oci.keep_original_groups=1</strong>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：如果用户只有通过组访问权限，则无法从无根容器内访问设备。crun(1) 运行时提供了一个解决方法，通过添加选项 --annotation run.oci.keep_original_groups=1。</font></font></font></p>
</section>
<section id="disable-compression-d" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--disable-compression</strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">-D</strong><a class="headerlink" href="#disable-compression-d" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Don’t compress filesystem layers when building the image unless it is required
by the location where the image is being written.  This is the default setting,
because image layers are compressed automatically when they are pushed to
registries, and images being written to local storage only need to be
decompressed again to be stored.  Compression can be forced in all cases by
specifying <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--disable-compression=false</strong>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在构建镜像时，除非在写入镜像的位置需要，否则不要压缩文件系统层。这是默认设置，因为当图像推送到注册表时，图像层会自动压缩，并且写入本地存储的图像只需要再次解压缩即可存储。可以通过指定 --disable-compression=false 强制在所有情况下进行压缩。</font></font></font></p>
</section>
<section id="disable-content-trust" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--disable-content-trust</strong><a class="headerlink" href="#disable-content-trust" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">This is a Docker-specific option to disable image verification to a container
registry and is not supported by Podman. This option is a NOOP and provided
solely for scripting compatibility.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这是一个 Docker 特定选项，用于禁用对容器注册表的镜像验证，不受 Podman 支持。此选项是一个 NOOP，并且仅用于脚本兼容性。</font></font></font></p>
</section>
<section id="dns-ipaddr" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--dns</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">ipaddr</em><a class="headerlink" href="#dns-ipaddr" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Set custom DNS servers.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置自定义 DNS 服务器。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">This option can be used to override the DNS
configuration passed to the container. Typically this is necessary when the
host DNS configuration is invalid for the container (e.g., <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">127.0.0.1</strong>). When this
is the case the <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--dns</strong> flag is necessary for every run.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项可用于覆盖传递给容器的 DNS 配置。通常在主机 DNS 配置对容器无效时（例如，127.0.0.1）需要使用此选项。在这种情况下，每次运行都需要使用 --dns 标志。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">The special value <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">none</strong> can be specified to disable creation of <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">/etc/resolv.conf</em> in the container by Podman.
The <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">/etc/resolv.conf</em> file in the image is used without changes.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可以指定特殊值 none 来禁用 Podman 在容器中创建 /etc/resolv.conf。镜像中的 /etc/resolv.conf 文件将不会更改地使用。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">This option cannot be combined with <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--network</strong> that is set to <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">none</strong>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项不能与设置为 none 的 --network 结合使用。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Note: this option takes effect only during <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">RUN</em> instructions in the build.
It does not affect <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">/etc/resolv.conf</em> in the final image.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：此选项仅在构建中的运行指令期间生效。它不会影响最终镜像中的 /etc/resolv.conf。</font></font></font></p>
</section>
<section id="dns-option-option" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--dns-option</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">option</em><a class="headerlink" href="#dns-option-option" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Set custom DNS options to be used during the build.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置在构建过程中使用的自定义 DNS 选项。</font></font></font></p>
</section>
<section id="dns-search-domain" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--dns-search</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">domain</em><a class="headerlink" href="#dns-search-domain" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--dns-search=域名 ¶</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Set custom DNS search domains to be used during the build.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置在构建过程中使用的自定义 DNS 搜索域。</font></font></font></p>
</section>
<section id="env-env-value" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--env</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">env[=value]</em><a class="headerlink" href="#env-env-value" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Add a value (e.g. env=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">value</em>) to the built image.  Can be used multiple times.
If neither <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">=</span></code> nor a <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">value</em> are specified, but <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">env</em> is set in the current
environment, the value from the current environment is added to the image.
To remove an environment variable from the built image, use the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--unsetenv</span></code>
option.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将一个值（例如 env=value）添加到构建的镜像中。可以多次使用。如果未指定 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">=</span></code> 或值，但当前环境中设置了 env，则将当前环境中的值添加到镜像中。要从构建的镜像中删除环境变量，请使用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--unsetenv</span></code> 选项。</font></font></font></p>
</section>
<section id="file-f-containerfile" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--file</strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">-f</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">Containerfile</em><a class="headerlink" href="#file-f-containerfile" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Specifies a Containerfile which contains instructions for building the image,
either a local file or an <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">http</strong> or <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">https</strong> URL.  If more than one
Containerfile is specified, <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">FROM</em> instructions are only be accepted from the
last specified file.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定一个 Containerfile，其中包含构建镜像的指令，可以是本地文件或 http 或 https URL。如果指定了多个 Containerfile，则仅从最后指定的文件中接受 FROM 指令。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">If a build context is not specified, and at least one Containerfile is a
local file, the directory in which it resides is used as the build
context.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果未指定构建上下文，并且至少有一个 Containerfile 是本地文件，则使用其所在的目录作为构建上下文。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Specifying the option <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">-f</span> <span class="pre">-</span></code> causes the Containerfile contents to be read from stdin.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定选项 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">-f</span> <span class="pre">-</span></code> 会导致从标准输入读取 Containerfile 内容。</font></font></font></p>
</section>
<section id="force-rm" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--force-rm</strong><a class="headerlink" href="#force-rm" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Always remove intermediate containers after a build, even if the build fails (default true).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">构建后始终删除中间容器，即使构建失败（默认为 true）。</font></font></font></p>
</section>
<section id="format" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--format</strong><a class="headerlink" href="#format" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Control the format for the built image’s manifest and configuration data.
Recognized formats include <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">oci</em> (OCI image-spec v1.0, the default) and
<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">docker</em> (version 2, using schema format 2 for the manifest).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">控制构建图像的清单和配置数据的格式。可识别的格式包括 oci（OCI 图像规范 v1.0，默认值）和 docker（版本 2，使用清单的模式格式 2）。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Note: You can also override the default format by setting the BUILDAH_FORMAT
environment variable.  <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">export</span> <span class="pre">BUILDAH_FORMAT=docker</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：您还可以通过设置 BUILDAH_FORMAT 环境变量来覆盖默认格式。 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">export</span> <span class="pre">BUILDAH_FORMAT=docker</span></code> </font></font></font></p>
</section>
<section id="from" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--from</strong><a class="headerlink" href="#from" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Overrides the first <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">FROM</span></code> instruction within the Containerfile.  If there are multiple
FROM instructions in a Containerfile, only the first is changed.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">覆盖 Containerfile 中的第一个 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">FROM</span></code> 指令。如果在 Containerfile 中有多个 FROM 指令，则只更改第一个。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">With the remote podman client, not all container transports work as
expected. For example, oci-archive:/x.tar references /x.tar on the remote
machine instead of on the client. When using podman remote clients it is
best to restrict use to <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">containers-storage</em>, and <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">docker:// transports</em>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用远程 podman 客户端时，并非所有容器传输都能按预期工作。例如，oci-archive:/x.tar 引用的是远程机器上的 /x.tar 而不是客户端上的。在使用 podman 远程客户端时，最好限制使用 containers-storage 和 docker:// 传输。</font></font></font></p>
</section>
<section id="group-add-group-keep-groups" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--group-add</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">group</em> | <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">keep-groups</em><a class="headerlink" href="#group-add-group-keep-groups" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Assign additional groups to the primary user running within the container process.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">为运行在容器进程内的主要用户分配额外的组。</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">keep-groups</span></code> is a special flag that tells Podman to keep the supplementary group access.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">keep-groups</span></code> 是一个特殊标志，告诉 Podman 保持附加组访问权限。</font></font></font></p></li>
</ul>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Allows container to use the user’s supplementary group access. If file systems or
devices are only accessible by the rootless user’s group, this flag tells the OCI
runtime to pass the group access into the container. Currently only available
with the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">crun</span></code> OCI runtime. Note: <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">keep-groups</span></code> is exclusive, other groups cannot be specified
with this flag. (Not available for remote commands, including Mac and Windows (excluding WSL2) machines)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">允许容器使用用户的附加组访问权限。如果文件系统或设备仅可由无根用户组访问，则此标志告诉 OCI 运行时将组访问权限传递到容器中。目前仅适用于 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">crun</span></code> OCI 运行时。注意： <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">keep-groups</span></code> 是独占的，其他组不能与此标志一起指定。（不适用于远程命令，包括 Mac 和 Windows（不包括 WSL2）机器）</font></font></font></p>
</section>
<section id="help-h" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--help</strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">-h</strong><a class="headerlink" href="#help-h" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--help，-h ¶</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Print usage statement<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">打印使用说明</font></font></font></p>
</section>
<section id="hooks-dir-path" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--hooks-dir</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">path</em><a class="headerlink" href="#hooks-dir-path" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Each *.json file in the path configures a hook for buildah build containers. For more details on the syntax of the JSON files and the semantics of hook injection. Buildah currently support both the 1.0.0 and 0.1.0 hook schemas, although the 0.1.0 schema is deprecated.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">路径中的每个 *.json 文件都配置了用于构建 buildah 构建容器的钩子。有关 JSON 文件语法和钩子注入语义的更多详细信息。Buildah 目前支持 1.0.0 和 0.1.0 两种钩子模式，尽管 0.1.0 模式已被弃用。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">This option may be set multiple times; paths from later options have higher precedence.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项可以设置多次；后续选项中的路径具有更高的优先级。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">For the annotation conditions, buildah uses any annotations set in the generated OCI configuration.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">对于注释条件，buildah 使用在生成的 OCI 配置中设置的任何注释。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">For the bind-mount conditions, only mounts explicitly requested by the caller via --volume are considered. Bind mounts that buildah inserts by default (e.g. /dev/shm) are not considered.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">对于绑定挂载条件，只考虑调用者通过 --volume 明确请求的挂载。buildah 默认插入的绑定挂载（例如 /dev/shm）不予考虑。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">If --hooks-dir is unset for root callers, Buildah currently defaults to /usr/share/containers/oci/hooks.d and /etc/containers/oci/hooks.d in order of increasing precedence. Using these defaults is deprecated. Migrate to explicitly setting --hooks-dir.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果 --hooks-dir 未设置给根调用者，Buildah 目前默认为 /usr/share/containers/oci/hooks.d 和 /etc/containers/oci/hooks.d，按优先级递增的顺序。使用这些默认值已被弃用。请迁移到显式设置 --hooks-dir。</font></font></font></p>
</section>
<section id="http-proxy" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--http-proxy</strong><a class="headerlink" href="#http-proxy" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">By default proxy environment variables are passed into the container if set
for the Podman process. This can be disabled by setting the value to <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">false</strong>.
The environment variables passed in include <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">http_proxy</strong>,
<strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">https_proxy</strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">ftp_proxy</strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">no_proxy</strong>, and also the upper case versions of
those. This option is only needed when the host system must use a proxy but
the container does not use any proxy. Proxy environment variables specified
for the container in any other way overrides the values that have
been passed through from the host. (Other ways to specify the proxy for the
container include passing the values with the <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--env</strong> flag, or hard coding the
proxy environment at container build time.)
When used with the remote client it uses the proxy environment variables
that are set on the server process.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">默认情况下，如果为 Podman 进程设置了代理环境变量，则这些变量将传递到容器中。可以通过将值设置为 false 来禁用此功能。传递的环境变量包括 http_proxy、https_proxy、ftp_proxy、no_proxy，以及这些变量的大写版本。只有在主机系统必须使用代理但容器不使用任何代理时才需要此选项。以其他方式为容器指定的代理环境变量将覆盖从主机传递的值。（为容器指定代理的其他方式包括使用 --env 标志传递值，或在容器构建时硬编码代理环境。）与远程客户端一起使用时，它使用在服务器进程上设置的代理环境变量。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Defaults to <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">true</strong>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">默认为真。</font></font></font></p>
</section>
<section id="identity-label" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--identity-label</strong><a class="headerlink" href="#identity-label" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Adds default identity label <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">io.buildah.version</span></code> if set. (default true).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果设置，添加默认身份标签 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">io.buildah.version</span></code> 。（默认为真）。</font></font></font></p>
</section>
<section id="ignorefile" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--ignorefile</strong><a class="headerlink" href="#ignorefile" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Path to an alternative .containerignore file.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">替代的 .containerignore 文件路径。</font></font></font></p>
</section>
<section id="iidfile-imageidfile" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--iidfile</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">ImageIDfile</em><a class="headerlink" href="#iidfile-imageidfile" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Write the built image’s ID to the file.  When <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--platform</span></code> is specified more than once, attempting to use this option triggers an error.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将构建的镜像 ID 写入文件。当指定 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--platform</span></code> 多次时，尝试使用此选项会触发错误。</font></font></font></p>
</section>
<section id="ipc-how" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--ipc</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">how</em><a class="headerlink" href="#ipc-how" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Sets the configuration for IPC namespaces when handling <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> instructions.
The configured value can be “” (the empty string) or “container” to indicate
that a new IPC namespace is created, or it can be “host” to indicate
that the IPC namespace in which <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span></code> itself is being run is reused,
or it can be the path to an IPC namespace which is already in use by
another process.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在处理 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> 指令时设置 IPC 命名空间的配置。配置的值可以是“”（空字符串）或“container”表示创建新的 IPC 命名空间，也可以是“host”表示重用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span></code> 自身正在运行的 IPC 命名空间，或者可以是已被另一个进程使用的 IPC 命名空间的路径。</font></font></font></p>
</section>
<section id="isolation-type" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--isolation</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">type</em><a class="headerlink" href="#isolation-type" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Controls what type of isolation is used for running processes as part of <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code>
instructions.  Recognized types include <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">oci</em> (OCI-compatible runtime, the
default), <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">rootless</em> (OCI-compatible runtime invoked using a modified
configuration and its --rootless option enabled, with <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--no-new-keyring
--no-pivot</em> added to its <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">create</em> invocation, with network and UTS namespaces
disabled, and IPC, PID, and user namespaces enabled; the default for
unprivileged users), and <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">chroot</em> (an internal wrapper that leans more toward
chroot(1) than container technology).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">控制作为 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> 指令的一部分运行进程时使用的隔离类型。可识别的类型包括 oci（OCI 兼容运行时，默认值）、rootless（使用修改后的配置和其--rootless 选项启用的 OCI 兼容运行时，其 create 调用中添加了--no-new-keyring --no-pivot，网络和 UTS 命名空间被禁用，IPC、PID 和用户命名空间被启用；非特权用户的默认值）和 chroot（更倾向于 chroot(1)而不是容器技术的内部包装器）。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Note: You can also override the default isolation type by setting the
BUILDAH_ISOLATION environment variable.  <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">export</span> <span class="pre">BUILDAH_ISOLATION=oci</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：您还可以通过设置 BUILDAH_ISOLATION 环境变量来覆盖默认的隔离类型。 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">export</span> <span class="pre">BUILDAH_ISOLATION=oci</span></code> </font></font></font></p>
</section>
<section id="jobs-number" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--jobs</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">number</em><a class="headerlink" href="#jobs-number" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Run up to N concurrent stages in parallel.  If the number of jobs is greater
than 1, stdin is read from /dev/null.  If 0 is specified, then there is
no limit in the number of jobs that run in parallel.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在并行运行最多 N 个阶段。如果作业数量大于 1，则从 /dev/null 读取标准输入。如果指定为 0，则并行运行的作业数量没有限制。</font></font></font></p>
</section>
<section id="label-label" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--label</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">label</em><a class="headerlink" href="#label-label" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Add an image <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">label</em> (e.g. label=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">value</em>) to the image metadata. Can be used
multiple times.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将图像标签（例如 label=value）添加到图像元数据中。可以多次使用。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Users can set a special LABEL <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">io.containers.capabilities=CAP1,CAP2,CAP3</strong> in
a Containerfile that specifies the list of Linux capabilities required for the
container to run properly. This label specified in a container image tells
Podman to run the container with just these capabilities. Podman launches the
container with just the specified capabilities, as long as this list of
capabilities is a subset of the default list.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用户可以在 Containerfile 中设置特殊的 LABEL io.containers.capabilities=CAP1,CAP2,CAP3，指定容器运行所需的 Linux 能力列表。在容器镜像中指定的此标签告诉 Podman 仅使用这些能力运行容器。只要这些能力列表是默认列表的子集，Podman 就会使用指定的能力启动容器。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">If the specified capabilities are not in the default set, Podman prints an error
message and runs the container with the default capabilities.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果指定的能力不在默认集中，Podman 将打印错误消息，并使用默认能力运行容器。</font></font></font></p>
</section>
<section id="layer-label-label-value" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--layer-label</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">label[=value]</em><a class="headerlink" href="#layer-label-label-value" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Add an intermediate image <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">label</em> (e.g. label=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">value</em>) to the intermediate
image metadata. It can be used multiple times.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">向中间镜像元数据添加一个中间镜像标签（例如 label=value）。可以多次使用。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">If <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">label</em> is named, but neither <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">=</span></code> nor a <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">value</span></code> is provided, then
the <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">label</em> is set to an empty value.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果标签已命名，但未提供 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">=</span></code> 或 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">value</span></code> ，则该标签将设置为空值。</font></font></font></p>
</section>
<section id="layers" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--layers</strong><a class="headerlink" href="#layers" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Cache intermediate images during the build process (Default is <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">true</span></code>).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在构建过程中缓存中间图像（默认值为 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">true</span></code> ）。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Note: You can also override the default value of layers by setting the
BUILDAH_LAYERS environment variable. <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">export</span> <span class="pre">BUILDAH_LAYERS=true</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：您也可以通过设置 BUILDAH_LAYERS 环境变量来覆盖层的默认值。 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">export</span> <span class="pre">BUILDAH_LAYERS=true</span></code> </font></font></font></p>
</section>
<section id="logfile-filename" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--logfile</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">filename</em><a class="headerlink" href="#logfile-filename" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--logfile=文件名 ¶</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Log output which is sent to standard output and standard error to the
specified file instead of to standard output and standard error.
This option is not supported on the remote client, including Mac and Windows (excluding WSL2) machines.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将发送到标准输出和标准错误的日志输出发送到指定文件，而不是发送到标准输出和标准错误。此选项不受远程客户端支持，包括 Mac 和 Windows（不包括 WSL2）机器。</font></font></font></p>
</section>
<section id="logsplit-bool-value" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--logsplit</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">bool-value</em><a class="headerlink" href="#logsplit-bool-value" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--logsplit=布尔值 ¶</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">If <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--logfile</span></code> and <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--platform</span></code> are specified, the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--logsplit</span></code> option allows
end-users to split the log file for each platform into different files in the
following format: <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">${logfile}_${platform-os}_${platform-arch}</span></code>.
This option is not supported on the remote client, including Mac and Windows
(excluding WSL2) machines.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果指定了 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--logfile</span></code> 和 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--platform</span></code> ，则 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--logsplit</span></code> 选项允许最终用户将每个平台的日志文件拆分为以下格式的不同文件： <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">${logfile}_${platform-os}_${platform-arch}</span></code> 。此选项不受支持在远程客户端上，包括 Mac 和 Windows（不包括 WSL2）机器。</font></font></font></p>
</section>
<section id="manifest-manifest" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--manifest</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">manifest</em><a class="headerlink" href="#manifest-manifest" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--manifest=清单 ¶</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Name of the manifest list to which the image is added. Creates the manifest list if it does not exist. This option is useful for building multi architecture images.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要将图像添加到的清单列表的名称。如果清单列表不存在，则创建清单列表。此选项对于构建多架构图像非常有用。</font></font></font></p>
</section>
<section id="memory-m-number-unit" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--memory</strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">-m</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">number[unit]</em><a class="headerlink" href="#memory-m-number-unit" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--memory, -m=数字[单位] ¶</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Memory limit. A <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">unit</em> can be <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">b</strong> (bytes), <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">k</strong> (kibibytes), <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">m</strong> (mebibytes), or <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">g</strong> (gibibytes).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内存限制。单位可以是 b（字节）、k（基比字节）、m（兆比字节）或 g（吉比字节）。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Allows the memory available to a container to be constrained. If the host
supports swap memory, then the <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">-m</strong> memory setting can be larger than physical
RAM. If a limit of 0 is specified (not using <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">-m</strong>), the container’s memory is
not limited. The actual limit may be rounded up to a multiple of the operating
system’s page size (the value is very large, that’s millions of trillions).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">允许限制容器可用的内存。如果主机支持交换内存，那么 -m 内存设置可以大于物理 RAM。如果指定了 0 的限制（不使用 -m），则容器的内存不受限制。实际限制可能会舍入到操作系统页面大小的倍数（该值非常大，是百万亿的数量级）。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">This option is not supported on cgroups V1 rootless systems.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项不支持 cgroups V1 无根系统。</font></font></font></p>
</section>
<section id="memory-swap-number-unit" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--memory-swap</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">number[unit]</em><a class="headerlink" href="#memory-swap-number-unit" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">A limit value equal to memory plus swap.
A <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">unit</em> can be <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">b</strong> (bytes), <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">k</strong> (kibibytes), <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">m</strong> (mebibytes), or <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">g</strong> (gibibytes).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一个等于内存加交换空间的限制值。单位可以是 b（字节）、k（kibibytes）、m（mebibytes）或 g（gibibytes）。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Must be used with the <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">-m</strong> (<strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--memory</strong>) flag.
The argument value must be larger than that of
<strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">-m</strong> (<strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--memory</strong>) By default, it is set to double
the value of <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--memory</strong>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">必须与 -m (--memory) 标志一起使用。参数值必须大于 -m (--memory) 的值。默认情况下，它设置为 --memory 值的两倍。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Set <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">number</em> to <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">-1</strong> to enable unlimited swap.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将数字设置为 -1 以启用无限交换。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">This option is not supported on cgroups V1 rootless systems.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项不支持 cgroups V1 无根系统。</font></font></font></p>
</section>
<section id="network-mode-net" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--network</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">mode</em>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--net</strong><a class="headerlink" href="#network-mode-net" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Sets the configuration for network namespaces when handling <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> instructions.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置处理 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> 指令时的网络命名空间配置。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Valid <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">mode</em> values are:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">有效的模式值为：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">none</strong>: no networking.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">无：无网络连接。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">host</strong>: use the Podman host network stack. Note: the host mode gives the
container full access to local system services such as D-bus and is therefore
considered insecure.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">主机：使用 Podman 主机网络堆栈。注意：主机模式使容器完全访问本地系统服务，如 D-bus，因此被视为不安全。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">ns:</strong><em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">path</em>: path to a network namespace to join.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">ns:路径：要加入的网络命名空间的路径。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">private</strong>: create a new namespace for the container (default)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">private: 为容器创建一个新的命名空间（默认）</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">&lt;network name|ID&gt;</strong>: Join the network with the given name or ID, e.g. use <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--network</span> <span class="pre">mynet</span></code> to join the network with the name mynet. Only supported for rootful users.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">: 加入具有给定名称或 ID 的网络，例如，使用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--network</span> <span class="pre">mynet</span></code> 加入名称为 mynet 的网络。仅支持 rootful 用户。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">slirp4netns[:OPTIONS,…]</strong>: use <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">slirp4netns</strong>(1) to create a user network stack. This is the default for rootless containers. It is possible to specify these additional options, they can also be set with <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">network_cmd_options</span></code> in containers.conf:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">slirp4netns[:OPTIONS,…]: 使用 slirp4netns(1) 创建用户网络堆栈。这是无根容器的默认设置。可以指定这些附加选项，它们也可以在 containers.conf 中使用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">network_cmd_options</span></code> 进行设置：</font></font></font></p>
<ul data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">allow_host_loopback=true|false</strong>: Allow slirp4netns to reach the host loopback IP (default is 10.0.2.2 or the second IP from slirp4netns cidr subnet when changed, see the cidr option below). The default is false.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">allow_host_loopback=true|false: 允许 slirp4netns 访问主机环回 IP（默认为 10.0.2.2 或 slirp4netns cidr 子网中的第二个 IP，当更改时，请参阅下面的 cidr 选项）。默认值为 false。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">mtu=MTU</strong>: Specify the MTU to use for this network. (Default is <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">65520</span></code>).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">mtu=MTU: 指定此网络使用的 MTU。（默认值为 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">65520</span></code> ）。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">cidr=CIDR</strong>: Specify ip range to use for this network. (Default is <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">10.0.2.0/24</span></code>).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">cidr=CIDR: 指定用于此网络的 IP 范围。（默认值为 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">10.0.2.0/24</span></code> ）。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">enable_ipv6=true|false</strong>: Enable IPv6. Default is true. (Required for <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">outbound_addr6</span></code>).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">enable_ipv6=true|false: 启用 IPv6。默认为 true。（ <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">outbound_addr6</span></code> 所需）。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">outbound_addr=INTERFACE</strong>: Specify the outbound interface slirp binds to (ipv4 traffic only).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">outbound_addr=INTERFACE: 指定 slirp 绑定到的出站接口（仅限 IPv4 流量）。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">outbound_addr=IPv4</strong>: Specify the outbound ipv4 address slirp binds to.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">outbound_addr=IPv4: 指定 slirp 绑定到的出站 IPv4 地址。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">outbound_addr6=INTERFACE</strong>: Specify the outbound interface slirp binds to (ipv6 traffic only).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">outbound_addr6=INTERFACE: 指定 slirp 绑定到的出站接口（仅限 IPv6 交通）。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">outbound_addr6=IPv6</strong>: Specify the outbound ipv6 address slirp binds to.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">outbound_addr6=IPv6: 指定 slirp 绑定到的出站 IPv6 地址。</font></font></font></p></li>
</ul>
</li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">pasta[:OPTIONS,…]</strong>: use <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">pasta</strong>(1) to create a user-mode networking
stack. <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">pasta[:OPTIONS,…]: 使用 pasta(1) 创建用户模式网络堆栈。</font></font></font><br data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
This is only supported in rootless mode. <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这仅在无根模式下支持。</font></font></font><br data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
By default, IPv4 and IPv6 addresses and routes, as well as the pod interface
name, are copied from the host. If port forwarding isn’t configured, ports
are forwarded dynamically as services are bound on either side (init
namespace or container namespace). Port forwarding preserves the original
source IP address. Options described in pasta(1) can be specified as
comma-separated arguments. <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">默认情况下，IPv4 和 IPv6 地址和路由以及 Pod 接口名称都从主机复制。如果未配置端口转发，则端口将在两侧绑定服务时动态转发（init 命名空间或容器命名空间）。端口转发会保留原始源 IP 地址。可以将 pasta(1)中描述的选项指定为逗号分隔的参数。</font></font></font><br data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
In terms of pasta(1) options, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--config-net</strong> is given by default, in
order to configure networking when the container is started, and
<strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--no-map-gw</strong> is also assumed by default, to avoid direct access from
container to host using the gateway address. The latter can be overridden
by passing <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--map-gw</strong> in the pasta-specific options (despite not being an
actual pasta(1) option). <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 pasta(1)选项方面，默认情况下会提供--config-net，以便在启动容器时配置网络，并且默认情况下也会假定--no-map-gw，以避免容器直接使用网关地址访问主机。后者可以通过在 pasta 特定选项中传递--map-gw 来覆盖（尽管这不是实际的 pasta(1)选项）。</font></font></font><br data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
Also, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">-t none</strong> and <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">-u none</strong> are passed to disable
automatic port forwarding based on bound ports. Similarly, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">-T none</strong> and
<strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">-U none</strong> are given to disable the same functionality from container to
host. <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此外，-t none 和 -u none 被传递以禁用基于绑定端口的自动端口转发。类似地，-T none 和 -U none 被给予以禁用容器到主机的相同功能。</font></font></font><br data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
Some examples:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一些例子：</font></font></font></p>
<ul data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">pasta:--map-gw</strong>: Allow the container to directly reach the host using the
gateway address.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">pasta:--map-gw: 允许容器直接使用网关地址访问主机。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">pasta:--mtu,1500</strong>: Specify a 1500 bytes MTU for the <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">tap</em> interface in
the container.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">pasta:--mtu,1500: 为容器中的 tap 接口指定一个 1500 字节的 MTU。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">pasta:--ipv4-only,-a,10.0.2.0,-n,24,-g,10.0.2.2,--dns-forward,10.0.2.3,-m,1500,--no-ndp,--no-dhcpv6,--no-dhcp</strong>,
equivalent to default slirp4netns(1) options: disable IPv6, assign
<code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">10.0.2.0/24</span></code> to the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">tap0</span></code> interface in the container, with gateway
<code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">10.0.2.3</span></code>, enable DNS forwarder reachable at <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">10.0.2.3</span></code>, set MTU to 1500
bytes, disable NDP, DHCPv6 and DHCP support.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">pasta:--ipv4-only,-a,10.0.2.0,-n,24,-g,10.0.2.2,--dns-forward,10.0.2.3,-m,1500,--no-ndp,--no-dhcpv6,--no-dhcp, 等同于默认的 slirp4netns(1) 选项：禁用 IPv6，在容器中为 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">tap0</span></code> 接口分配 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">10.0.2.0/24</span></code> ，使用网关 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">10.0.2.3</span></code> ，启用可在 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">10.0.2.3</span></code> 访问的 DNS 转发器，将 MTU 设置为 1500 字节，禁用 NDP、DHCPv6 和 DHCP 支持。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">pasta:-I,tap0,--ipv4-only,-a,10.0.2.0,-n,24,-g,10.0.2.2,--dns-forward,10.0.2.3,--no-ndp,--no-dhcpv6,--no-dhcp</strong>,
equivalent to default slirp4netns(1) options with Podman overrides: same as
above, but leave the MTU to 65520 bytes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">pasta:-I,tap0,--ipv4-only,-a,10.0.2.0,-n,24,-g,10.0.2.2,--dns-forward,10.0.2.3,--no-ndp,--no-dhcpv6,--no-dhcp, 等同于默认的 slirp4netns(1) 选项，但具有 Podman 覆盖：与上述相同，但将 MTU 保留为 65520 字节。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">pasta:-t,auto,-u,auto,-T,auto,-U,auto</strong>: enable automatic port forwarding
based on observed bound ports from both host and container sides<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">pasta:-t,auto,-u,auto,-T,auto,-U,auto: 根据主机和容器双方观察到的绑定端口启用自动端口转发</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">pasta:-T,5201</strong>: enable forwarding of TCP port 5201 from container to
host, using the loopback interface instead of the tap interface for improved
performance<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">pasta:-T,5201: 启用将容器中的 TCP 端口 5201 转发到主机，使用环回接口而不是 tap 接口以提高性能</font></font></font></p></li>
</ul>
</li>
</ul>
</section>
<section id="no-cache" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--no-cache</strong><a class="headerlink" href="#no-cache" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--no-cache</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Do not use existing cached images for the container build. Build from the start with a new set of cached layers.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不要在容器构建中使用现有的缓存图像。使用一组新的缓存层从头开始构建。</font></font></font></p>
</section>
<section id="no-hostname" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--no-hostname</strong><a class="headerlink" href="#no-hostname" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Do not create the <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">/etc/hostname</em> file in the container for RUN instructions.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不要为 RUN 指令在容器中创建 /etc/hostname 文件。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">By default, Buildah manages the <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">/etc/hostname</em> file, adding the container’s own hostname.  When the <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--no-hostname</strong> option is set, the image’s <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">/etc/hostname</em> will be preserved unmodified if it exists.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">默认情况下，Buildah 管理 /etc/hostname 文件，添加容器自己的主机名。当设置 --no-hostname 选项时，如果存在，将保留镜像的 /etc/hostname 文件，不做修改。</font></font></font></p>
</section>
<section id="no-hosts" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--no-hosts</strong><a class="headerlink" href="#no-hosts" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Do not create <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">/etc/hosts</em> for the container.
By default, Podman manages <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">/etc/hosts</em>, adding the container’s own IP address and any hosts from <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--add-host</strong>.
<strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--no-hosts</strong> disables this, and the image’s <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">/etc/hosts</em> is preserved unmodified.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不为容器创建 /etc/hosts。默认情况下，Podman 管理 /etc/hosts，添加容器自己的 IP 地址和任何来自 --add-host 的主机。--no-hosts 禁用此功能，镜像的 /etc/hosts 将保持不变。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">This option conflicts with <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--add-host</strong>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项与 --add-host 冲突。</font></font></font></p>
</section>
<section id="omit-history" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--omit-history</strong><a class="headerlink" href="#omit-history" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Omit build history information in the built image. (default false).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在构建的镜像中省略构建历史信息。（默认为 false）。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">This option is useful for the cases where end users explicitly
want to set <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--omit-history</span></code> to omit the optional <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">History</span></code> from
built images or when working with images built using build tools that
do not include <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">History</span></code> information in their images.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项对于最终用户明确希望将 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--omit-history</span></code> 设置为省略内置映像中的可选项 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">History</span></code> 或者在使用不包含 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">History</span></code> 信息的构建工具构建的映像时非常有用。</font></font></font></p>
</section>
<section id="os-string" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--os</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">string</em><a class="headerlink" href="#os-string" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Set the OS of the image to be built, and that of the base image to be pulled, if the build uses one, instead of using the current operating system of the build host. Unless overridden, subsequent lookups of the same image in the local storage matches this OS, regardless of the host.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置要构建的映像的操作系统，以及要拉取的基础映像的操作系统（如果构建使用基础映像），而不是使用构建主机的当前操作系统。除非被覆盖，否则在本地存储中查找相同映像的后续查找将匹配此操作系统，而不考虑主机。</font></font></font></p>
</section>
<section id="os-feature-feature" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--os-feature</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">feature</em><a class="headerlink" href="#os-feature-feature" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--os-feature=功能 ¶</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Set the name of a required operating system <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">feature</em> for the image which is built.  By default, if the image is not based on <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">scratch</em>, the base image’s required OS feature list is kept, if the base image specified any.  This option is typically only meaningful when the image’s OS is Windows.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置构建的镜像所需的操作系统功能的名称。默认情况下，如果镜像不是基于 scratch 构建的，则保留基础镜像的所需 OS 功能列表（如果基础镜像指定了任何）。此选项通常仅在镜像的操作系统为 Windows 时才有意义。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">If <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">feature</em> has a trailing <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">-</span></code>, then the <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">feature</em> is removed from the set of required features which is listed in the image.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果功能后面有一个尾随的 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">-</span></code> ，则该功能将从列在镜像中的所需功能集中移除。</font></font></font></p>
</section>
<section id="os-version-version" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--os-version</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">version</em><a class="headerlink" href="#os-version-version" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--os-version=版本 ¶</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Set the exact required operating system <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">version</em> for the image which is built.  By default, if the image is not based on <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">scratch</em>, the base image’s required OS version is kept, if the base image specified one.  This option is typically only meaningful when the image’s OS is Windows, and is typically set in Windows base images, so using this option is usually unnecessary.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置构建的镜像所需的确切操作系统版本。默认情况下，如果镜像不是基于 scratch 构建的，则保留基础镜像所需的操作系统版本（如果基础镜像指定了版本）。此选项通常仅在镜像的操作系统为 Windows 时才有意义，并且通常在 Windows 基础镜像中设置，因此通常不需要使用此选项。</font></font></font></p>
</section>
<section id="output-o-output-opts" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--output</strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">-o</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">output-opts</em><a class="headerlink" href="#output-o-output-opts" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--output, -o=输出选项 ¶</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Output destination (format: type=local,dest=path)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">输出目的地（格式：type=local,dest=path）</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">The --output (or -o) option extends the default behavior of building a container image by allowing users to export the contents of the image as files on the local filesystem, which can be useful for generating local binaries, code generation, etc. (This option is not available with the remote Podman client, including Mac and Windows (excluding WSL2) machines)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--output（或 -o）选项扩展了构建容器映像的默认行为，允许用户将映像内容导出为本地文件系统上的文件，这对于生成本地二进制文件、代码生成等非常有用。（此选项在远程 Podman 客户端中不可用，包括 Mac 和 Windows（不包括 WSL2）机器）</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">The value for --output is a comma-separated sequence of key=value pairs, defining the output type and options.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--output 的值是一个逗号分隔的 key=value 对序列，定义了输出类型和选项。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Supported <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">keys</em> are:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">支持的键包括:</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">dest</strong>: Destination path for exported output. Valid value is absolute or relative path, <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">-</span></code> means the standard output.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">dest: 导出输出的目标路径。有效值为绝对路径或相对路径， <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">-</span></code> 表示标准输出。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">type</strong>: Defines the type of output to be used. Valid values is documented below.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">type: 定义要使用的输出类型。下面记录了有效值。</font></font></font></p></li>
</ul>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Valid <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">type</em> values are:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">有效的类型数值为:</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">local</strong>: write the resulting build files to a directory on the client-side.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">local: 将生成的构建文件写入客户端上的目录。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">tar</strong>: write the resulting files as a single tarball (.tar).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">tar: 将生成的文件写入单个 tar 压缩包 (.tar)。</font></font></font></p></li>
</ul>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">If no type is specified, the value defaults to <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">local</strong>.
Alternatively, instead of a comma-separated sequence, the value of <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--output</strong> can be just a destination (in the <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">dest</strong> format) (e.g. <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--output</span> <span class="pre">some-path</span></code>, <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--output</span> <span class="pre">-</span></code>) where <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--output</span> <span class="pre">some-path</span></code> is treated as if <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">type=local</strong> and <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--output</span> <span class="pre">-</span></code> is treated as if <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">type=tar</strong>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果未指定类型，则该值默认为本地。或者，--output 的值可以只是一个目标（以 dest 格式）（例如 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--output</span> <span class="pre">some-path</span></code> ， <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--output</span> <span class="pre">-</span></code> ），其中 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--output</span> <span class="pre">some-path</span></code> 被视为 type=local， <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--output</span> <span class="pre">-</span></code> 被视为 type=tar。</font></font></font></p>
</section>
<section id="pid-pid" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--pid</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">pid</em><a class="headerlink" href="#pid-pid" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Sets the configuration for PID namespaces when handling <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> instructions.
The configured value can be “” (the empty string) or “container” to indicate that a new PID namespace is created, or it can be “host” to indicate that the PID namespace in which <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span></code> itself is being run is reused, or it can be the path to a PID namespace which is already in use by another
process.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在处理 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> 指令时设置 PID 命名空间的配置。配置的值可以是“”（空字符串）或“container”表示创建新的 PID 命名空间，也可以是“host”表示重用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span></code> 自身正在运行的 PID 命名空间，或者可以是已被另一个进程使用的 PID 命名空间的路径。</font></font></font></p>
</section>
<section id="platform-os-arch-variant" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--platform</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">os/arch[/variant][,…]</em><a class="headerlink" href="#platform-os-arch-variant" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Set the <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">os/arch</em> of the built image (and its base image, when using one)
to the provided value instead of using the current operating system and
architecture of the host (for example <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">linux/arm</span></code>).  Unless overridden,
subsequent lookups of the same image in the local storage matches this
platform, regardless of the host.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将构建的镜像的操作系统/架构（以及使用基础镜像时）设置为提供的值，而不是使用主机的当前操作系统和架构（例如 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">linux/arm</span></code> ）。除非被覆盖，否则在本地存储中查找相同镜像时，会匹配此平台，而不考虑主机。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">If <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--platform</span></code> is set, then the values of the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--arch</span></code>, <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--os</span></code>, and
<code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--variant</span></code> options is overridden.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果设置了 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--platform</span></code> ，则会覆盖 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--arch</span></code> 、 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--os</span></code> 和 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--variant</span></code> 选项的值。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">The <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--platform</span></code> option can be specified more than once, or given a
comma-separated list of values as its argument.  When more than one platform is
specified, the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--manifest</span></code> option is used instead of the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--tag</span></code>
option.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">选项 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--platform</span></code> 可以指定多次，或者将逗号分隔的值列表作为其参数。当指定多个平台时，将使用选项 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--manifest</span></code> 而不是选项 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--tag</span></code> 。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Os/arch pairs are those used by the Go Programming Language.  In several cases
the <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">arch</em> value for a platform differs from one produced by other tools such as
the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">arch</span></code> command.  Valid OS and architecture name combinations are listed as
values for $GOOS and $GOARCH at https://golang.org/doc/install/source#environment,
and can also be found by running <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">go</span> <span class="pre">tool</span> <span class="pre">dist</span> <span class="pre">list</span></code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Os/arch 对是 Go 编程语言使用的。在几种情况下，平台的 arch 值与其他工具（如 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">arch</span></code> 命令）生成的值不同。有效的 OS 和架构名称组合作为 $GOOS 和 $GOARCH 的值列在 https://golang.org/doc/install/source#environment，也可以通过运行 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">go</span> <span class="pre">tool</span> <span class="pre">dist</span> <span class="pre">list</span></code> 找到。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">While <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span> <span class="pre">build</span></code> is happy to use base images and build images for any
platform that exists, <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> instructions are able to succeed without
the help of emulation provided by packages like <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">qemu-user-static</span></code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">虽然 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span> <span class="pre">build</span></code> 乐于使用基础镜像和为任何现有平台构建镜像，但 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> 指令能够在不依赖像 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">qemu-user-static</span></code> 这样的软件包提供的仿真的情况下成功。</font></font></font></p>
</section>
<section id="pull-policy" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--pull</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">policy</em><a class="headerlink" href="#pull-policy" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Pull image policy. The default is <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">always</strong>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">拉取镜像策略。默认值为 always。</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">always</strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">true</strong>: Always pull the image and throw an error if the pull fails.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">always, true: 总是拉取镜像，并在拉取失败时抛出错误。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">missing</strong>: Only pull the image when it does not exist in the local containers storage.  Throw an error if no image is found and the pull fails.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">仅在本地容器存储中不存在图像时才拉取图像。如果未找到图像并且拉取失败，则抛出错误。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">never</strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">false</strong>: Never pull the image but use the one from the local containers storage.  Throw an error when no image is found.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从不，false：从本地容器存储中使用图像，而不是拉取图像。当找不到图像时抛出错误。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">newer</strong>: Pull if the image on the registry is newer than the one in the local containers storage.  An image is considered to be newer when the digests are different.  Comparing the time stamps is prone to errors.  Pull errors are suppressed if a local image was found.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">较新：如果注册表上的图像比本地容器存储中的图像更新，则拉取。当摘要不同时，图像被视为更新。比较时间戳容易出错。如果找到本地图像，则拉取错误会被抑制。</font></font></font></p></li>
</ul>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Pull image policy. The default is <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">missing</strong>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">拉取图像策略。默认值为 missing。</font></font></font></p>
</section>
<section id="quiet-q" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--quiet</strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">-q</strong><a class="headerlink" href="#quiet-q" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Suppress output messages which indicate which instruction is being processed, and of progress when pulling images from a registry, and when writing the output image.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">抑制输出消息，指示正在处理哪个指令，以及从注册表拉取图像和写入输出图像时的进度。</font></font></font></p>
</section>
<section id="retry-attempts" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--retry</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">attempts</em><a class="headerlink" href="#retry-attempts" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Number of times to retry pulling or pushing images between the registry and
local storage in case of failure. Default is <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">3</strong>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在发生失败时，重试在注册表和本地存储之间拉取或推送镜像的次数。默认值为 3。</font></font></font></p>
</section>
<section id="retry-delay-duration" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--retry-delay</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">duration</em><a class="headerlink" href="#retry-delay-duration" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--retry-delay=持续时间 ¶</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Duration of delay between retry attempts when pulling or pushing images between
the registry and local storage in case of failure. The default is to start at two seconds and then exponentially back off. The delay is used when this value is set, and no exponential back off occurs.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在发生失败时，拉取或推送镜像在注册表和本地存储之间重试尝试之间的延迟持续时间。默认值是从两秒开始，然后指数级地减少。当设置了此值且没有指数级减少时，将使用延迟。</font></font></font></p>
</section>
<section id="rm" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--rm</strong><a class="headerlink" href="#rm" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Remove intermediate containers after a successful build (default true).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在成功构建后删除中间容器（默认为 true）。</font></font></font></p>
</section>
<section id="runtime-path" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--runtime</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">path</em><a class="headerlink" href="#runtime-path" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">The <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">path</em> to an alternate OCI-compatible runtime, which is used to run
commands specified by the <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">RUN</strong> instruction.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用于运行由 RUN 指令指定的命令的替代 OCI 兼容运行时的路径。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Note: You can also override the default runtime by setting the BUILDAH_RUNTIME environment variable.  <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">export</span> <span class="pre">BUILDAH_RUNTIME=/usr/local/bin/runc</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意: 您还可以通过设置 BUILDAH_RUNTIME 环境变量来覆盖默认运行时。 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">export</span> <span class="pre">BUILDAH_RUNTIME=/usr/local/bin/runc</span></code> </font></font></font></p>
</section>
<section id="runtime-flag-flag" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--runtime-flag</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">flag</em><a class="headerlink" href="#runtime-flag-flag" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Adds global flags for the container runtime. To list the supported flags, please consult the manpages of the selected container runtime.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">为容器运行时添加全局标志。要列出支持的标志，请查阅所选容器运行时的 man 手册。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Note: Do not pass the leading -- to the flag. To pass the runc flag --log-format json to buildah build, the option given is --runtime-flag log-format=json.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：不要将前导的 -- 传递给标志。要将 runc 标志 --log-format json 传递给 buildah build，给定的选项是 --runtime-flag log-format=json。</font></font></font></p>
</section>
<section id="sbom-preset" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--sbom</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">preset</em><a class="headerlink" href="#sbom-preset" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--sbom=preset</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Generate SBOMs (Software Bills Of Materials) for the output image by scanning
the working container and build contexts using the named combination of scanner
image, scanner commands, and merge strategy.  Must be specified with one or
more of <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--sbom-image-output</strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--sbom-image-purl-output</strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--sbom-output</strong>,
and <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--sbom-purl-output</strong>.  Recognized presets, and the set of options which
they equate to:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">通过扫描工作容器和构建上下文生成输出镜像的软件清单（SBOMs），使用命名的扫描器镜像、扫描器命令和合并策略的组合。必须与 --sbom-image-output、--sbom-image-purl-output、--sbom-output 和 --sbom-purl-output 中的一个或多个一起指定。已识别的预设值，以及它们等同于的选项集：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">“syft”, “syft-cyclonedx”:
--sbom-scanner-image=ghcr.io/anchore/syft
--sbom-scanner-command=”/syft scan -q dir:{ROOTFS} --output cyclonedx-json={OUTPUT}”
--sbom-scanner-command=”/syft scan -q dir:{CONTEXT} --output cyclonedx-json={OUTPUT}”
--sbom-merge-strategy=merge-cyclonedx-by-component-name-and-version</p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">“syft-spdx”:
--sbom-scanner-image=ghcr.io/anchore/syft
--sbom-scanner-command=”/syft scan -q dir:{ROOTFS} --output spdx-json={OUTPUT}”
--sbom-scanner-command=”/syft scan -q dir:{CONTEXT} --output spdx-json={OUTPUT}”
--sbom-merge-strategy=merge-spdx-by-package-name-and-versioninfo</p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">“trivy”, “trivy-cyclonedx”:
--sbom-scanner-image=ghcr.io/aquasecurity/trivy
--sbom-scanner-command=”trivy filesystem -q {ROOTFS} --format cyclonedx --output {OUTPUT}”
--sbom-scanner-command=”trivy filesystem -q {CONTEXT} --format cyclonedx --output {OUTPUT}”
--sbom-merge-strategy=merge-cyclonedx-by-component-name-and-version<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">"trivy", "trivy-cyclonedx": --sbom-scanner-image=ghcr.io/aquasecurity/trivy --sbom-scanner-command="trivy filesystem -q {ROOTFS} --format cyclonedx --output {OUTPUT}" --sbom-scanner-command="trivy filesystem -q {CONTEXT} --format cyclonedx --output {OUTPUT}" --sbom-merge-strategy=merge-cyclonedx-by-component-name-and-version</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">“trivy-spdx”:
--sbom-scanner-image=ghcr.io/aquasecurity/trivy
--sbom-scanner-command=”trivy filesystem -q {ROOTFS} --format spdx-json --output {OUTPUT}”
--sbom-scanner-command=”trivy filesystem -q {CONTEXT} --format spdx-json --output {OUTPUT}”
--sbom-merge-strategy=merge-spdx-by-package-name-and-versioninfo<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">"trivy-spdx": --sbom-scanner-image=ghcr.io/aquasecurity/trivy --sbom-scanner-command="trivy filesystem -q {ROOTFS} --format spdx-json --output {OUTPUT}" --sbom-scanner-command="trivy filesystem -q {CONTEXT} --format spdx-json --output {OUTPUT}" --sbom-merge-strategy=merge-spdx-by-package-name-and-versioninfo</font></font></font></p></li>
</ul>
</section>
<section id="sbom-image-output-path" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--sbom-image-output</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">path</em><a class="headerlink" href="#sbom-image-output-path" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--sbom-image-output=path</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">When generating SBOMs, store the generated SBOM in the specified path in the
output image.  There is no default.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在生成 SBOM 时，将生成的 SBOM 存储在输出镜像中指定的路径中。没有默认值。</font></font></font></p>
</section>
<section id="sbom-image-purl-output-path" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--sbom-image-purl-output</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">path</em><a class="headerlink" href="#sbom-image-purl-output-path" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">When generating SBOMs, scan them for PURL (<a class="reference external" href="https://github.com/package-url/purl-spec/blob/master/PURL-SPECIFICATION.rst" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">package
URL</a>)
information, and save a list of found PURLs to the specified path in the output
image.  There is no default.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在生成 SBOM 时，扫描它们以获取 PURL（软件包 URL）信息，并将找到的 PURL 列表保存到输出镜像中指定的路径中。没有默认值。</font></font></font></p>
</section>
<section id="sbom-merge-strategy-method" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--sbom-merge-strategy</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">method</em><a class="headerlink" href="#sbom-merge-strategy-method" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--sbom-merge-strategy=方法 ¶</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">If more than one <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--sbom-scanner-command</strong> value is being used, use the
specified method to merge the output from later commands with output from
earlier commands.  Recognized values include:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果正在使用多个 --sbom-scanner-command 值，则使用指定的方法将后续命令的输出与先前命令的输出合并。可识别的值包括：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">cat
Concatenate the files.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">cat 连接文件。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">merge-cyclonedx-by-component-name-and-version
Merge the “component” fields of JSON documents, ignoring values from
documents when the combination of their “name” and “version” values is
already present.  Documents are processed in the order in which they are
generated, which is the order in which the commands that generate them
were specified.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">按组件名称和版本合并 JSON 文档的“组件”字段，当它们的“名称”和“版本”值的组合已经存在时，忽略文档中的值。文档按生成顺序处理，这是生成它们的命令指定的顺序。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">merge-spdx-by-package-name-and-versioninfo
Merge the “package” fields of JSON documents, ignoring values from
documents when the combination of their “name” and “versionInfo” values is
already present.  Documents are processed in the order in which they are
generated, which is the order in which the commands that generate them
were specified.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">按软件包名称和版本信息合并 JSON 文档的“软件包”字段，当它们的“名称”和“版本信息”值的组合已经存在时，忽略文档中的值。文档按生成顺序处理，这是生成它们的命令指定的顺序。</font></font></font></p></li>
</ul>
</section>
<section id="sbom-output-file" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--sbom-output</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">file</em><a class="headerlink" href="#sbom-output-file" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--sbom-output=file</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">When generating SBOMs, store the generated SBOM in the named file on the local
filesystem.  There is no default.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在生成 SBOM 时，将生成的 SBOM 存储在本地文件系统中的指定文件中。没有默认值。</font></font></font></p>
</section>
<section id="sbom-purl-output-file" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--sbom-purl-output</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">file</em><a class="headerlink" href="#sbom-purl-output-file" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">When generating SBOMs, scan them for PURL (<a class="reference external" href="https://github.com/package-url/purl-spec/blob/master/PURL-SPECIFICATION.rst" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">package
URL</a>)
information, and save a list of found PURLs to the named file in the local
filesystem.  There is no default.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在生成 SBOM 时，扫描它们以获取 PURL（软件包 URL）信息，并将找到的 PURL 列表保存到本地文件系统中的指定文件中。没有默认值。</font></font></font></p>
</section>
<section id="sbom-scanner-command-image" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--sbom-scanner-command</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">image</em><a class="headerlink" href="#sbom-scanner-command-image" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Generate SBOMs by running the specified command from the scanner image.  If
multiple commands are specified, they are run in the order in which they are
specified.  These text substitutions are performed:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">运行扫描器镜像中指定的命令生成 SBOM。如果指定了多个命令，则按照指定的顺序依次运行。执行这些文本替换：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">{ROOTFS}
The root of the built image’s filesystem, bind mounted.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">{ROOTFS} 构建镜像文件系统的根目录，绑定挂载。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">{CONTEXT}
The build context and additional build contexts, bind mounted.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">{CONTEXT} 构建上下文和额外的构建上下文，绑定挂载。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">{OUTPUT}
The name of a temporary output file, to be read and merged with others or copied elsewhere.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">{OUTPUT} 一个临时输出文件的名称，用于读取和合并其他文件或复制到其他位置。</font></font></font></p></li>
</ul>
</section>
<section id="sbom-scanner-image-image" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--sbom-scanner-image</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">image</em><a class="headerlink" href="#sbom-scanner-image-image" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Generate SBOMs using the specified scanner image.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用指定的扫描器镜像生成 SBOMs。</font></font></font></p>
</section>
<section id="secret-id-id-src-path" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--secret</strong>=<strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">id=id,src=path</strong><a class="headerlink" href="#secret-id-id-src-path" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Pass secret information used in the Containerfile for building images
in a safe way that are not stored in the final image, or be seen in other stages.
The secret is mounted in the container at the default location of <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">/run/secrets/id</span></code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以安全的方式传递在 Containerfile 中用于构建镜像的秘密信息，这些信息不会存储在最终镜像中，也不会在其他阶段中看到。秘密被挂载在容器中的默认位置 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">/run/secrets/id</span></code> 。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">To later use the secret, use the --mount option in a <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> instruction within a <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">Containerfile</span></code>:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">为了以后使用该密钥，请在 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">Containerfile</span></code> 内的 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> 指令中使用--mount 选项：</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span> <span class="pre">--mount=type=secret,id=mysecret</span> <span class="pre">cat</span> <span class="pre">/run/secrets/mysecret</span></code></p>
</section>
<section id="security-opt-option" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--security-opt</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">option</em><a class="headerlink" href="#security-opt-option" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--security-opt=option</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Security Options<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">安全选项</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">apparmor=unconfined</span></code> : Turn off apparmor confinement for the container<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">apparmor=unconfined</span></code> ：为容器关闭 apparmor 限制</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">apparmor=alternate-profile</span></code> : Set the apparmor confinement profile for the
container<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">apparmor=alternate-profile</span></code> ：为容器设置 apparmor 限制配置文件</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">label=user:USER</span></code>     : Set the label user for the container processes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">label=user:USER</span></code> ：为容器进程设置标签用户</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">label=role:ROLE</span></code>     : Set the label role for the container processes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">label=role:ROLE</span></code> ：为容器进程设置标签角色</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">label=type:TYPE</span></code>     : Set the label process type for the container processes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">label=type:TYPE</span></code> ：为容器进程设置标签进程类型</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">label=level:LEVEL</span></code>   : Set the label level for the container processes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">label=level:LEVEL</span></code> ：为容器进程设置标签级别</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">label=filetype:TYPE</span></code> : Set the label file type for the container files<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">label=filetype:TYPE</span></code> ：设置容器文件的标签文件类型</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">label=disable</span></code>       : Turn off label separation for the container<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">label=disable</span></code> ：关闭容器的标签分离</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">no-new-privileges</span></code>   : Not supported<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">no-new-privileges</span></code> ：不支持</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">seccomp=unconfined</span></code> : Turn off seccomp confinement for the container<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">seccomp=unconfined</span></code> ：为容器关闭 seccomp 限制</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">seccomp=profile.json</span></code> :  JSON file to be used as the seccomp filter for the container.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">seccomp=profile.json</span></code> ：用作容器 seccomp 过滤器的 JSON 文件</font></font></font></p></li>
</ul>
</section>
<section id="shm-size-number-unit" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--shm-size</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">number[unit]</em><a class="headerlink" href="#shm-size-number-unit" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--shm-size=number[unit]</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Size of <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">/dev/shm</em>. A <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">unit</em> can be <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">b</strong> (bytes), <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">k</strong> (kibibytes), <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">m</strong> (mebibytes), or <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">g</strong> (gibibytes).
If the unit is omitted, the system uses bytes. If the size is omitted, the default is <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">64m</strong>.
When <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">size</em> is <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">0</strong>, there is no limit on the amount of memory used for IPC by the container.
This option conflicts with <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--ipc=host</strong>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">/dev/shm 的大小。单位可以是 b（字节）、k（kibibytes）、m（mebibytes）或 g（gibibytes）。如果省略单位，则系统使用字节。如果省略大小，则默认为 64m。当大小为 0 时，容器使用的 IPC 内存量没有限制。此选项与 --ipc=host 冲突。</font></font></font></p>
</section>
<section id="sign-by-fingerprint" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--sign-by</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">fingerprint</em><a class="headerlink" href="#sign-by-fingerprint" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Sign the image using a GPG key with the specified FINGERPRINT. (This option is not available with the remote Podman client, including Mac and Windows (excluding WSL2) machines,)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用指定的指纹的 GPG 密钥对镜像进行签名。（此选项不适用于远程 Podman 客户端，包括 Mac 和 Windows（不包括 WSL2）机器。）</font></font></font></p>
</section>
<section id="skip-unused-stages" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--skip-unused-stages</strong><a class="headerlink" href="#skip-unused-stages" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--跳过未使用的阶段 ¶</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Skip stages in multi-stage builds which don’t affect the target stage. (Default: <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">true</strong>).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">跳过在多阶段构建中不影响目标阶段的阶段。(默认值：true)。</font></font></font></p>
</section>
<section id="squash" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--squash</strong><a class="headerlink" href="#squash" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--压缩 ¶</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Squash all of the image’s new layers into a single new layer; any preexisting layers are not squashed.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将图像的所有新图层压缩成一个新图层；任何现有图层不会被压缩。</font></font></font></p>
</section>
<section id="squash-all" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--squash-all</strong><a class="headerlink" href="#squash-all" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Squash all of the new image’s layers (including those inherited from a base image) into a single new layer.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将新图像的所有图层（包括从基础图像继承的图层）压缩成一个新图层。</font></font></font></p>
</section>
<section id="ssh-default-id-socket" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--ssh</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">default</em> | <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">id[=socket&gt;</em><a class="headerlink" href="#ssh-default-id-socket" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">SSH agent socket or keys to expose to the build.
The socket path can be left empty to use the value of <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">default=$SSH_AUTH_SOCK</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要暴露给构建的 SSH 代理套接字或密钥。套接字路径可以留空以使用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">default=$SSH_AUTH_SOCK</span></code> 的值</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">To later use the ssh agent, use the --mount option in a <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> instruction within a <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">Containerfile</span></code>:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要稍后使用 SSH 代理，请在 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">Containerfile</span></code> 中的 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> 指令中使用 --mount 选项：</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span> <span class="pre">--mount=type=ssh,id=id</span> <span class="pre">mycmd</span></code></p>
</section>
<section id="stdin" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--stdin</strong><a class="headerlink" href="#stdin" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Pass stdin into the RUN containers. Sometime commands being RUN within a Containerfile
want to request information from the user. For example apt asking for a confirmation for install.
Use --stdin to be able to interact from the terminal during the build.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将 stdin 传递到 RUN 容器中。有时在 Containerfile 中运行的命令需要从用户请求信息。例如，apt 请求确认安装。使用 --stdin 可以在构建过程中从终端进行交互。</font></font></font></p>
</section>
<section id="tag-t-imagename" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--tag</strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">-t</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">imageName</em><a class="headerlink" href="#tag-t-imagename" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Specifies the name which is assigned to the resulting image if the build process completes successfully.
If <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">imageName</em> does not include a registry name, the registry name <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">localhost</em> is prepended to the image name.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定在构建过程成功完成时分配给结果图像的名称。如果 imageName 不包括注册表名称，则在图像名称前添加注册表名称 localhost。</font></font></font></p>
</section>
<section id="target-stagename" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--target</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">stageName</em><a class="headerlink" href="#target-stagename" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Set the target build stage to build.  When building a Containerfile with multiple build stages, --target can be used to specify an intermediate build stage by name as the final stage for the resulting image. Commands after the target stage is skipped.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将目标构建阶段设置为构建。在使用多个构建阶段的 Containerfile 构建时，--target 可用于指定一个中间构建阶段的名称作为结果图像的最终阶段。目标阶段之后的命令将被跳过。</font></font></font></p>
</section>
<section id="timestamp-seconds" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--timestamp</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">seconds</em><a class="headerlink" href="#timestamp-seconds" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--timestamp=秒 ¶</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Set the create timestamp to seconds since epoch to allow for deterministic builds (defaults to current time). By default, the created timestamp is changed and written into the image manifest with every commit, causing the image’s sha256 hash to be different even if the sources are exactly the same otherwise.
When --timestamp is set, the created timestamp is always set to the time specified and therefore not changed, allowing the image’s sha256 hash to remain the same. All files committed to the layers of the image is created with the timestamp.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将创建时间戳设置为自纪元以来的秒数，以便进行确定性构建（默认为当前时间）。默认情况下，每次提交时都会更改并写入图像清单中的创建时间戳，即使源代码完全相同，也会导致图像的 sha256 哈希不同。当设置 --timestamp 时，创建时间戳始终设置为指定时间，因此不会更改，从而使图像的 sha256 哈希保持不变。提交到图像层的所有文件都使用该时间戳创建。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">If the only instruction in a Containerfile is <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">FROM</span></code>, this flag has no effect.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果 Containerfile 中的唯一指令是 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">FROM</span></code> ，则此标志无效。</font></font></font></p>
</section>
<section id="tls-verify" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--tls-verify</strong><a class="headerlink" href="#tls-verify" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Require HTTPS and verify certificates when contacting registries (default: <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">true</strong>).
If explicitly set to <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">true</strong>, TLS verification is used.
If set to <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">false</strong>, TLS verification is not used.
If not specified, TLS verification is used unless the target registry
is listed as an insecure registry in <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference external" href="https://github.com/containers/image/blob/main/docs/containers-registries.conf.5.md" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">containers-registries.conf(5)</a></strong><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在联系注册表时需要 HTTPS 并验证证书（默认值为 true）。如果显式设置为 true，则使用 TLS 验证。如果设置为 false，则不使用 TLS 验证。如果未指定，则除非目标注册表在 containers-registries.conf(5) 中被列为不安全注册表，否则将使用 TLS 验证。</font></font></font></p>
</section>
<section id="ulimit-type-soft-limit-hard-limit" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--ulimit</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">type=soft-limit[:hard-limit]</em><a class="headerlink" href="#ulimit-type-soft-limit-hard-limit" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Specifies resource limits to apply to processes launched when processing <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> instructions. This option can be specified multiple times.  Recognized resource types include:
“core”: maximum core dump size (ulimit -c)
“cpu”: maximum CPU time (ulimit -t)
“data”: maximum size of a process’s data segment (ulimit -d)
“fsize”: maximum size of new files (ulimit -f)
“locks”: maximum number of file locks (ulimit -x)
“memlock”: maximum amount of locked memory (ulimit -l)
“msgqueue”: maximum amount of data in message queues (ulimit -q)
“nice”: niceness adjustment (nice -n, ulimit -e)
“nofile”: maximum number of open files (ulimit -n)
“nproc”: maximum number of processes (ulimit -u)
“rss”: maximum size of a process’s (ulimit -m)
“rtprio”: maximum real-time scheduling priority (ulimit -r)
“rttime”: maximum amount of real-time execution between blocking syscalls
“sigpending”: maximum number of pending signals (ulimit -i)
“stack”: maximum stack size (ulimit -s)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定要应用于处理 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> 指令时启动的进程的资源限制。此选项可以多次指定。已识别的资源类型包括：“core”：最大核心转储大小（ulimit -c）“cpu”：最大 CPU 时间（ulimit -t）“data”：进程数据段的最大大小（ulimit -d）“fsize”：新文件的最大大小（ulimit -f）“locks”：文件锁的最大数量（ulimit -x）“memlock”：锁定内存的最大量（ulimit -l）“msgqueue”：消息队列中的数据量最大值（ulimit -q）“nice”：优先级调整（nice -n，ulimit -e）“nofile”：打开文件的最大数量（ulimit -n）“nproc”：进程的最大数量（ulimit -u）“rss”：进程的最大大小（ulimit -m）“rtprio”：最大实时调度优先级（ulimit -r）“rttime”：在阻塞系统调用之间的最大实时执行时间“sigpending”：挂起信号的最大数量（ulimit -i）“stack”：最大堆栈大小（ulimit -s）</font></font></font></p>
</section>
<section id="unsetenv-env" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--unsetenv</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">env</em><a class="headerlink" href="#unsetenv-env" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--unsetenv=env</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Unset environment variables from the final image.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从最终镜像中取消设置环境变量。</font></font></font></p>
</section>
<section id="unsetlabel-label" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--unsetlabel</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">label</em><a class="headerlink" href="#unsetlabel-label" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Unset the image label, causing the label not to be inherited from the base image.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">取消图像标签，导致标签不会从基础图像继承。</font></font></font></p>
</section>
<section id="userns-how" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--userns</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">how</em><a class="headerlink" href="#userns-how" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--userns=如何 ¶</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Sets the configuration for user namespaces when handling <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> instructions.
The configured value can be “” (the empty string) or “container” to indicate that a new user namespace is created, it can be “host” to indicate that the user namespace in which <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span></code> itself is being run is reused, or it can be the path to a user namespace which is already in use by another process.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在处理 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> 指令时设置用户命名空间的配置。配置的值可以是“”（空字符串）或“container”表示创建新的用户命名空间，也可以是“host”表示正在重用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span></code> 本身运行的用户命名空间，或者可以是另一个进程已经使用的用户命名空间的路径。</font></font></font></p>
</section>
<section id="userns-gid-map-mapping" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--userns-gid-map</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">mapping</em><a class="headerlink" href="#userns-gid-map-mapping" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--userns-gid-map=映射 ¶</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Directly specifies a GID mapping to be used to set ownership, at the
filesystem level, on the working container’s contents.
Commands run when handling <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> instructions defaults to being run in
their own user namespaces, configured using the UID and GID maps.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">直接指定要在工作容器内容的文件系统级别上设置所有权的 GID 映射。处理 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> 指令时运行的命令默认在其自己的用户命名空间中运行，使用 UID 和 GID 映射进行配置。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Entries in this map take the form of one or more triples of a starting
in-container GID, a corresponding starting host-level GID, and the number of consecutive IDs which the map entry represents.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此映射中的条目采用一个或多个三元组的形式，其中包括一个起始容器内 GID、一个对应的起始主机级 GID，以及映射条目表示的连续 ID 数。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">This option overrides the <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">remap-gids</em> setting in the <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">options</em> section of /etc/containers/storage.conf.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项覆盖了 /etc/containers/storage.conf 中选项部分中的 remap-gids 设置。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">If this option is not specified, but a global --userns-gid-map setting is supplied, settings from the global option is used.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果未指定此选项，但提供了全局 --userns-gid-map 设置，则使用全局选项中的设置。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">If none of --userns-uid-map-user, --userns-gid-map-group, or --userns-gid-map are specified, but --userns-uid-map is specified, the GID map is set to use the same numeric values as the UID map.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果未指定 --userns-uid-map-user、--userns-gid-map-group 或 --userns-gid-map 中的任何一个，但指定了 --userns-uid-map，则 GID 映射设置为使用与 UID 映射相同的数值。</font></font></font></p>
</section>
<section id="userns-gid-map-group-group" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--userns-gid-map-group</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">group</em><a class="headerlink" href="#userns-gid-map-group-group" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--userns-gid-map-group=group</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Specifies that a GID mapping to be used to set ownership, at the
filesystem level, on the working container’s contents, can be found in entries in the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">/etc/subgid</span></code> file which correspond to the specified group.
Commands run when handling <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> instructions defaults to being run in
their own user namespaces, configured using the UID and GID maps.
If --userns-uid-map-user is specified, but --userns-gid-map-group is not specified, <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span></code> assumes that the specified user name is also a
suitable group name to use as the default setting for this option.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定要用于在工作容器内容的文件系统级别上设置所有权的 GID 映射，可以在 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">/etc/subgid</span></code> 文件中的条目中找到，这些条目对应于指定的组。处理 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> 指令时运行的命令默认在其自己的用户命名空间中运行，使用 UID 和 GID 映射进行配置。如果指定了 --userns-uid-map-user，但未指定 --userns-gid-map-group，则 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span></code> 假定指定的用户名也是一个适合用作此选项的默认设置的组名。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">NOTE:</strong> When this option is specified by a rootless user, the specified mappings are relative to the rootless user namespace in the container, rather than being relative to the host as it is when run rootful.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：当根用户指定此选项时，指定的映射是相对于容器中的根用户命名空间，而不是相对于在 rootful 模式下运行时的主机。</font></font></font></p>
</section>
<section id="userns-uid-map-mapping" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--userns-uid-map</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">mapping</em><a class="headerlink" href="#userns-uid-map-mapping" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--userns-uid-map=mapping</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Directly specifies a UID mapping to be used to set ownership, at the
filesystem level, on the working container’s contents.
Commands run when handling <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> instructions default to being run in
their own user namespaces, configured using the UID and GID maps.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">直接指定要在工作容器内容的文件系统级别上设置所有权的 UID 映射。处理 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> 指令时运行的命令默认在其自己的用户命名空间中运行，使用 UID 和 GID 映射进行配置。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Entries in this map take the form of one or more triples of a starting
in-container UID, a corresponding starting host-level UID, and the number of consecutive IDs which the map entry represents.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此映射中的条目采用一个或多个三元组的形式，其中包括一个起始容器内 UID、一个对应的起始主机级 UID，以及映射条目表示的连续 ID 数。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">This option overrides the <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">remap-uids</em> setting in the <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">options</em> section of /etc/containers/storage.conf.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项覆盖了 /etc/containers/storage.conf 中选项部分中的 remap-uids 设置。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">If this option is not specified, but a global --userns-uid-map setting is supplied, settings from the global option is used.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果未指定此选项，但提供了全局 --userns-uid-map 设置，则使用全局选项中的设置。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">If none of --userns-uid-map-user, --userns-gid-map-group, or --userns-uid-map are specified, but --userns-gid-map is specified, the UID map is set to use the same numeric values as the GID map.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果未指定 --userns-uid-map-user、--userns-gid-map-group 或 --userns-uid-map 中的任何一个选项，但指定了 --userns-gid-map，则 UID 映射设置为使用与 GID 映射相同的数值。</font></font></font></p>
</section>
<section id="userns-uid-map-user-user" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--userns-uid-map-user</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">user</em><a class="headerlink" href="#userns-uid-map-user-user" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Specifies that a UID mapping to be used to set ownership, at the
filesystem level, on the working container’s contents, can be found in entries in the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">/etc/subuid</span></code> file which correspond to the specified user.
Commands run when handling <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> instructions defaults to being run in
their own user namespaces, configured using the UID and GID maps.
If --userns-gid-map-group is specified, but --userns-uid-map-user is not specified, <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span></code> assumes that the specified group name is also a
suitable user name to use as the default setting for this option.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定要用于在工作容器内容的文件系统级别上设置所有权的 UID 映射，可以在 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">/etc/subuid</span></code> 文件中找到与指定用户对应的条目。处理 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> 指令时运行的命令默认在其自己的用户命名空间中运行，使用 UID 和 GID 映射进行配置。如果指定了 --userns-gid-map-group，但未指定 --userns-uid-map-user，则 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span></code> 假定指定的组名也是适合用作此选项的默认设置的用户名称。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">NOTE:</strong> When this option is specified by a rootless user, the specified mappings are relative to the rootless user namespace in the container, rather than being relative to the host as it is when run rootful.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：当根用户指定此选项时，指定的映射是相对于容器中的根用户命名空间，而不是相对于在 rootful 模式下运行时的主机。</font></font></font></p>
</section>
<section id="uts-how" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--uts</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">how</em><a class="headerlink" href="#uts-how" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">--uts=how</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Sets the configuration for UTS namespaces when handling <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> instructions.
The configured value can be “” (the empty string) or “container” to indicate that a new UTS namespace to be created, or it can be “host” to indicate that the UTS namespace in which <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span></code> itself is being run is reused, or it can be the path to a UTS namespace which is already in use by another process.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置处理 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> 指令时 UTS 命名空间的配置。配置的值可以是“”（空字符串）或“container”表示要创建一个新的 UTS 命名空间，也可以是“host”表示正在运行 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span></code> 的 UTS 命名空间被重用，或者可以是另一个进程已经在使用的 UTS 命名空间的路径。</font></font></font></p>
</section>
<section id="variant-variant" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--variant</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">variant</em><a class="headerlink" href="#variant-variant" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Set the architecture variant of the image to be built, and that of the base
image to be pulled, if the build uses one, to the provided value instead of
using the architecture variant of the build host.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置要构建的镜像的架构变体，以及如果构建使用基础镜像，则拉取基础镜像的架构变体为提供的值，而不是使用构建主机的架构变体。</font></font></font></p>
</section>
<section id="volume-v-host-dir-container-dir-options" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">--volume</strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">-v</strong>=<em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">[HOST-DIR:CONTAINER-DIR[:OPTIONS]]</em><a class="headerlink" href="#volume-v-host-dir-container-dir-options" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Mount a host directory into containers when executing RUN instructions during
the build.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在构建过程中执行 RUN 指令时，将主机目录挂载到容器中。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">The <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">OPTIONS</span></code> are a comma-separated list and can be one or more of:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">OPTIONS</span></code> 是一个逗号分隔的列表，可以是一个或多个：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">[rw|ro]<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">[读写|只读]</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">[z|Z|O]</p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">[U]</p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">[<code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">[r]shared</span></code>|<code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">[r]slave</span></code>|<code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">[r]private</span></code>]<sup data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference internal" href="#Footnote1"><span class="xref myst">[1]</span></a></sup></p></li>
</ul>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">The <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">CONTAINER-DIR</span></code> must be an absolute path such as <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">/src/docs</span></code>. The <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">HOST-DIR</span></code>
must be an absolute path as well. Podman bind-mounts the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">HOST-DIR</span></code> to the
specified path when processing RUN instructions.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">CONTAINER-DIR</span></code> 必须是绝对路径，例如 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">/src/docs</span></code> 。 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">HOST-DIR</span></code> 也必须是绝对路径。在处理 RUN 指令时，Podman 将 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">HOST-DIR</span></code> 绑定到指定的路径。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">You can specify multiple  <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">-v</strong> options to mount one or more mounts.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">您可以指定多个 -v 选项来挂载一个或多个挂载点。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">You can add the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">:ro</span></code> or <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">:rw</span></code> suffix to a volume to mount it read-only or
read-write mode, respectively. By default, the volumes are mounted read-write.
See examples.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">您可以向卷添加 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">:ro</span></code> 或 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">:rw</span></code> 后缀，以将其挂载为只读或读写模式。默认情况下，卷是以读写模式挂载的。请参阅示例。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">Chowning</span> <span class="pre">Volume</span> <span class="pre">Mounts</span></code></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">By default, Podman does not change the owner and group of source volume
directories mounted. When running using user namespaces, the UID and GID inside
the namespace may correspond to another UID and GID on the host.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">默认情况下，Podman 不会更改挂载的源卷目录的所有者和组。在使用用户命名空间运行时，命名空间内的 UID 和 GID 可能对应主机上的另一个 UID 和 GID。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">The <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">:U</span></code> suffix tells Podman to use the correct host UID and GID based on the
UID and GID within the namespace, to change recursively the owner and group of
the source volume.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">:U</span></code> 后缀告诉 Podman 根据命名空间内的 UID 和 GID 使用正确的主机 UID 和 GID，递归更改源卷的所有者和组。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">Warning</strong> use with caution since this modifies the host filesystem.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">警告谨慎使用，因为这会修改主机文件系统。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">Labeling</span> <span class="pre">Volume</span> <span class="pre">Mounts</span></code></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Labeling systems like SELinux require that proper labels are placed on volume
content mounted into a container. Without a label, the security system might
prevent the processes running inside the container from using the content. By
default, Podman does not change the labels set by the OS.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">类似 SELinux 的标签系统要求在挂载到容器中的卷内容上放置适当的标签。如果没有标签，安全系统可能会阻止容器内运行的进程使用内容。默认情况下，Podman 不会更改操作系统设置的标签。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">To change a label in the container context, add one of these two suffixes
<code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">:z</span></code> or <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">:Z</span></code> to the volume mount. These suffixes tell Podman to relabel file
objects on the shared volumes. The <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">z</span></code> option tells Podman that two containers
share the volume content. As a result, Podman labels the content with a shared
content label. Shared volume labels allow all containers to read/write content.
The <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">Z</span></code> option tells Podman to label the content with a private unshared label.
Only the current container can use a private volume.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要在容器上下文中更改标签，请在卷挂载中添加这两个后缀 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">:z</span></code> 或 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">:Z</span></code> 中的一个。这些后缀告诉 Podman 重新标记共享卷上的文件对象。 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">z</span></code> 选项告诉 Podman 两个容器共享卷内容。因此，Podman 使用共享内容标签标记内容。共享卷标签允许所有容器读写内容。 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">Z</span></code> 选项告诉 Podman 使用私有未共享标签标记内容。只有当前容器可以使用私有卷。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Note: Do not relabel system files and directories. Relabeling system content
might cause other confined services on the host machine to fail.  For these types
of containers, disabling SELinux separation is recommended.  The option
<code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--security-opt</span> <span class="pre">label=disable</span></code> disables SELinux separation for the container.
For example, if a user wanted to volume mount their entire home directory into the build containers, they need to disable SELinux separation.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意: 不要重新标记系统文件和目录。重新标记系统内容可能会导致主机上其他受限服务失败。对于这些类型的容器，建议禁用 SELinux 分离。选项 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--security-opt</span> <span class="pre">label=disable</span></code> 用于禁用容器的 SELinux 分离。例如，如果用户想要将整个家目录挂载到构建容器中，他们需要禁用 SELinux 分离。</font></font></font></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ podman build --security-opt label=disable -v $HOME:/home/user .
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">Overlay</span> <span class="pre">Volume</span> <span class="pre">Mounts</span></code></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">The <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">:O</span></code> flag tells Podman to mount the directory from the host as a
temporary storage using the Overlay file system. The <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> command containers
are allowed to modify contents within the mountpoint and are stored in the
container storage in a separate directory.  In Overlay FS terms the source
directory is the lower, and the container storage directory is the
upper. Modifications to the mount point are destroyed when the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> command
finishes executing, similar to a tmpfs mount point.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">:O</span></code> 标志告诉 Podman 将主机上的目录作为临时存储使用 Overlay 文件系统挂载。 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> 命令容器允许修改挂载点内的内容，并将其存储在容器存储中的一个单独目录中。在 Overlay FS 术语中，源目录是下层，容器存储目录是上层。对挂载点的修改在 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> 命令执行完毕时被销毁，类似于 tmpfs 挂载点。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Any subsequent execution of <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> commands sees the original source directory
content, any changes from previous RUN commands no longer exists.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">任何后续执行 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">RUN</span></code> 命令都会看到原始源目录内容，之前 RUN 命令的更改不再存在。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">One use case of the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">overlay</span></code> mount is sharing the package cache from the
host into the container to allow speeding up builds.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一个 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">overlay</span></code> 挂载的用例是将主机中的软件包缓存共享到容器中，以加快构建速度。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Note:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Overlay mounts are not currently supported in rootless mode.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在非 root 模式下，暂不支持 Overlay 挂载。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">The <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">O</span></code> flag is not allowed to be specified with the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">Z</span></code> or <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">z</span></code> flags.
Content mounted into the container is labeled with the private label.
On SELinux systems, labels in the source directory needs to be readable
by the container label. If not, SELinux container separation must be disabled
for the container to work.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不允许使用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">O</span></code> 标志与 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">Z</span></code> 或 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">z</span></code> 标志一起指定。挂载到容器中的内容带有私有标签。在 SELinux 系统上，源目录中的标签需要容器标签可读。如果不可读，则必须禁用容器的 SELinux 容器分离功能才能正常工作。</font></font></font></p></li>
<li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Modification of the directory volume mounted into the container with an
overlay mount can cause unexpected failures. Do not modify the directory until
the container finishes running.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用叠加挂载修改挂载到容器中的目录卷可能导致意外故障。在容器完成运行之前，请勿修改目录。</font></font></font></p></li>
</ul>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">By default bind mounted volumes are <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">private</span></code>. That means any mounts done
inside containers are not be visible on the host and vice versa. This behavior
can be changed by specifying a volume mount propagation property.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">默认情况下，绑定挂载的卷是 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">private</span></code> 的。这意味着容器内部进行的任何挂载对主机都不可见，反之亦然。可以通过指定卷挂载传播属性来更改此行为。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">When the mount propagation policy is set to <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">shared</span></code>, any mounts completed
inside the container on that volume is visible to both the host and
container. When the mount propagation policy is set to <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">slave</span></code>, one way mount
propagation is enabled and any mounts completed on the host for that volume is
visible only inside of the container. To control the mount propagation
property of volume use the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">:[r]shared</span></code>, <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">:[r]slave</span></code> or <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">:[r]private</span></code>
propagation flag. For mount propagation to work on the source mount point (mount
point where source dir is mounted on) has to have the right propagation properties.
For shared volumes, the source mount point has to be shared. And for slave volumes,
the source mount has to be either shared or slave. <sup data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference internal" href="#Footnote1"><span class="xref myst">[1]</span></a></sup><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当挂载传播策略设置为 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">shared</span></code> 时，在容器内完成的任何挂载都对主机和容器可见。当挂载传播策略设置为 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">slave</span></code> 时，启用单向挂载传播，并且主机上为该卷完成的任何挂载仅在容器内可见。要控制卷的挂载传播属性，请使用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">:[r]shared</span></code> 、 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">:[r]slave</span></code> 或 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">:[r]private</span></code> 传播标志。要使挂载传播在源挂载点（源目录挂载的挂载点）上工作，必须具有正确的传播属性。对于共享卷，源挂载点必须是共享的。对于从属卷，源挂载点必须是共享或从属的。 <sup data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference internal" href="#Footnote1"><span class="xref myst">[1]</span></a></sup> </font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Use <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">df</span> <span class="pre">&lt;source-dir&gt;</span></code> to determine the source mount and then use
<code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">findmnt</span> <span class="pre">-o</span> <span class="pre">TARGET,PROPAGATION</span> <span class="pre">&lt;source-mount-dir&gt;</span></code> to determine propagation
properties of source mount, if <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">findmnt</span></code> utility is not available, the source
mount point can be determined by looking at the mount entry in
<code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">/proc/self/mountinfo</span></code>. Look at <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">optional</span> <span class="pre">fields</span></code> and see if any propagation
properties are specified.
<code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">shared:X</span></code> means the mount is <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">shared</span></code>, <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">master:X</span></code> means the mount is <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">slave</span></code>
and if nothing is there that means the mount is <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">private</span></code>. <sup data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference internal" href="#Footnote1"><span class="xref myst">[1]</span></a></sup><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">df</span> <span class="pre">&lt;source-dir&gt;</span></code> 确定源挂载点，然后使用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">findmnt</span> <span class="pre">-o</span> <span class="pre">TARGET,PROPAGATION</span> <span class="pre">&lt;source-mount-dir&gt;</span></code> 确定源挂载点的传播属性，如果 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">findmnt</span></code> 实用程序不可用，可以通过查看 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">/proc/self/mountinfo</span></code> 中的挂载条目来确定源挂载点。查看 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">optional</span> <span class="pre">fields</span></code> 并查看是否指定了任何传播属性。 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">shared:X</span></code> 意味着挂载是 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">shared</span></code> ， <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">master:X</span></code> 意味着挂载是 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">slave</span></code> ，如果没有任何内容，那意味着挂载是 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">private</span></code> 。 <sup data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference internal" href="#Footnote1"><span class="xref myst">[1]</span></a></sup> </font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">To change propagation properties of a mount point use the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">mount</span></code> command. For
example, to bind mount the source directory <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">/foo</span></code> do
<code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">mount</span> <span class="pre">--bind</span> <span class="pre">/foo</span> <span class="pre">/foo</span></code> and <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">mount</span> <span class="pre">--make-private</span> <span class="pre">--make-shared</span> <span class="pre">/foo</span></code>. This
converts /foo into a <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">shared</span></code> mount point.  The propagation properties of
the source mount can be changed directly. For instance if <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">/</span></code> is the source
mount for <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">/foo</span></code>, then use <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">mount</span> <span class="pre">--make-shared</span> <span class="pre">/</span></code> to convert <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">/</span></code> into a
<code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">shared</span></code> mount.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要更改挂载点的传播属性，请使用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">mount</span></code> 命令。例如，要绑定挂载源目录 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">/foo</span></code> ，请执行 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">mount</span> <span class="pre">--bind</span> <span class="pre">/foo</span> <span class="pre">/foo</span></code> 和 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">mount</span> <span class="pre">--make-private</span> <span class="pre">--make-shared</span> <span class="pre">/foo</span></code> 。这将把/foo 转换为 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">shared</span></code> 挂载点。源挂载点的传播属性可以直接更改。例如，如果 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">/</span></code> 是 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">/foo</span></code> 的源挂载点，则使用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">mount</span> <span class="pre">--make-shared</span> <span class="pre">/</span></code> 将 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">/</span></code> 转换为 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">shared</span></code> 挂载。</font></font></font></p>
</section>
</section>
<section id="examples" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h1 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">EXAMPLES<a class="headerlink" href="#examples" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例</font></font></font></h1>
<section id="build-an-image-using-local-containerfiles" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Build an image using local Containerfiles<a class="headerlink" href="#build-an-image-using-local-containerfiles" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用本地 Containerfiles 构建镜像</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Build image using Containerfile with content from current directory:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用来自当前目录内容的 Containerfile 构建镜像：</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ podman build .
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Build image using specified Containerfile with content from current directory:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用指定的 Containerfile 构建镜像，内容来自当前目录：</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ podman build -f Containerfile.simple .
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Build image using Containerfile from stdin with content from current directory:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用来自标准输入的 Containerfile 构建镜像，内容来自当前目录：</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cat $HOME/Containerfile | podman build -f - .
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Build image using multiple Containerfiles with content from current directory:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用多个 Containerfile 构建镜像，内容来自当前目录：</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ podman build -f Containerfile.simple -f Containerfile.notsosimple .
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Build image with specified Containerfile with content from $HOME directory. Note <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">cpp</span></code> is applied to Containerfile.in before processing as Containerfile:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用指定的 Containerfile 构建镜像，内容来自 $HOME 目录。注意在处理为 Containerfile 之前，Containerfile.in 上应用了 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">cpp</span></code> ：</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ podman build -f Containerfile.in $HOME
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Build image with the specified tag with Containerfile and content from current directory:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用指定的标签和当前目录中的 Containerfile 和内容构建镜像：</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ podman build -t imageName .
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Build image ignoring registry verification for any images pulled via the Containerfile:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">通过 Containerfile 拉取的任何镜像都忽略注册表验证构建镜像：</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ podman build --tls-verify=false -t imageName .
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Build image with the specified logging format:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用指定的日志格式构建镜像</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ podman build --runtime-flag log-format=json .
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Build image using debug mode for logging:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用调试模式构建镜像以进行日志记录</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ podman build --runtime-flag debug .
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Build image using specified registry attributes when pulling images from the selected Containerfile:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从选定的 Containerfile 拉取镜像时使用指定的注册表属性构建镜像</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ podman build --authfile /tmp/auths/myauths.json --cert-dir $HOME/auth --tls-verify=true --creds=username:password -t imageName -f Containerfile.simple .
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Build image using specified resource controls when running containers during the build:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在构建过程中运行容器时使用指定的资源控制来构建镜像</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ podman build --memory 40m --cpu-period 10000 --cpu-quota 50000 --ulimit nofile=1024:1028 -t imageName .
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Build image using specified SELinux labels and cgroup config running containers during the build:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在构建过程中运行容器时使用指定的 SELinux 标签和 cgroup 配置构建镜像</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ podman build --security-opt label=level:s0:c100,c200 --cgroup-parent /path/to/cgroup/parent -t imageName .
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Build image with read-only and SELinux relabeled volume mounted from the host into running containers during the build:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在构建过程中将来自主机的只读和 SELinux 重新标记的卷挂载到运行容器中构建镜像</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ podman build --volume /home/test:/myvol:ro,Z -t imageName .
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Build image with overlay volume mounted from the host into running containers during the build:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用从主机挂载到运行容器中的叠加卷构建镜像：</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ podman build -v /var/lib/yum:/var/lib/yum:O -t imageName .
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Build image using layers and then removing intermediate containers even if the build fails.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用层构建镜像，即使构建失败也会删除中间容器。</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ podman build --layers --force-rm -t imageName .
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Build image ignoring cache and not removing intermediate containers even if the build succeeds:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">构建镜像时忽略缓存，即使构建成功也不会删除中间容器。</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ podman build --no-cache --rm=false -t imageName .
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Build image using the specified network when running containers during the build:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在构建过程中运行容器时，使用指定的网络构建镜像</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ podman build --network mynet .
</pre></div>
</div>
</section>
<section id="building-a-multi-architecture-image-using-the-manifest-option-requires-emulation-software" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Building a multi-architecture image using the --manifest option (requires emulation software)<a class="headerlink" href="#building-a-multi-architecture-image-using-the-manifest-option-requires-emulation-software" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 --manifest 选项构建多架构镜像（需要仿真软件）</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Build image using the specified architectures and link to a single manifest on successful completion:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在成功完成时使用指定的架构构建镜像，并链接到单个清单</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ podman build --arch arm --manifest myimage /tmp/mysrc
$ podman build --arch amd64 --manifest myimage /tmp/mysrc
$ podman build --arch s390x --manifest myimage /tmp/mysrc
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Similarly build using a single command<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">类似地，使用单个命令构建</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ podman build --platform linux/s390x,linux/ppc64le,linux/amd64 --manifest myimage /tmp/mysrc
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Build image using multiple specified architectures and link to single manifest on successful completion:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用多个指定的架构构建镜像，并在成功完成时链接到单个清单：</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ podman build --platform linux/arm64 --platform linux/amd64 --manifest myimage /tmp/mysrc
</pre></div>
</div>
</section>
<section id="building-an-image-using-a-url-git-repo-or-archive" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Building an image using a URL, Git repo, or archive<a class="headerlink" href="#building-an-image-using-a-url-git-repo-or-archive" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 URL、Git 存储库或存档构建镜像 ¶</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">The build context directory can be specified as a URL to a Containerfile, a
Git repository, or URL to an archive. If the URL is a Containerfile, it is
downloaded to a temporary location and used as the context. When a Git
repository is set as the URL, the repository is cloned locally to a temporary
location and then used as the context. Lastly, if the URL is an archive, it is
downloaded to a temporary location and extracted before being used as the
context.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">构建上下文目录可以指定为 Containerfile 的 URL、Git 仓库或存档的 URL。如果 URL 是 Containerfile，则会下载到临时位置并用作上下文。当 Git 仓库设置为 URL 时，仓库会被克隆到本地临时位置，然后用作上下文。最后，如果 URL 是存档，则会下载到临时位置并在用作上下文之前进行提取。</font></font></font></p>
<section id="building-an-image-using-a-url-to-a-containerfile" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h3 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Building an image using a URL to a Containerfile<a class="headerlink" href="#building-an-image-using-a-url-to-a-containerfile" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 URL 构建镜像到 Containerfile</font></font></font></h3>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Build image from Containerfile downloaded into temporary location used as the build context:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从下载到临时位置的 Containerfile 构建镜像作为构建上下文：</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ podman build https://10.10.10.1/podman/Containerfile
</pre></div>
</div>
</section>
<section id="building-an-image-using-a-git-repository" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h3 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Building an image using a Git repository<a class="headerlink" href="#building-an-image-using-a-git-repository" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 Git 存储库构建镜像 ¶</font></font></font></h3>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Podman clones the specified GitHub repository to a temporary location and
use it as the context. The Containerfile at the root of the repository is used
and it only works if the GitHub repository is a dedicated repository.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Podman 克隆指定的 GitHub 存储库到临时位置，并将其用作上下文。存储库根目录中的 Containerfile 被使用，仅在 GitHub 存储库是专用存储库时才有效。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Build image from specified git repository downloaded into temporary location used as the build context:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从指定的 git 存储库构建镜像，下载到临时位置并用作构建上下文：</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ podman build -t hello  https://github.com/containers/PodmanHello.git
$ podman run hello
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Note: GitHub does not support using <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">git://</span></code> for performing <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">clone</span></code> operation due to recent changes in their security guidance (https://github.blog/2021-09-01-improving-git-protocol-security-github/). Use an <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">https://</span></code> URL if the source repository is hosted on GitHub.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：由于最近对其安全指南进行了更改，GitHub 不支持使用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">git://</span></code> 执行 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">clone</span></code> 操作。如果源存储库托管在 GitHub 上，请使用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">https://</span></code> URL。</font></font></font></p>
</section>
<section id="building-an-image-using-a-url-to-an-archive" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h3 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Building an image using a URL to an archive<a class="headerlink" href="#building-an-image-using-a-url-to-an-archive" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 URL 构建镜像到存档文件</font></font></font></h3>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Podman fetches the archive file, decompress it, and use its contents as the
build context. The Containerfile at the root of the archive and the rest of the
archive are used as the context of the build. Passing the
<code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">-f</span> <span class="pre">PATH/Containerfile</span></code> option as well tells the system to look for that file
inside the contents of the archive.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Podman 获取存档文件，解压缩并使用其内容作为构建上下文。存档根目录下的 Containerfile 和存档的其余部分被用作构建的上下文。同时传递 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">-f</span> <span class="pre">PATH/Containerfile</span></code> 选项告诉系统在存档内容中查找该文件。</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ podman build -f dev/Containerfile https://10.10.10.1/podman/context.tar.gz
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Note: supported compression formats are ‘xz’, ‘bzip2’, ‘gzip’ and ‘identity’
(no compression).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：支持的压缩格式包括 'xz'、'bzip2'、'gzip' 和 'identity'（无压缩）。</font></font></font></p>
</section>
</section>
</section>
<section id="files" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h1 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Files<a class="headerlink" href="#files" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件</font></font></font></h1>
<section id="containerignore-dockerignore" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">.containerignore/.dockerignore<a class="headerlink" href="#containerignore-dockerignore" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">.containerignore/.dockerignore</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">If the file <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">.containerignore</em> or <em data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">.dockerignore</em> exists in the context directory,
<code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span> <span class="pre">build</span></code> reads its contents. Use the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--ignorefile</span></code> option to override the
.containerignore path location.
Podman uses the content to exclude files and directories from the context
directory, when executing COPY and ADD directives in the
Containerfile/Dockerfile<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果上下文目录中存在 .containerignore 或 .dockerignore 文件，则 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">podman</span> <span class="pre">build</span></code> 会读取其内容。使用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--ignorefile</span></code> 选项来覆盖 .containerignore 路径位置。Podman 使用这些内容来在执行 Containerfile/Dockerfile 中的 COPY 和 ADD 指令时排除上下文目录中的文件和目录。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">The .containerignore and .dockerignore files use the same syntax; if both
are in the context directory, podman build only uses .containerignore.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">.containerignore 和 .dockerignore 文件使用相同的语法；如果两者都在上下文目录中，则 podman build 仅使用 .containerignore。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Users can specify a series of Unix shell globs in a .containerignore file to
identify files/directories to exclude.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用户可以在 .containerignore 文件中指定一系列 Unix shell 通配符，以识别要排除的文件/目录。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Podman supports a special wildcard string <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">**</span></code> which matches any number of
directories (including zero). For example, **/*.go excludes all files that
end with .go that are found in all directories.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Podman 支持一个特殊的通配符字符串 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">**</span></code> ，它匹配任意数量的目录（包括零个）。例如，**/*.go 排除了所有以.go 结尾的文件，这些文件位于所有目录中。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Example .containerignore file:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 .containerignore 文件:</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># exclude this content for image</span>
<span class="o">*/*.</span><span class="n">c</span>
<span class="o">**/</span><span class="n">output</span><span class="o">*</span>
<span class="n">src</span>
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">*/*.c</span></code>
Excludes files and directories whose names ends with .c in any top level
subdirectory. For example, the source file include/rootless.c.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">*/*.c</span></code> 排除了任何顶层子目录中以 .c 结尾的文件和目录。例如，源文件包括/rootless.c。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">**/output*</span></code>
Excludes files and directories starting with <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">output</span></code> from any directory.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">**/output*</span></code> 从任何目录中排除以 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">output</span></code> 开头的文件和目录。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">src</span></code>
Excludes files named src and the directory src as well as any content in it.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">src</span></code> 排除名为 src 的文件和目录 src 以及其中的任何内容。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Lines starting with ! (exclamation mark) can be used to make exceptions to
exclusions. The following is an example .containerignore file that uses this
mechanism:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以 !（感叹号）开头的行可用于对排除项进行例外处理。以下是一个使用此机制的示例 .containerignore 文件：</font></font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>*.doc
!Help.doc
</pre></div>
</div>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Exclude all doc files except Help.doc from the image.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从镜像中排除除 Help.doc 之外的所有文档文件。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">This functionality is compatible with the handling of .containerignore files
described here:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此功能与此处描述的 .containerignore 文件的处理兼容：</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">https://github.com/containers/common/blob/main/docs/containerignore.5.md</p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">registries.conf</strong> (<code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">/etc/containers/registries.conf</span></code>)</p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">registries.conf is the configuration file which specifies which container
registries is consulted when completing image names which do not include
a registry or domain portion.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">registries.conf 是配置文件，指定在完成不包括注册表或域部分的图像名称时要查询哪些容器注册表。</font></font></font></p>
</section>
</section>
<section id="troubleshooting" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h1 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">故障排除</font></font></font></h1>
<section id="lastlog-sparse-file" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h2 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">lastlog sparse file<a class="headerlink" href="#lastlog-sparse-file" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">lastlog 稀疏文件</font></font></font></h2>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Using a useradd command within a Containerfile with a large UID/GID creates
a large sparse file <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">/var/log/lastlog</span></code>.  This can cause the
build to hang forever.  Go language does not support sparse files correctly,
which can lead to some huge files being created in the container image.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 Containerfile 中使用 useradd 命令并设置一个大的 UID/GID 会创建一个大的稀疏文件 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">/var/log/lastlog</span></code> 。这可能导致构建永远挂起。Go 语言不正确支持稀疏文件，这可能导致在容器镜像中创建一些巨大的文件。</font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">When using the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">useradd</span></code> command within the build script, pass the
<code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--no-log-init</span> <span class="pre">or</span> <span class="pre">-l</span></code> option to the <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">useradd</span></code> command.  This option tells
useradd to stop creating the lastlog file.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在构建脚本中使用 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">useradd</span></code> 命令时，向 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">useradd</span></code> 命令传递 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">--no-log-init</span> <span class="pre">or</span> <span class="pre">-l</span></code> 选项。此选项告诉 useradd 停止创建 lastlog 文件。</font></font></font></p>
</section>
</section>
<section id="see-also" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h1 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">SEE ALSO<a class="headerlink" href="#see-also" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">参见 ¶</font></font></font></h1>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference internal" href="podman.1.html" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="std std-doc" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">podman(1)</span></a></strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference external" href="https://github.com/containers/buildah/blob/main/docs/buildah.1.md" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">buildah(1)</a></strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference external" href="https://github.com/containers/image/blob/main/docs/containers-certs.d.5.md" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">containers-certs.d(5)</a></strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference external" href="https://github.com/containers/image/blob/main/docs/containers-registries.conf.5.md" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">containers-registries.conf(5)</a></strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference external" href="https://github.com/containers/crun/blob/main/crun.1.md" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">crun(1)</a></strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference external" href="https://github.com/opencontainers/runc/blob/main/man/runc.8.md" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">runc(8)</a></strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference external" href="https://www.unix.com/man-page/redhat/8/useradd" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">useradd(8)</a></strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference internal" href="podman-ps.1.html" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="std std-doc" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">podman-ps(1)</span></a></strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference internal" href="podman-rm.1.html" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="std std-doc" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">podman-rm(1)</span></a></strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference external" href="https://github.com/containers/common/blob/main/docs/Containerfile.5.md" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">Containerfile(5)</a></strong>, <strong data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference external" href="https://github.com/containers/common/blob/main/docs/containerignore.5.md" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">containerignore(5)</a></strong></p>
</section>
<section id="history" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h1 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">HISTORY<a class="headerlink" href="#history" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">历史 ¶</font></font></font></h1>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Aug 2020, Additional options and .containerignore added by Dan Walsh <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">&lt;dwalsh@redhat.com&gt;</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">2020 年 8 月，由丹·沃尔什添加了额外选项和 .containerignore <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">&lt;dwalsh@redhat.com&gt;</span></code> </font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">May 2018, Minor revisions added by Joe Doss <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">&lt;joe@solidadmin.com&gt;</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">2018 年 5 月，由乔·多斯进行了轻微修订 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">&lt;joe@solidadmin.com&gt;</span></code> </font></font></font></p>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">December 2017, Originally compiled by Tom Sweeney <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">&lt;tsweeney@redhat.com&gt;</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">2017 年 12 月，最初由 Tom Sweeney 编写 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">&lt;tsweeney@redhat.com&gt;</span></code> </font></font></font></p>
</section>
<section id="footnotes" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h1 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">FOOTNOTES<a class="headerlink" href="#footnotes" title="Link to this heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">脚注 ¶</font></font></font></h1>
<p data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1"><a name="Footnote1" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">1</a>: The Podman project is committed to inclusivity, a
core value of open source. The <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">master</span></code> and <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">slave</span></code> mount propagation
terminology used here is problematic and divisive, and needs to be changed.
However, these terms are currently used within the Linux kernel and must be
used as-is at this time. When the kernel maintainers rectify this usage,
Podman will follow suit immediately.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">1：Podman 项目致力于包容性，这是开源的核心价值观。这里使用的 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">master</span></code> 和 <code class="docutils literal notranslate" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="pre">slave</span></code> 挂载传播术语存在问题和分歧，需要进行更改。然而，这些术语目前在 Linux 内核中使用，因此目前必须按原样使用。当内核维护者纠正这种用法时，Podman 将立即跟进。</font></font></font></p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
        <div class="sphinxsidebarwrapper" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h1 class="logo" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a href="../index.html" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Podman</a></h1>








<h3 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Navigation<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">导航</font></font></font></h3>
<p class="caption" role="heading" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><span class="caption-text" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Contents:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内容:</font></font></font></span></p>
<ul data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<li class="toctree-l1" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference internal" href="../Introduction.html" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Introduction<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">介绍</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference internal" href="../Commands.html" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Commands<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">命令</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference internal" href="../Reference.html" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Reference<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">参考</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference internal" href="../Tutorials.html" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Tutorials<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">教程</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference internal" href="../Search.html" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Search<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">搜索</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a class="reference external" href="https://podman-py.readthedocs.io/en/latest/" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Podman Python</a></li>
</ul>

<div class="relations" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
<h3 data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Related Topics<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">相关主题</font></font></font></h3>
<ul data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
  <li data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"><a href="../index.html" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">Documentation overview<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文档概述</font></font></font></a><ul data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
      <input type="submit" value="Go">
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7"></div>
    </div>
    <div class="footer" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7" data-immersive-translate-paragraph="1">
      ©2019, team.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">Alabaster 0.7.16</a>
      
      |
      <a href="../_sources/markdown/podman-build.1.md.txt" rel="nofollow" data-immersive-translate-walked="1160d724-9d70-4bc3-a03e-7ccd503ecbb7">Page source</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">©2019，团队。| 由 Sphinx 7.3.7 &amp; Alabaster 0.7.16 提供支持。| 页面来源</font></font></font>
    </div>

    

    
  
</body></html>