<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><!-- source: doc/socat-tun.html -->

<title>Building TUN based virtual networks with socat</title>
<link rel="stylesheet" type="text/css" href="dest-unreach.css">




<h1 data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">Building TUN based virtual networks with socat<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 socat 构建基于 TUN 的虚拟网络</font></font></font></h1>

<h2 data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">Introduction<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">介绍</font></font></font></h2>
<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">
Some operating systems allow the generation of virtual network interfaces that
do not connect to a wire but to a process that simulates the network. Often
these devices are called TUN or TAP.
<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一些操作系统允许生成虚拟网络接口，这些接口不连接到物理网络，而是连接到模拟网络的进程。通常这些设备被称为 TUN 或 TAP。</font></font></font></p>
<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">
socat provides an address type that creates a TUN device on Linux; the other
socat address can be any type; it transfers the "wire" data as desired.
<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">socat 在 Linux 上提供了一种地址类型，可以创建一个 TUN 设备；另一个 socat 地址可以是任何类型；它按需传输“网络”数据。</font></font></font></p>
<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">
This document shows how a simple virtual network can be created between
two hosts that may be far (many network hops) apart. On both hosts a socat
instance is started that connects to the other host using UDP and creates a TUN
device.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">本文展示了如何在两个可能相距很远（经过许多网络跳数）的主机之间创建一个简单的虚拟网络。在两台主机上启动一个 socat 实例，使用 UDP 连接到另一台主机并创建一个 TUN 设备。</font></font></font><br data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">
<em data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">Note:</em>UDP is preferred because TCP might not keep packet boundaries, or
try TCP with option nodelay.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：UDP 更可取，因为 TCP 可能无法保持数据包边界，或尝试使用带有 nodelay 选项的 TCP。</font></font></font><br data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">
<em data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">Note:</em>You may replace UDP by DTLS to add transfer security
<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：您可以将 UDP 替换为 DTLS 以增加传输安全性。</font></font></font></p>
<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">
The following IP addresses are used in the example; replace them in the
following commands with the requirements of your situation:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以下 IP 地址仅用于示例；请根据您的实际情况在以下命令中替换它们。</font></font></font></p>
<table border="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">
<tbody data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><tr data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><th>host</th><th>address</th><th>mask</th></tr>
<tr data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><td data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92" data-immersive-translate-paragraph="1">physical "server" address<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">物理“服务器”地址</font></font></font></td><td>1.2.3.4</td><td data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">n/a</td></tr>
<tr data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><td data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92" data-immersive-translate-paragraph="1">physical "client" address<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">物理“客户端”地址</font></font></font></td><td data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">n/a</td><td data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">n/a</td></tr>
<tr data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><td data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92" data-immersive-translate-paragraph="1">TUN on "server"<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">服务器上的 TUN</font></font></font></td><td>192.168.255.1</td><td>255.255.255.0</td></tr>
<tr data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><td data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92" data-immersive-translate-paragraph="1">TUN on "client"<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在"客户端"上打开 TUN</font></font></font></td><td>192.168.255.2</td><td>255.255.255.0</td></tr>
</tbody></table>
<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">The UDP connection uses port 11443.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">UDP 连接使用端口 11443。</font></font></font></p>

<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">On "default" Linux installations, creating TUN/TAP devices might require
root privilege.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在"默认"的 Linux 安装中，创建 TUN/TAP 设备可能需要 root 权限。</font></font></font></p>

<!-- discussion -->
<h2 data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">Generate TUN devices with socat<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 socat 生成 TUN 设备</font></font></font></h2>
<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">In this section two instances of socat are used to generate TUN devices on
different hosts and connect the "wire" sides, providing a simple virtual
network. 
<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在本节中，使用两个 socat 实例在不同主机上生成 TUN 设备，并连接“wire”端，提供一个简单的虚拟网络。</font></font></font></p>
<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">
We distinguish server and client only with respect to the connection between
the two socat instances; the TUN interfaces both have the same quality.
<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">我们只区分服务器和客户端在两个 socat 实例之间的连接方面；TUN 接口都具有相同的质量。</font></font></font></p>

<h3 data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">TUN Server<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">TUN 服务器</font></font></font></h3>

<span class="frame" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><span class="shell" data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">socat -d -d UDP-LISTEN:11443,reuseaddr TUN:192.168.255.1/24,up</span></span>
<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">After starting this command, socat will wait for a connection and then
create a TUN pseudo network device with address 192.168.255.1; the bit number
specifies the mask of the network that is pretended to be connected on this
interface.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">启动此命令后，socat 将等待连接，然后创建一个带有地址 192.168.255.1 的 TUN 伪网络设备；位数指定了在此接口上假装连接的网络的掩码。</font></font></font></p>

<h3 data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">TUN Client<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">TUN 客户端</font></font></font></h3>
<span class="frame" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><span class="shell" data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">socat UDP:1.2.3.4:11443 TUN:192.168.255.2/24,up</span></span>
<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">This command should establish a connection to the server and create the TUN
device on the client.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这个命令应该在客户端与服务器建立连接并创建 TUN 设备。</font></font></font></p>

<h3 data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">Seeing it work<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">看到它工作</font></font></font></h3>

<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">
After successful connection both TUN interfaces should be active and transfer
date between each other using the UDP connection. Try this by pinging
192.168.255.1 from the client and 192.168.255.2 from the server.
<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">成功连接后，两个 TUN 接口应处于活动状态，并使用 UDP 连接彼此之间传输数据。通过从客户端 ping 192.168.255.1 和从服务器 ping 192.168.255.2 来尝试这一点。</font></font></font></p>

<h3 data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">UDP/IP version 6<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">UDP/IP 版本 6</font></font></font></h3>

<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">IPv6 as transport should work just like any UDP/IPv6 connection.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">作为传输的 IPv6 应该像任何 UDP/IPv6 连接一样工作。</font></font></font></p>

<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">Creation of an IPv6 virtual interface is not directly possible, but you can
generate an IPv4 interface as described above, and add IPv6 addresses using
the <tt data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">ifconfig</tt> command.

<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">创建 IPv6 虚拟接口不是直接可能的，但您可以像上面描述的那样生成一个 IPv4 接口，并使用 <tt data-immersive-translate-walked="189d5cac-4f05-4171-ad86-85355e5c45f3">ifconfig</tt> 命令添加 IPv6 地址。</font></font></font></p><h2 data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">Troubleshooting<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">故障排除</font></font></font></h2>

<h3 data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">Test TUN integration<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">测试 TUN 集成</font></font></font></h3>
<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">
If you get error messages like this:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果您收到类似以下错误消息：</font></font></font></p>
<table border="1" bgcolor="#e08080" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><tbody data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><tr data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><td data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><tt data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">... E unknown device/address "tun"</tt></td></tr></tbody></table>
<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">your socat executable probably does not provide TUN/TAP support. Potential
reasons: you are not on Linux or are using an older version of socat.
<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">您的 socat 可执行文件可能不提供 TUN/TAP 支持。可能的原因是：您不在 Linux 上或者正在使用较旧版本的 socat。</font></font></font></p>

<h3 data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">Missing kernel support<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">缺少内核支持</font></font></font></h3>
<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">An error message like:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">像这样的错误消息：</font></font></font></p>
<table border="1" bgcolor="#e08080" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><tbody data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><tr data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><td data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><tt data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">... E open("/dev/net/tun", 02, 0666): No such file or directory</tt></td></tr></tbody></table>
<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">indicates that your kernel does not have TUN/TAP support compiled
in. Rebuild your kernel with the appropriate configuration (probably under
<b data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">Device driver / Network device support / Network device / Universal TUN/TAP</b>).
<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">表明您的内核没有编译 TUN/TAP 支持。请使用适当的配置重新构建您的内核（可能在设备驱动程序 / 网络设备支持 / 网络设备 / 通用 TUN/TAP 下）。</font></font></font></p>

<h3 data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">TUN cloning device permissions<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">TUN 克隆设备权限</font></font></font></h3>
<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">An error message like:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">类似以下错误消息：</font></font></font></p>
<table border="1" bgcolor="#e08080" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><tbody data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><tr data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><td data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><tt data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">... E open("/dev/net/tun", 02, 0666): Permission denied</tt></td></tr></tbody></table>
<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">indicates that you do not have permission to read or write the TUN cloning
device. Check its permission and ownership.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">表明您没有权限读取或写入 TUN 克隆设备。请检查其权限和所有权。</font></font></font></p>

<h3 data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">Interface down<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接口已关闭</font></font></font></h3>
<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">If no error occurs but the pings do not work check if the network devices
have been created:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果没有错误发生，但 ping 不起作用，请检查网络设备是否已创建：</font></font></font></p>
<span class="frame" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><span class="shell" data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">ifconfig tun0</span></span>
<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">The output should look like:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">输出应该如下所示：</font></font></font></p>
<pre>tun0      Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00  
          inet addr:192.168.255.1  P-t-P:192.168.255.1  Mask:255.255.255.0
          UP POINTOPOINT RUNNING NOARP MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:500 
          RX bytes:0 (0.0 b)  TX bytes:0 (0.0 b)
</pre>
<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">Check the "UP" keyword; you forget the "up" option in the socat command if
 it is missing.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">检查“UP”关键字；如果缺少“up”选项，请检查 socat 命令。</font></font></font></p><p data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">
</p><p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">Check if the correct IP address and network mask are displayed.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">检查是否显示了正确的 IP 地址和网络掩码。</font></font></font></p>

<h3 data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">Routing<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">路由</font></font></font></h3>
<p data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"></p>
<span class="frame" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92"><span class="shell" data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">netstat -an |fgrep 192.168.255</span></span>
<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">The output should look like:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">输出应该看起来像：</font></font></font></p>
<pre>192.168.255.0   0.0.0.0         255.255.255.0   U         0 0          0 tun0
</pre>

<h3 data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">Other problems<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">其他问题</font></font></font></h3>
<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">Another reason for failure might be iptables.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">失败的另一个原因可能是 iptables。</font></font></font></p>
<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">Run socat with options <tt data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">-d -d -d</tt>, this will show every data transfer
between the two processes. Each ping probe should cause a forth and a back
transfer.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用选项 <tt data-immersive-translate-walked="189d5cac-4f05-4171-ad86-85355e5c45f3">-d -d -d</tt> 运行 socat，这将显示两个进程之间的每次数据传输。每个 ping 探测应该引起前向和后向传输。</font></font></font></p><p data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">

</p><h2 data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">History<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">历史</font></font></font></h2>
<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">
Linux TUN/TAP support was added to socat in version 1.6.0.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Linux TUN/TAP 支持在 socat 的 1.6.0 版本中添加。</font></font></font></p>

<p data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">This document was last modified in April 2009.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">该文档最后修改于 2009 年 4 月。</font></font></font></p>

<h2 data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">More info about socat TUN/TAP support<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">socat TUN/TAP 支持的更多信息</font></font></font></h2>

<h3 data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">Links regarding this tutorial<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">有关本教程的链接</font></font></font></h3>
<a href="socat.html#ADDRESS_TUN" data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">socat address tun<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">socat 地址 tun</font></font></font></a><br data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">

<h3 data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">socat options for TUN/TAP addresses<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">TUN/TAP 地址的 socat 选项</font></font></font></h3>
<a href="socat.html#GROUP_TUN" data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">TUN/TAP options<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">TUN/TAP 选项</font></font></font></a><br data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">

<h2 data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">References<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">参考资料</font></font></font></h2>
<a href="../../socat" data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">socat home page<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">socat 主页</font></font></font></a><br data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">
<a href="socat.html" data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">socat man page<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">socat 手册页面</font></font></font></a><br data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">
<a href="http://openvpn.net/" data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">OpenVPN home page<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">OpenVPN 主页</font></font></font></a><br data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">
<a href="http://en.wikipedia.org/wiki/TUN/TAP" data-immersive-translate-paragraph="1" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">TUN/TAP on Wikipedia<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在维基百科上的 TUN/TAP</font></font></font></a><br data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">

<p data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">
<small data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92" data-immersive-translate-paragraph="1">Copyright: Gerhard Rieger 2007-2009<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">版权所有：Gerhard Rieger 2007-2009</font></font></font></small><br data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">
<small data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92" data-immersive-translate-paragraph="1">License: <a href="http://www.fsf.org/licensing/licenses/fdl.html" data-immersive-translate-walked="468ed9f8-3106-4c73-8fdc-cd0be9055d92">GNU Free Documentation License (FDL)</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">许可证：GNU 自由文档许可证（FDL）</font></font></font></small>
</p>



</body></html>