<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
</style></head><body data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">


  <meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Development notes — BTRFS  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css">
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css">

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script async="async" src="../../../_/static/javascript/readthedocs-doc-embed.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html">
    <link rel="search" title="Search" href="../search.html">
    <link rel="next" title="Developer’s FAQ" href="Developer-s-FAQ.html">
    <link rel="prev" title="Zoned mode" href="../Zoned-mode.html">
    <link href="../_static/style.css" rel="stylesheet" type="text/css">


<!-- RTD Extra Head -->

<link rel="stylesheet" href="../../../_/static/css/readthedocs-doc-embed.css" type="text/css">

<script type="application/json" id="READTHEDOCS_DATA">{"ad_free": false, "api_host": "https://readthedocs.org", "builder": "sphinx", "canonical_url": null, "docroot": "/Documentation/", "features": {"docsearch_disabled": false}, "global_analytics_code": "UA-17997319-1", "language": "en", "page": "dev/Development-notes", "programming_language": "words", "project": "btrfs", "proxied_api_host": "/_", "source_suffix": ".rst", "subprojects": {}, "theme": "sphinx_rtd_theme", "user_analytics_code": "", "version": "stable"}</script>

<!--
Using this variable directly instead of using `JSON.parse` is deprecated.
The READTHEDOCS_DATA global variable will be removed in the future.
-->
<script type="text/javascript">
READTHEDOCS_DATA = JSON.parse(document.getElementById('READTHEDOCS_DATA').innerHTML);
</script>

<script type="text/javascript" src="../../../_/static/javascript/readthedocs-analytics.js" async="async"></script>

<!-- end RTD <extrahead> -->


 
  <div class="wy-grid-for-nav" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
      <div class="wy-side-scroll" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
        <div class="wy-side-nav-search" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">

          
          
          <a href="../index.html" class="icon icon-home" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">
            BTRFS
          </a>
              <div class="version" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">
                stable
              <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">稳定</font></font></font></div>
<div role="search" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
    <input type="hidden" name="check_keywords" value="yes" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
    <input type="hidden" name="area" value="default" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
              <p class="caption" role="heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="caption-text" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Overview<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">概述</font></font></font></span></p>
<ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Introduction.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Introduction<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">介绍</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Status.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Status<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">状态</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../man-index.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Manual pages<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">手册页面</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Administration.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Administration<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">管理</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Hardware.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Hardware considerations<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">硬件考虑</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Feature-by-version.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Changes (feature/version)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">变更（功能/版本）</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Kernel-by-version.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Changes (kernel/version)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">变更（内核/版本）</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../CHANGES.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Changes (btrfs-progs)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">变更（btrfs-progs）</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Contributors.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Contributors<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">贡献者</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Glossary.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Glossary<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">术语表</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../INSTALL.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Installation instructions<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">安装说明</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Source-repositories.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Source repositories<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">源代码库</font></font></font></a></li>
</ul>
<p class="caption" role="heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="caption-text" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Features<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">特性</font></font></font></span></p>
<ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Common-features.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Common Linux features<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">常见的 Linux 特性</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Custom-ioctls.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Custom ioctls<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">自定义 ioctls</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Auto-repair.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Auto-repair on read<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">读取时自动修复</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Balance.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Balance<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">平衡</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Compression.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Compression<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">压缩</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Checksumming.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Checksumming<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">校验和</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Convert.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Convert<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">转换</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Deduplication.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Deduplication<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">重复数据删除</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Defragmentation.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Defragmentation<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">碎片整理</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Inline-files.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Inline files<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内联文件</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Qgroups.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Quota groups<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配额组</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Reflink.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Reflink<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">引用链接</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Resize.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Resize<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">调整大小</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Scrub.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Scrub<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">擦拭</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Seeding-device.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Seeding device<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">种子设备</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Send-receive.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Send/receive<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">发送/接收</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Subpage.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Subpage support<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">子页面支持</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Subvolumes.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Subvolumes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">子卷</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Swapfile.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Swapfile<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">交换文件</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Tree-checker.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Tree checker<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">树检查器</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Trim.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Trim/discard<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">修剪/丢弃</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Volume-management.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Volume management<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">卷管理</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Zoned-mode.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Zoned mode<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">分区模式</font></font></font></a></li>
</ul>
<p class="caption" role="heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="caption-text" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Developer documentation<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">开发者文档</font></font></font></span></p>
<ul class="current" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li class="toctree-l1 current" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="current reference internal" href="#" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Development notes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">开发笔记</font></font></font></a><ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li class="toctree-l2" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#adding-a-new-ioctl-extending-an-existing-one" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Adding a new ioctl, extending an existing one<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加新的 ioctl，扩展现有的 ioctl</font></font></font></a></li>
<li class="toctree-l2" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#tracepoints" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Tracepoints</a></li>
<li class="toctree-l2" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#error-messages-verbosity" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Error messages, verbosity<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">错误消息，冗余度</font></font></font></a></li>
<li class="toctree-l2" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#message-level" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Message level<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">消息级别</font></font></font></a></li>
<li class="toctree-l2" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#error-handling-and-transaction-abort" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Error handling and transaction abort<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">错误处理和事务中止</font></font></font></a></li>
<li class="toctree-l2" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#error-handling-and-return-values" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Error handling and return values<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">错误处理和返回值</font></font></font></a></li>
<li class="toctree-l2" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#handling-unexpected-conditions" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Handling unexpected conditions<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">处理意外条件</font></font></font></a></li>
<li class="toctree-l2" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#error-injection-using-ebpf" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Error injection using eBPF<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 eBPF 进行错误注入</font></font></font></a></li>
<li class="toctree-l2" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#warnings-and-issues-found-by-static-checkers-and-similar-tools" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Warnings and issues found by static checkers and similar tools<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">静态检查器和类似工具发现的警告和问题</font></font></font></a></li>
<li class="toctree-l2" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#coding-style-preferences" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Coding style preferences<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">编码风格偏好</font></font></font></a><ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li class="toctree-l3" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#patches" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Patches<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">补丁</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#function-declarations" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Function declarations<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">函数声明</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#headers" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Headers<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">头部</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#comments" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Comments<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">评论</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#misc" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Misc<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">杂项</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#locking" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Locking<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">锁定</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#code" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Code<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">代码</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#output" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Output<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">输出</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#expressions-operators" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Expressions, operators<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">表达式，运算符</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#variable-declarations-parameters" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Variable declarations, parameters<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">变量声明，参数</font></font></font></a></li>
</ul>
</li>
<li class="toctree-l2" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#kernel-config-options" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Kernel config options<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内核配置选项</font></font></font></a><ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li class="toctree-l3" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#bug-max-lockdep-chain-hlocks-too-low" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">BUG: MAX_LOCKDEP_CHAIN_HLOCKS too low!<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">BUG: MAX_LOCKDEP_CHAIN_HLOCKS 太低了！</font></font></font></a></li>
</ul>
</li>
<li class="toctree-l2" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#fstests-setup" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">fstests setup<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">fstests 设置</font></font></font></a><ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li class="toctree-l3" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#kernel-config-options-for-complete-test-coverage" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Kernel config options for complete test coverage<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">完整测试覆盖的内核配置选项</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#kernel-config-options-for-better-bug-reports" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Kernel config options for better bug reports<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用于更好的错误报告的内核配置选项</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#user-space-utilities-and-development-library-dependencies" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">User space utilities and development library dependencies<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用户空间实用程序和开发库依赖项</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#storage-environment" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Storage environment<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">存储环境</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="#other-requirements" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Other requirements<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">其他要求</font></font></font></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="Developer-s-FAQ.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Developer’s FAQ<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">开发者常见问题解答</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../DocConventions.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Conventions and style for documentation<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文档约定和风格</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="Experimental.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Experimental features<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">实验性功能</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="dev-btrfs-design.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Btrfs design<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Btrfs 设计</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="dev-btrees.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Btrees</a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="On-disk-format.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">On-disk Format<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">磁盘格式</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="dev-send-stream.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Send stream format<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">发送流格式</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="dev-json.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">JSON output<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">JSON 输出</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="dev-internal-apis.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Internal APIs<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内部 API</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="ReleaseChecklist.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Release checklist<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">发布清单</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../btrfs-ioctl.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">btrfs-ioctl(2)</a></li>
</ul>
<p class="caption" role="heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="caption-text" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">TODO<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">待办事项</font></font></font></span></p>
<ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Quick-start.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Quick start<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">快速开始</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../Interoperability.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Interoperability<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">互操作性</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference internal" href="../trouble-index.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Troubleshooting pages<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">故障排除页面</font></font></font></a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><nav class="wy-nav-top" aria-label="Mobile navigation menu" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">BTRFS</a>
      </nav>

      <div class="wy-nav-content" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
        <div class="rst-content" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
          <div role="navigation" aria-label="Page navigation" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
  <ul class="wy-breadcrumbs" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
      <li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a href="../index.html" class="icon icon-home" aria-label="Home" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a></li>
      <li class="breadcrumb-item active" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Development notes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">开发说明</font></font></font></li>
      <li class="wy-breadcrumbs-aside" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
              <a href="https://github.com/kdave/btrfs-progs/blob/5d97c32d6f94cf6f473a5f82964e3edaeb1b146e/Documentation/dev/Development-notes.rst" class="fa fa-github" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1"> Edit on GitHub<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 GitHub 上编辑</font></font></font></a>
      </li>
  </ul>
  <hr>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
           <div itemprop="articleBody" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
             
  <section id="development-notes" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h1 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Development notes<a class="headerlink" href="#development-notes" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">开发说明 </font></font></font></h1>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Collection of various notes about development practices, how-to’s or
checklists.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">关于开发实践、操作指南或清单的各种笔记集合。</font></font></font></p>
<section id="adding-a-new-ioctl-extending-an-existing-one" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h2 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Adding a new ioctl, extending an existing one<a class="headerlink" href="#adding-a-new-ioctl-extending-an-existing-one" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加新的 ioctl，扩展现有的 ioctl。</font></font></font></h2>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">add code to <a class="reference external" href="https://github.com/strace/strace" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">strace</a> so the ioctl calls
are parsed into a human readable form. Most of the ioctls are already
<a class="reference external" href="https://github.com/strace/strace/blob/master/src/btrfs.c" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">implemented</a> and
can be used a reference.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加代码到 strace，以便将 ioctl 调用解析为人类可读的形式。大多数 ioctl 已经实现并可以用作参考。</font></font></font></p></li>
</ul>
</section>
<section id="tracepoints" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h2 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Tracepoints<a class="headerlink" href="#tracepoints" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">跟踪点</font></font></font></h2>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">The tracepoint message format should be compact and consistent, so please stick
to the following format:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">跟踪点消息格式应简洁一致，请遵循以下格式：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">key=value</em> no spaces around <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">=</em><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">键=值 等号周围不要有空格</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">separated by spaces, not commas<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用空格分隔，而不是逗号</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">named values: print value and string, like “%llu(%s)”, no space between,
string in parens<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">命名值：打印值和字符串，如“%llu(%s)”，之间不要有空格，字符串在括号内</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">avoid abbreviating key values too much, (e.g. use ‘size’ not ‘sz’)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">避免过度缩写键值（例如使用'size'而不是'sz'）</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">hexadecimal values are always preceded by <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">0x</em> (use “0x%llx”)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">十六进制值始终以 0x 开头（使用“0x%llx”）</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">use <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">struct btrfs_inode</em> for inode types, not plain <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">struct inode</em><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">对于 inode 类型，请使用 struct btrfs_inode，而不是普通的 struct inode</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">inode number type is <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">u64</em>, use <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">btrfs_ino</em> if needed<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">inode 编号类型为 u64，如有需要，请使用 btrfs_ino</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">key can be printed as <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">[%llu,%u,%llu]</em><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">键可以打印为[%llu，%u，%llu]</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">enum types need to be exported as <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">TRACE_DEFINE_ENUM</em><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">枚举类型需要导出为 TRACE_DEFINE_ENUM</font></font></font></p></li>
</ul>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><strong data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Example:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">例子:</font></font></font></strong></p>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">event: <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">btrfs__chunk</em><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">事件：btrfs__chunk</font></font></font></p>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">string: <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">"root=%llu(%s)&nbsp;offset=%llu&nbsp;size=%llu&nbsp;num_stripes=%d&nbsp;sub_stripes=%d&nbsp;type=%s"</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">字符串： <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">"root=%llu(%s)&nbsp;offset=%llu&nbsp;size=%llu&nbsp;num_stripes=%d&nbsp;sub_stripes=%d&nbsp;type=%s"</span></code> </font></font></font></p>
</section>
<section id="error-messages-verbosity" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h2 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Error messages, verbosity<a class="headerlink" href="#error-messages-verbosity" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">错误消息，详细程度 </font></font></font></h2>
<ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">use <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">btrfs_*</em> helpers (btrfs_err, btrfs_info, …), they print a filesystem
identification like <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">BTRFS&nbsp;info&nbsp;(device&nbsp;sdb):&nbsp;...</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 btrfs_* 助手（btrfs_err，btrfs_info，...），它们会打印类似 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">BTRFS&nbsp;info&nbsp;(device&nbsp;sdb):&nbsp;...</span></code> 的文件系统标识</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">first letter in the string is lowercase<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">字符串中的第一个字母是小写</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">message contents<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">消息内容</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">be descriptive<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要描述性的</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">keep the text length reasonable (fits one line without wrapping)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">保持文本长度合理（一行不换行）</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">no typos<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">没有拼写错误</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">print values that refer to what happened (inode number, subvolume
id, path, offset, …)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">打印指向发生的事件的值（索引节点号、子卷 ID、路径、偏移量等）</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">print error value from the last call<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">打印上次调用的错误值</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">no <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">“\n”</em> at the end of the string<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">字符串末尾没有“\n”</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">no <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">“.</em>’’ at the end of text<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文本末尾不要有“。”</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">un-indent the string so it fits under 80 columns<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不要缩进字符串，使其适合在 80 列下</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">don’t split long strings, overflow 80 is ok in this case (we want
to be able to search for the error messages in the sources easily)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不要拆分长字符串，在这种情况下超过 80 是可以的（我们希望能够轻松地在源代码中搜索错误消息）</font></font></font></p></li>
</ul>
</li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">value representation<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">值表示</font></font></font></p>
<blockquote data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<div data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">decimal: offsets, length, ordinary numbers<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">十进制：偏移量，长度，普通数字</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">hexadecimal: checksums<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">十六进制：校验和</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">hexadecimal + string: bitmasks (e.g. raid profiles, flags)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">十六进制 + 字符串：位掩码（例如 RAID 配置文件、标志）</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">intervals of integers:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">整数区间：</font></font></font></p>
<ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">closed interval (end values inclusive): [0, 4096]<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">闭区间（包括结束值）：[0, 4096]</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">half-open (right value excluded): [0, 4096)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">半开区间（右值不包括）：[0, 4096)</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">half-open (left value excluded): (0, 4096] -- that one may look
strange but is used in several places<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">半开区间（左值不包括）：(0, 4096] -- 这个可能看起来有点奇怪，但在几个地方被使用</font></font></font></p></li>
</ul>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="message-level" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h2 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Message level<a class="headerlink" href="#message-level" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">消息级别 </font></font></font></h2>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">btrfs_err -- such messages have high visibility so use them for serious
problems that need user attention<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">btrfs_err -- 这些消息具有很高的可见性，因此用于需要用户关注的严重问题</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">btrfs_warn -- conditions that are not too serious but can point to potential
problems, the system should be still in a good state<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">btrfs_warn -- 不太严重但可能指向潜在问题的条件，系统应该仍处于良好状态</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">btrfs_info -- use for informative messages that are useful to see what’s
happening in the filesystem or might help debugging problems in the future
and are worth keeping in the logs<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">btrfs_info -- 用于信息性消息，有助于查看文件系统中正在发生的情况或可能有助于未来调试问题，并值得保留在日志中</font></font></font></p></li>
</ul>
</section>
<section id="error-handling-and-transaction-abort" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h2 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Error handling and transaction abort<a class="headerlink" href="#error-handling-and-transaction-abort" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">错误处理和事务中止</font></font></font></h2>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Please keep all transaction abort exactly at the place where they happen and do
not merge them to one. This pattern should be used everywhere and is important
when debugging because we can pinpoint the line in the code from the syslog
message and do not have to guess which way it got to the merged call.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请确保所有事务中止都准确地发生在它们发生的地方，不要将它们合并为一个。这种模式应该在任何地方使用，并且在调试时非常重要，因为我们可以从系统日志消息中准确定位代码中的行，而不必猜测它是如何到达合并调用的。</font></font></font></p>
</section>
<section id="error-handling-and-return-values" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h2 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Error handling and return values<a class="headerlink" href="#error-handling-and-return-values" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">错误处理和返回值</font></font></font></h2>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Functions are supposed to handle all errors of the callees and clean up the
local context before returning. If a function does not need to pass errors to
the caller it can be switched to return <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">void</em>. Before doing so make sure that:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">函数应该处理调用者的所有错误，并在返回之前清理本地上下文。如果函数不需要将错误传递给调用者，则可以切换为返回 void。在这样做之前，请确保：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">the function does not call any BUG/BUG_ON<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">函数不调用任何 BUG/BUG_ON</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">all callees properly handle errors and do not call BUG/BUG_ON in place of
error handling<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">所有的被调用者都正确处理错误，并且不在错误处理的地方调用 BUG/BUG_ON</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">the whole call chain starting from the function satisfies the above<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从满足上述函数开始的整个调用链</font></font></font></p></li>
</ul>
</section>
<section id="handling-unexpected-conditions" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h2 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Handling unexpected conditions<a class="headerlink" href="#handling-unexpected-conditions" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">处理意外条件</font></font></font></h2>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">This is different than error handling. An unexpected condition happens when the
code invariants/assumptions do not hold and there’s no way to recover from the
situation. This means that returning an error to the caller can’t be done and
continuing would only propagate the logic error further. The reasons for that
bug can be two fold: internal (a genuine bug) or external (e.g. memory bitflip,
memory corrupted by other subsystem). In this case it is allowed to use the
nuclear option and do BUG_ON, that is otherwise highly discouraged.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这与错误处理不同。当代码的不变性/假设不成立且无法从情况中恢复时，就会发生意外情况。这意味着无法向调用者返回错误，继续操作只会进一步传播逻辑错误。造成该错误的原因可能有两种：内部原因（真正的错误）或外部原因（例如内存位翻转，其他子系统损坏的内存）。在这种情况下，允许使用核心选项并执行 BUG_ON，否则是极不鼓励的。</font></font></font></p>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">There are several ways how to react to the unexpected conditions:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如何对意外情况做出反应有几种方式：</font></font></font></p>
<ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">btrfs_abort_transaction()</p>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">The recommended way if and only if we can not recover from the situation and
have a transaction handle.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">推荐的方式是只有在我们无法从情况中恢复并且有事务处理时。</font></font></font></p>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">This would cause the filesystem to be flipped read-only to prevent further
corruption.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这将导致文件系统被翻转为只读，以防止进一步损坏。</font></font></font></p>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Additionally call trace would be dumpped for the first btrfs_abort_transaction()
call site.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此外，将为第一个 btrfs_abort_transaction()调用站点转储调用跟踪。</font></font></font></p>
</li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">ASSERT()</p>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Conditionally compiled in and crashes when the condition is false.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当条件为假时，条件编译并崩溃。</font></font></font></p>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">This should only be utilized for debugging purposes, acts as a fail-fast
option for developers, thus should not be utilized for error handling.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这应仅用于调试目的，作为开发人员的快速失败选项，因此不应用于错误处理。</font></font></font></p>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">It’s recommended only for very basic (thus sometimes unnecessary) requirements.
Such usage should be easy to locate, have no complex call chain.
E.g. to rule out invalid function parameter combinations.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">仅建议用于非常基本（因此有时是不必要的）要求。此类用法应易于定位，没有复杂的调用链。例如，排除无效的函数参数组合。</font></font></font></p>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Should not be utilized on any data/metadata reads from disks, as they can be
invalid. For sanity check examples of on-disk metadata, please refer to
<cite data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">Tree checker</cite>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不应在从磁盘读取任何数据/元数据时使用，因为它们可能无效。有关磁盘上元数据的健全性检查示例，请参考 Tree checker。</font></font></font></p>
</li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">WARN_ON<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">警告</font></font></font></p>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Unconditional and noisy checks, but still allow the code to continue.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">无条件且嘈杂的检查，但仍允许代码继续运行。</font></font></font></p>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Should only be utilized if a call trace is critical for debugging.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">仅在调试时关键时才应使用通话跟踪。</font></font></font></p>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Not recommended if:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不建议在以下情况使用：</font></font></font></p>
<ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">The call site is unique or can be easily located<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">通话位置是唯一的或可以轻松定位。</font></font></font></p>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">In that case, an error message is recommended.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在这种情况下，建议显示错误消息。</font></font></font></p>
</li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">The call site would eventually lead to a btrfs_abort_transaction() call<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">调用点最终会导致调用 btrfs_abort_transaction()。</font></font></font></p>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">btrfs_abort_transaction() call would dump the stack anyway.
If the call trace is critical, it’s recommended to move the
btrfs_abort_transaction() call closer to the place where the error happens.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">btrfs_abort_transaction() 调用无论如何都会转储堆栈。如果调用跟踪很关键，建议将 btrfs_abort_transaction() 调用移动到发生错误的地方附近。</font></font></font></p>
</li>
</ul>
</li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">BUG_ON</p>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Should not be utilized, and is incrementally removed or replaced in the code.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不应该被使用，并且在代码中逐步被移除或替换。</font></font></font></p>
</li>
</ul>
</section>
<section id="error-injection-using-ebpf" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h2 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Error injection using eBPF<a class="headerlink" href="#error-injection-using-ebpf" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 eBPF 进行错误注入 </font></font></font></h2>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Functions can be annotated to enable error injection using the eBPF scripts.
See e.g. <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">disk-io.c:open_ctree</span></code>. For btrfs-specific injection, the annotation
is ALLOW_ERROR_INJECTION, but beware that this only overrides the return value
and this can leak memory or other resources.  For error injection to generic
helpers (e.g. memory allocation), you can use something like
<code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">bcc/tools/inject.py</span> <span class="pre">kmalloc</span> <span class="pre">btrfs_alloc_device()</span> <span class="pre">-P</span> <span class="pre">0.001</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">函数可以被注释以启用使用 eBPF 脚本进行错误注入。例如查看 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">disk-io.c:open_ctree</span></code> 。对于特定于 btrfs 的注入，注释是 ALLOW_ERROR_INJECTION，但请注意，这仅覆盖返回值，这可能会泄漏内存或其他资源。对于对通用助手（例如内存分配）进行错误注入，您可以使用类似 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">bcc/tools/inject.py</span> <span class="pre">kmalloc</span> <span class="pre">btrfs_alloc_device()</span> <span class="pre">-P</span> <span class="pre">0.001</span></code> 的东西。</font></font></font></p>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Resources:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">资源：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference external" href="https://ebpf.io/" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">eBPF</a></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a class="reference external" href="https://github.com/iovisor/bcc" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">BCC tools<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">BCC 工具</font></font></font></a></p></li>
</ul>
</section>
<section id="warnings-and-issues-found-by-static-checkers-and-similar-tools" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h2 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Warnings and issues found by static checkers and similar tools<a class="headerlink" href="#warnings-and-issues-found-by-static-checkers-and-similar-tools" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">静态检查器和类似工具发现的警告和问题 </font></font></font></h2>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">There are tools to automatically identify known issues in code and report them
as problems to be fixed, but not all such reports are valid or relevant in the
context of the code base. The fix should really fix the code, not just the
tool’s warning. Such patches will be rejected with explanation first time and
ignored when sent repeatedly. Patches fixing real problems with a good
explanation are welcome. If you’re not sure about sending such patch, please
ask the <a class="reference external" href="https://kernelnewbies.org/KernelJanitors" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">https://kernelnewbies.org/KernelJanitors</a> for help.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">有工具可以自动识别代码中已知问题并将其报告为需要修复的问题，但并非所有这类报告在代码库的上下文中都是有效或相关的。修复应该真正修复代码，而不仅仅是工具的警告。这样的补丁将首次被拒绝并附有解释，并在重复发送时被忽略。欢迎提供解释良好的修复真正问题的补丁。如果您不确定是否发送此类补丁，请向 https://kernelnewbies.org/KernelJanitors 寻求帮助。</font></font></font></p>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Do not blindly report issues caught by:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不要盲目报告被检测到的问题：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">checkpatch.pl -- the script is good for catching some coding style but this
whole wiki page exists to be explicit what we want, not necessarily what
checkpatch wants<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">checkpatch.pl -- 该脚本适用于捕捉一些编码风格，但整个维基页面的存在是为了明确我们想要的，而不一定是 checkpatch 想要的</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">clang static analyzer -- lots of the reports are not real problems and may
depend on a condition that’s not recognized by the checker<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">clang 静态分析器 -- 许多报告并非真正的问题，可能取决于检查器未识别的条件</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">gcc -Wunused -- any of the -Wunused-* options can report a valid issue but
it must be viewed in wider context and not just removed to get rid of the
warning<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">gcc -Wunused -- 任何 -Wunused-* 选项都可能报告一个有效问题，但必须在更广泛的背景下查看，不能仅仅为了消除警告而将其删除</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">codespell -- fixing typos is fine but should be done in batches and over
whole code base<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">codespell -- 修复拼写错误是可以的，但应该批量进行，并覆盖整个代码库</font></font></font></p></li>
</ul>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Hints:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">提示:</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">if you find an issue, look in the whole code base if there are more instances
same or following a similar pattern<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果您发现问题，请查看整个代码库，看看是否有更多相同或类似模式的实例</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">look into git history of the changed code, why it got there and when, it may
help to understand if it’s a bug or e.g. a stale code<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">查看更改代码的 git 历史记录，为什么会出现这种情况以及何时出现，这可能有助于理解它是一个 bug 还是例如一个过时的代码</font></font></font></p></li>
</ul>
</section>
<section id="coding-style-preferences" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h2 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Coding style preferences<a class="headerlink" href="#coding-style-preferences" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">编码风格偏好 </font></font></font></h2>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Before applying recommendations from this sections, please make sure you’re
familiar with the <a class="reference external" href="https://www.kernel.org/doc/html/latest/process/coding-style.html%7Cgeneric" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">kernel coding style guide</a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在应用本节推荐之前，请确保您熟悉内核编码风格指南。</font></font></font></p>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">The purpose of coding style is to maintain unified and consistent look &amp; feel
of the patches and code, keeping distractions to minimum which decreases
cognitive load and allows focus on the important things.  Coding style is not
only where to put white space or curly brackets but also coding patterns with
meaning that is established and understood in the developer group. The code in
linux kernel is maintained for a long period of time and maintainability is of
crucial importance. This means it does take time to write good code, with
attention to detail. Once written the code could stay unchanged for years but
will be read many times. <a class="reference external" href="https://simpleprogrammer.com/maintaining-code/" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">Read more</a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">编码风格的目的是保持补丁和代码的统一和一致的外观和感觉，尽量减少干扰，降低认知负荷，使注意力集中在重要事项上。编码风格不仅涉及空格或花括号的放置位置，还涉及具有意义的编码模式，这些模式在开发人员组中得到建立和理解。Linux 内核中的代码将被长时间维护，可维护性至关重要。这意味着编写优秀的代码需要时间，并且需要注意细节。一旦编写完成，代码可能在多年内保持不变，但会被多次阅读。阅读更多。</font></font></font></p>
<section id="patches" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h3 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Patches<a class="headerlink" href="#patches" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">补丁</font></font></font></h3>
<ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">for patch subject use “btrfs:” followed by a lowercase<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">对于补丁主题，请使用“btrfs:”后跟小写字母</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">read the patch again and fix all typos and grammar<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">重新阅读补丁并修复所有拼写错误和语法错误</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">size units should use short form K/M/G/T or IEC form KiB/MiB/GiB<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">大小单位应使用简短形式 K/M/G/T 或 IEC 形式 KiB/MiB/GiB</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">don’t write references to parameters to subject (like removing @pointer)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不要将参数引用写到主题中（比如删除 @pointer）</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">do not end subject with a dot ‘.’<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不要以句点“。”结尾主题</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">parts of btrfs that could have a subject prefix to point to a specific subsystem<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">btrfs 的部分可以有一个主题前缀，指向特定的子系统</font></font></font></p>
<blockquote data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<div data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">scrub, tests, integrity-checker, tree-checker, discard, locking, sysfs,
raid56, qgroup, compression, send, ioctl<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">scrub、tests、integrity-checker、tree-checker、discard、locking、sysfs、raid56、qgroup、compression、send、ioctl</font></font></font></p></li>
</ul>
</div></blockquote>
</li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">additional information<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">附加信息</font></font></font></p>
<blockquote data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<div data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">if there’s a stack trace relevant for the patch, add it ther (lockdep,
crash, warning)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果有与补丁相关的堆栈跟踪，请在此处添加（lockdep、crash、warning）</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">steps to reproduce a bug (that will also get turned to a proper fstests
case)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">复现错误的步骤（这也将转换为适当的 fstests 案例）</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">sample output before/after if it could have impact on userspace<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果对用户空间可能产生影响，请在之前/之后进行示例输出</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1"><a class="reference external" href="https://linux.die.net/man/1/pahole" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">pahole</a> output if structure is being reorganized and optimized<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果结构正在重新组织和优化，则显示 pahole 输出</font></font></font></p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="function-declarations" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h3 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Function declarations<a class="headerlink" href="#function-declarations" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">函数声明</font></font></font></h3>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">avoid prototypes for static functions, order them in new code in a way that
does not need it<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">避免为静态函数使用原型，在新代码中以不需要原型的方式对其进行排序</font></font></font></p>
<ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">but don’t move static functions just to get rid of the prototype<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">但不要仅仅为了摆脱原型而移动静态函数</font></font></font></p></li>
</ul>
</li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">exported functions have btrfs_ prefix<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">导出函数应该有 btrfs_ 前缀</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">do not use functions with double underscore, there’s only a few valid uses of
that, namely when <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">__function</em> is doing the core of the work with looser
checks, no locks or more parameters than <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">function</em><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不要使用双下划线函数，只有少数几种有效用途，即当 __function 在执行核心工作时使用较宽松的检查，无锁或比函数更多的参数</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">function type and name are on the same line, if this is too long, the
parameters continue on the next line (indented)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">函数类型和名称在同一行，如果太长，参数将继续在下一行（缩进）</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">‘static inline’ functions should be small (measured by their resulting binary
size)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">“静态内联”函数应该很小（通过它们生成的二进制大小来衡量）</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">conditional definitions should follow the style below, where the full
function body is in .c<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">条件定义应遵循以下样式，其中完整的函数体在 .c 中</font></font></font></p></li>
</ul>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#ifdef&nbsp;CONFIG_BTRFS_DEBUG</span>
<span class="kt">void</span><span class="w">&nbsp;</span><span class="nf">btrfs_assert_everything_is_fine</span><span class="p">(</span><span class="kt">void</span><span class="w">&nbsp;</span><span class="o">*</span><span class="n">ptr</span><span class="p">);</span>
<span class="cp">#else</span>
<span class="kt">void</span><span class="w">&nbsp;</span><span class="nf">btrfs_assert_everything_is_fine</span><span class="p">(</span><span class="kt">void</span><span class="w">&nbsp;</span><span class="o">*</span><span class="n">ptr</span><span class="p">)</span><span class="w">&nbsp;</span><span class="p">{</span><span class="w">&nbsp;</span><span class="p">}</span>
<span class="cp">#endif</span>
</pre></div>
</div>
</section>
<section id="headers" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h3 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Headers<a class="headerlink" href="#headers" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">头文件 </font></font></font></h3>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">leave one newline before #endif in headers<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在头文件中的 #endif 前留一个空行</font></font></font></p></li>
</ul>
</section>
<section id="comments" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h3 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Comments<a class="headerlink" href="#comments" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注释 </font></font></font></h3>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">function comment goes to the .c file, not the header<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">函数注释写在 .c 文件中，而不是头文件中</font></font></font></p>
<ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">kdoc style is recommended but the exact syntax is not mandated and
we’re using only subset of the formatting<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">推荐使用 kdoc 风格，但具体语法并非强制，我们只使用格式的子集</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">the first line (mandatory): contains a brief description of what
the function does and should provide a summary information<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">第一行（必填）：包含函数的简要描述，应提供摘要信息</font></font></font></p>
<ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">do write in the imperative style “Iterate all pages and clear
some bits”<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请使用祈使句风格编写“迭代所有页面并清除一些位”</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">don’t write “This function is a helper to …”, “This is used
to …”<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不要写“此函数是一个辅助函数...”，“这是用来...”</font></font></font></p></li>
</ul>
</li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">parameter description (optional):<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">参数描述（可选）：</font></font></font></p>
<ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">each line describes the parameter<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">每行描述一个参数</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">the list needs to be in the same order as for the function<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">列表需要与函数的顺序相同</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">the list needs to be complete<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">列表需要完整</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">trivial parameters don’t need to be explained, e.g. fs_info is
clear so the description could be ‘the filesystem’<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不需要解释琐碎的参数，例如 fs_info 很明显，所以描述可以是“文件系统”</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">context of the parameters matters a lot in some cases and
cannot be inferred from the name, then it should be documented<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在某些情况下，参数的上下文非常重要，不能从名称中推断出来，那么应该进行文档记录</font></font></font></p></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">&nbsp;*&nbsp;Look&nbsp;for&nbsp;blocks&nbsp;in&nbsp;the&nbsp;given&nbsp;offset.</span>
<span class="cm">&nbsp;*</span>
<span class="cm">&nbsp;*&nbsp;@fs_info:&nbsp;&nbsp;&nbsp;&nbsp;trivial&nbsp;parameters&nbsp;should&nbsp;be&nbsp;in&nbsp;the&nbsp;list&nbsp;but&nbsp;with&nbsp;some&nbsp;short&nbsp;description</span>
<span class="cm">&nbsp;*&nbsp;@offset:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;describe&nbsp;the&nbsp;context&nbsp;of&nbsp;the&nbsp;argument,&nbsp;e.g.&nbsp;offset&nbsp;to&nbsp;page&nbsp;or&nbsp;inode&nbsp;...</span>
<span class="cm">&nbsp;*</span>
<span class="cm">&nbsp;*&nbsp;Long&nbsp;description&nbsp;comes&nbsp;here&nbsp;if&nbsp;necessary.</span>
<span class="cm">&nbsp;*</span>
<span class="cm">&nbsp;*&nbsp;Return&nbsp;value&nbsp;semantics&nbsp;if&nbsp;it's&nbsp;not&nbsp;obvious</span>
<span class="cm">&nbsp;*/</span>
</pre></div>
</div>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">comment new enum/define values, brief description or pointers to the code
that uses them<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注释新的枚举/定义值，简要描述或指向使用它们的代码</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">comment new data structures, their purpose and context of use<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注释新的数据结构，它们的目的和使用背景</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">do not put struct member comments on the same line, put it on the line
before and do not trim/abbreviate the text<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不要将结构成员注释放在同一行，将其放在前一行，并且不要修剪/缩写文本</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">comment text that fits on one line can use the <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">/* text */</em> format, slight
overflow of 80 chars is OK<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">适合一行的注释文本可以使用 /* 文本 */ 格式，80 个字符的轻微溢出是可以接受的</font></font></font></p></li>
</ul>
</section>
<section id="misc" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h3 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Misc<a class="headerlink" href="#misc" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">杂项 </font></font></font></h3>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">fix spelling, grammar and formatting of comments that get moved or changed<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">修正被移动或更改的注释的拼写、语法和格式</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">fix coding style in code that’s only moved<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">修复仅移动的代码中的编码样式</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">one newline between functions<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">函数之间有一个换行符</font></font></font></p></li>
</ul>
</section>
<section id="locking" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h3 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Locking<a class="headerlink" href="#locking" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">锁定</font></font></font></h3>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">do not use <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">spin_is_locked</span></code> but <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">lockdep_assert_held</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不要使用 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">spin_is_locked</span></code> 而使用 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">lockdep_assert_held</span></code> </font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">do not use <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">assert_spin_locked</span></code> without reading it’s semantics (it does
not check if the caller hold the lock)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在不阅读其语义的情况下不要使用 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">assert_spin_locked</span></code> （它不检查调用者是否持有锁）</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">use <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">lockdep_assert_held</span></code> and its friends for lock assertions<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">lockdep_assert_held</span></code> 及其相关内容进行锁定断言</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">add lock assertions to functions called deep in the call chain<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在调用链中深处的函数中添加锁断言</font></font></font></p></li>
</ul>
</section>
<section id="code" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h3 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Code<a class="headerlink" href="#code" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">代码</font></font></font></h3>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">default function return value is <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">int ret</em>, temporary return values should
be named like <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">ret2</em> etc<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">默认函数返回值是 int ret，临时返回值应该命名为 ret2 等</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">structure initializers should use <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">{ 0 }</em><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">结构初始化器应该使用 { 0 }</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">do not use <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">short</em> type if possible, if it fits to char/u8 use it instead,
or plain int<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果可能的话不要使用短类型，如果适合使用 char/u8，就使用它，或者使用 plain int</font></font></font></p></li>
</ul>
</section>
<section id="output" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h3 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Output<a class="headerlink" href="#output" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">输出 </font></font></font></h3>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">when dumping a lot of data after an error, consider what will remain visible
last<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在错误发生后转储大量数据时，请考虑最后保留可见的内容</font></font></font></p>
<ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">in case of <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">btrfs_print_leaf</span></code>, print the specific error message after
that<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">btrfs_print_leaf</span></code> 的情况下，在此之后打印特定的错误消息</font></font></font></p></li>
</ul>
</li>
</ul>
</section>
<section id="expressions-operators" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h3 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Expressions, operators<a class="headerlink" href="#expressions-operators" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">表达式，运算符 </font></font></font></h3>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">spaces around binary operators, no spaces for unary operators<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">二进制运算符周围的空格，一元运算符不需要空格</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">extra braces around expressions that might be harder to understand wrt
precedence are fine (logical and/or, shifts with other operations)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可能更难理解优先级的表达式周围的额外括号是可以的（逻辑与/或，与其他操作一起的移位）</font></font></font></p>
<ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">a * b + c</em>, <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">(a &lt;&lt; b) + c</em>, <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">(a % b) + c</em><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">a * b + c，(a &lt;&lt; b) + c，(a % b) + c</font></font></font></p></li>
</ul>
</li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">64bit division is not allowed, either avoid it completely, or use bit
shifts or use div_u64 helpers<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不允许 64 位除法，要么完全避免使用，要么使用位移或使用 div_u64 辅助函数</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">do not use chained assignments: no <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">a = b = c;</em><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不要使用链式赋值：不要 a = b = c;</font></font></font></p></li>
</ul>
</section>
<section id="variable-declarations-parameters" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h3 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Variable declarations, parameters<a class="headerlink" href="#variable-declarations-parameters" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">变量声明，参数声明 </font></font></font></h3>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">declaration block in a function should do only simple initializations
(pointers, constants); nothing that would require error handling or has
non-trivial side effects<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">函数中的声明块应该只进行简单的初始化（指针，常量）；不应该包含需要错误处理或具有非平凡副作用的内容</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">use <em data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">const</em> extensively<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">广泛使用 const</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">add temporary variable to store a value if it’s used multiple times in the
function, or if reading the value needs to chase a long pointer chain<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果在函数中多次使用某个值，或者读取该值需要追踪长指针链，则添加临时变量来存储该值</font></font></font></p></li>
</ul>
</section>
</section>
<section id="kernel-config-options" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h2 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Kernel config options<a class="headerlink" href="#kernel-config-options" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内核配置选项</font></font></font></h2>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Compile-time config options for kernel that can help debugging, testing.  They
usually take a hit on performance or resources (memory) so they should be
selected wisely. The options in <strong data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">bold</strong> should be safe to use by default for
debugging builds.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内核的编译时配置选项，可以帮助调试和测试。它们通常会对性能或资源（内存）产生影响，因此应谨慎选择。粗体显示的选项应该默认情况下对调试构建是安全的。</font></font></font></p>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Please refer to the option documentation for further details.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">有关更多详细信息，请参考选项文档。</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">devices for testing<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用于测试的设备</font></font></font></p>
<ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">CONFIG_BLK_DEV_LOOP</strong> - enable loop device<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">CONFIG_BLK_DEV_LOOP - 启用循环设备</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">for fstests: <strong data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">DM_FLAKEY</strong>, <strong data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">CONFIG_FAIL_MAKE_REQUEST</strong><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用于 fstests 的：DM_FLAKEY，CONFIG_FAIL_MAKE_REQUEST</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">CONFIG_SCSI_DEBUG</strong> - fake scsi block device<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">CONFIG_SCSI_DEBUG - 伪 scsi 块设备</font></font></font></p></li>
</ul>
</li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">memory<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内存</font></font></font></p>
<ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">CONFIG_SLUB_DEBUG</strong> - boot with slub_debug<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">CONFIG_SLUB_DEBUG - 使用 slub_debug 启动</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">CONFIG_DEBUG_PAGEALLOC + CONFIG_DEBUG_PAGEALLOC_ENABLE_DEFAULT (on
newer kernels)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">CONFIG_DEBUG_PAGEALLOC + CONFIG_DEBUG_PAGEALLOC_ENABLE_DEFAULT（在较新的内核上）</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">CONFIG_SCHED_STACK_END_CHECK</p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">CONFIG_PAGE_POISONING</p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">CONFIG_HAVE_DEBUG_KMEMLEAK</p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">CONFIG_FAILSLAB -- fault injection to kmalloc</p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">CONFIG_DEBUG_LIST</p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">CONFIG_BUG_ON_DATA_CORRUPTION<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">数据损坏时配置错误</font></font></font></p></li>
</ul>
</li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">btrfs</p>
<ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><strong data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">CONFIG_BTRFS_DEBUG<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">调试配置 Btrfs</font></font></font></strong></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><strong data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">CONFIG_BTRFS_ASSERT</strong></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">CONFIG_BTRFS_FS_RUN_SANITY_TESTS</strong> -- basic tests on module load<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">CONFIG_BTRFS_FS_RUN_SANITY_TESTS -- 模块加载时的基本测试</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">CONFIG_BTRFS_FS_CHECK_INTEGRITY</strong> -- block integrity checker
enabled by mount options<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">CONFIG_BTRFS_FS_CHECK_INTEGRITY -- 通过挂载选项启用块完整性检查器</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1"><strong data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">CONFIG_BTRFS_FS_REF_VERIFY</strong> -- additional checks for block
references<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">CONFIG_BTRFS_FS_REF_VERIFY -- 块引用的额外检查</font></font></font></p></li>
</ul>
</li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">locking<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">锁定</font></font></font></p>
<ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">CONFIG_DEBUG_SPINLOCK, CONFIG_DEBUG_MUTEXES<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">CONFIG_DEBUG_SPINLOCK，CONFIG_DEBUG_MUTEXES</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">CONFIG_DEBUG_LOCK_ALLOC<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置调试锁分配</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">CONFIG_PROVE_LOCKING, CONFIG_LOCKDEP<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置证明锁定，配置锁依赖</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">CONFIG_LOCK_STAT<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置锁统计</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">CONFIG_PROVE_RCU</p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">CONFIG_DEBUG_ATOMIC_SLEEP</p></li>
</ul>
</li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">sanity checks<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">合理性检查</font></font></font></p>
<ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">CONFIG_DEBUG_STACK_USAGE, CONFIG_HAVE_DEBUG_STACKOVERFLOW,
CONFIG_DEBUG_STACKOVERFLOW<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">CONFIG_DEBUG_STACK_USAGE，CONFIG_HAVE_DEBUG_STACKOVERFLOW，CONFIG_DEBUG_STACKOVERFLOW</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">CONFIG_STACKTRACE</p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">CONFIG_KASAN -- address sanitizer<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">CONFIG_KASAN -- 地址检测器</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">CONFIG_UBSAN -- undefined behaviour sanitizer<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">CONFIG_UBSAN -- 未定义行为检测器</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">CONFIG_KCSAN -- concurrency checker<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">CONFIG_KCSAN -- 并发检查器</font></font></font></p></li>
</ul>
</li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">verbose reporting<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">详细报告</font></font></font></p>
<ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">CONFIG_DEBUG_BUGVERBOSE<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置调试错误详细信息</font></font></font></p></li>
</ul>
</li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">tracing<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">追踪</font></font></font></p>
<ul data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">CONFIG_TRACING etc<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置追踪等</font></font></font></p></li>
</ul>
</li>
</ul>
<section id="bug-max-lockdep-chain-hlocks-too-low" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h3 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">BUG: MAX_LOCKDEP_CHAIN_HLOCKS too low!<a class="headerlink" href="#bug-max-lockdep-chain-hlocks-too-low" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">BUG: MAX_LOCKDEP_CHAIN_HLOCKS 太低！</font></font></font></h3>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Not a bug. The lockdep structures can get in some cases full and cannot
properly track locks anymore. There’s only a workaround to increase the kernel
config value of CONFIG_LOCKDEP_CHAINS_BITS, default is
16, 18 tends to work, increase if needed.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不是一个 bug。在某些情况下，lockdep 结构可能会变满，无法正确跟踪锁。只能通过增加内核配置值 CONFIG_LOCKDEP_CHAINS_BITS 来解决，默认值为 16，18 似乎有效，根据需要增加。</font></font></font></p>
</section>
</section>
<section id="fstests-setup" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h2 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">fstests setup<a class="headerlink" href="#fstests-setup" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">fstests 设置</font></font></font></h2>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">The <a class="reference external" href="https://git.kernel.org/pub/scm/fs/xfs/xfstests-dev.git/" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">fstests</a>
suite has very few “hard” requirements and will succeed without
actually running many tests. In order to ensure full test coverage, your test
environment should provide the settings from the following sections. Please
note that newly added tests silently add new dependencies, so you should always
review results after an update.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">fstests 套件几乎没有“硬性”要求，并且可以在不运行许多测试的情况下成功。为了确保完整的测试覆盖率，您的测试环境应提供以下部分的设置。请注意，新添加的测试会悄悄地添加新的依赖项，因此您应始终在更新后审查结果。</font></font></font></p>
<section id="kernel-config-options-for-complete-test-coverage" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h3 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Kernel config options for complete test coverage<a class="headerlink" href="#kernel-config-options-for-complete-test-coverage" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用于完整测试覆盖的内核配置选项</font></font></font></h3>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_FAULT_INJECTION=y</span></code></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_FAULT_INJECTION_DEBUG_FS=y</span></code></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_FAIL_MAKE_REQUEST=y</span></code></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_DM_FLAKEY=m</span></code> or <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">y</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_DM_FLAKEY=m</span></code> 或 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">y</span></code> </font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_DM_THIN_PROVISIONING=m</span></code> or <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">y</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_DM_THIN_PROVISIONING=m</span></code> 或 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">y</span></code> </font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_DM_SNAPSHOT=m</span></code> or <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">y</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_DM_SNAPSHOT=m</span></code> 或 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">y</span></code> </font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_DM_DELAY=m</span></code> or <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">y</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_DM_DELAY=m</span></code> 或 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">y</span></code> </font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_DM_ERROR=m</span></code> or <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">y</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_DM_ERROR=m</span></code> 或 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">y</span></code> </font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_DM_LOG_WRITES=m</span></code> or <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">y</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_DM_LOG_WRITES=m</span></code> 或 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">y</span></code> </font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_DM_DUST=m</span></code> or <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">y</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_DM_DUST=m</span></code> 或 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">y</span></code> </font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_DM_ZERO=m</span></code> or <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">y</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_DM_ZERO=m</span></code> 或 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">y</span></code> </font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_BLK_DEV_LOOP=m</span></code> or <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">y</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_BLK_DEV_LOOP=m</span></code> 或 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">y</span></code> </font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_EXT4_FS=m</span></code> or <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">y</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_EXT4_FS=m</span></code> 或 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">y</span></code> </font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_SCSI_DEBUG=m</span></code></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1"><code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_BLK_DEV_ZONED=y</span></code> for zoned mode test coverage<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用于分区模式测试覆盖率</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">CONFIG_IO_URING==y</span></code></p></li>
</ul>
</section>
<section id="kernel-config-options-for-better-bug-reports" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h3 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Kernel config options for better bug reports<a class="headerlink" href="#kernel-config-options-for-better-bug-reports" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">更好的错误报告的内核配置选项</font></font></font></h3>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">See the list in the section above for more options.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">查看上面部分中的列表以获取更多选项。</font></font></font></p>
</section>
<section id="user-space-utilities-and-development-library-dependencies" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h3 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">User space utilities and development library dependencies<a class="headerlink" href="#user-space-utilities-and-development-library-dependencies" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用户空间实用程序和开发库依赖项</font></font></font></h3>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">acl</p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">attr</p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">btrfsprogs</p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">dbench</p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">dmsetup (device-mapper)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">dmsetup（设备映射器）</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">duperemove</p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">psmisc (killall)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">psmisc（killall）</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">e2fsprogs</p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">fio</p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">fsverity-utils</p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">libacl</p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">libaio</p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">libattr</p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">libcap-progs</p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">libuuid</p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">lvm2</p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">openssl</p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">xfsprogs &gt;= 4.3.1 (<code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">xfs_io</span> <span class="pre">-c</span> <span class="pre">reflink</span></code> is required)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">xfsprogs &gt;= 4.3.1 (需要 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">xfs_io</span> <span class="pre">-c</span> <span class="pre">reflink</span></code> )</font></font></font></p></li>
</ul>
<p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Note: This list may be incomplete.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：此列表可能不完整。</font></font></font></p>
</section>
<section id="storage-environment" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h3 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Storage environment<a class="headerlink" href="#storage-environment" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">存储环境</font></font></font></h3>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">At least 4 identically sized partitions/disks/virtual disks, specified using
<code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">$SCRATCH_DEV_POOL</span></code>, some tests may require 8 such partitions<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">至少有 4 个相同大小的分区/磁盘/虚拟磁盘，使用 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">$SCRATCH_DEV_POOL</span></code> 指定，一些测试可能需要 8 个这样的分区</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">some tests need at least 10G of free space, as determined by <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">df</span></code>, i.e.
the size of the device may need to be larger<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一些测试需要至少 10G 的可用空间，由 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">df</span></code> 确定，即设备的大小可能需要更大</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">some tests require <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">$LOGWRITES_DEV</span></code>, yet another separate block device,
for power fail testing<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一些测试需要 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">$LOGWRITES_DEV</span></code> ，另一个单独的块设备，用于断电测试</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">for testing trim and discard, the devices must be capable of that (physical
or virtual)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">为了测试修剪和丢弃，设备必须具备这样的功能（物理或虚拟）</font></font></font></p></li>
</ul>
</section>
<section id="other-requirements" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<h3 data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Other requirements<a class="headerlink" href="#other-requirements" title="Link to this heading" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">其他要求 </font></font></font></h3>
<ul class="simple" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">An <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">fsgqa</span></code> user and group must exist.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">必须存在一个 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">fsgqa</span></code> 用户和组。</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">An <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">fsgqa2</span></code> user and group must exist.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">必须存在一个 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">fsgqa2</span></code> 用户和组。</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">The user <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">nobody</span></code> must exist.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用户 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">nobody</span></code> 必须存在。</font></font></font></p></li>
<li data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">An <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">123456-fsgqa</span></code> user and group must exist.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">必须存在一个 <code class="docutils literal notranslate" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><span class="pre">123456-fsgqa</span></code> 用户和组。</font></font></font></p></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1"><div class="rst-footer-buttons" role="navigation" aria-label="Footer" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
        <a href="../Zoned-mode.html" class="btn btn-neutral float-left" title="Zoned mode" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Developer-s-FAQ.html" class="btn btn-neutral float-right" title="Developer’s FAQ" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr>

  <div role="contentinfo" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
    <p data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">© Copyright .
      <span class="commit" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">Revision <code data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">5d97c32d</code>.
      </span><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">© 版权所有。修订版 <code data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">5d97c32d</code> 。</font></font></font></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">theme</a>
    provided by <a href="https://readthedocs.org" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">Read the Docs</a>.
   

<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用由 Read the Docs 提供的主题构建的 Sphinx。</font></font></font></footer>
        </div>
      </div>
    </section>
  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
    <span class="rst-current-version" data-toggle="rst-current-version" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">
      <span class="fa fa-book" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"> Read the Docs</span>
      v: stable
      <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">阅读文档 v: 稳定</font></font></font><span class="fa fa-caret-down" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"></span>
    </span>
    <div class="rst-other-versions" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
      <dl data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
        <dt data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Versions<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">版本</font></font></font></dt>
        
          <dd data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a href="../../../index.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">latest<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">最新</font></font></font></a></dd>
        
          <dd data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f"><a href="../index.html" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">stable<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">稳定</font></font></font></a></dd>
        
      </dl>
      <dl data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
        <dt data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Downloads<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">下载</font></font></font></dt>
        
      </dl>
      <dl data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
        
        <dt data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">On Read the Docs<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 Read the Docs 上</font></font></font></dt>
          <dd data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
            <a href="https://readthedocs.org/projects/btrfs/?fromdocs=btrfs" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Project Home<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">项目主页</font></font></font></a>
          </dd>
          <dd data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f">
            <a href="https://readthedocs.org/builds/btrfs/?fromdocs=btrfs" data-immersive-translate-walked="b1d82fa2-bcfb-4063-afdf-18d116cf552f" data-immersive-translate-paragraph="1">Builds<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">构建</font></font></font></a>
          </dd>
      </dl>
    </div>
  </div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 


</body></html>