<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
</style></head><body data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">


  <meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>btrfs(5) — BTRFS  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css">
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css">

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script async="async" src="../../_/static/javascript/readthedocs-doc-embed.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html">
    <link rel="search" title="Search" href="search.html">
    <link rel="next" title="btrfs-balance(8)" href="btrfs-balance.html">
    <link rel="prev" title="btrfs(8)" href="btrfs.html">
    <link href="_static/style.css" rel="stylesheet" type="text/css">


<!-- RTD Extra Head -->

<link rel="stylesheet" href="../../_/static/css/readthedocs-doc-embed.css" type="text/css">

<script type="application/json" id="READTHEDOCS_DATA">{"ad_free": false, "api_host": "https://readthedocs.org", "builder": "sphinx", "canonical_url": null, "docroot": "/Documentation/", "features": {"docsearch_disabled": false}, "global_analytics_code": "UA-17997319-1", "language": "en", "page": "btrfs-man5", "programming_language": "words", "project": "btrfs", "proxied_api_host": "/_", "source_suffix": ".rst", "subprojects": {}, "theme": "sphinx_rtd_theme", "user_analytics_code": "", "version": "stable"}</script>

<!--
Using this variable directly instead of using `JSON.parse` is deprecated.
The READTHEDOCS_DATA global variable will be removed in the future.
-->
<script type="text/javascript">
READTHEDOCS_DATA = JSON.parse(document.getElementById('READTHEDOCS_DATA').innerHTML);
</script>

<script type="text/javascript" src="../../_/static/javascript/readthedocs-analytics.js" async="async"></script>

<!-- end RTD <extrahead> -->


 
  <div class="wy-grid-for-nav" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
      <div class="wy-side-scroll" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
        <div class="wy-side-nav-search" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">

          
          
          <a href="index.html" class="icon icon-home" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">
            BTRFS
          </a>
              <div class="version" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">
                stable
              <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">稳定</font></font></font></div>
<div role="search" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
    <input type="hidden" name="check_keywords" value="yes" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
    <input type="hidden" name="area" value="default" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
              <p class="caption" role="heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="caption-text" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Overview<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">概述</font></font></font></span></p>
<ul class="current" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Introduction.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Introduction<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">介绍</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Status.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Status<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">状态</font></font></font></a></li>
<li class="toctree-l1 current" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="man-index.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Manual pages<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">手册页面</font></font></font></a><ul class="current" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfs.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs(8)</a></li>
<li class="toctree-l2 current" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="current reference internal" href="#" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs(5)</a><ul data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#description" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">DESCRIPTION<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#mount-options" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">MOUNT OPTIONS<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">挂载选项</font></font></font></a><ul data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#btrfs-specific-mount-options" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">BTRFS SPECIFIC MOUNT OPTIONS<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">BTRFS 特定挂载选项</font></font></font></a></li>
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#deprecated-mount-options" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">DEPRECATED MOUNT OPTIONS<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">已弃用的挂载选项</font></font></font></a></li>
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#notes-on-generic-mount-options" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">NOTES ON GENERIC MOUNT OPTIONS<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">通用挂载选项注解</font></font></font></a></li>
</ul>
</li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#filesystem-features" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">FILESYSTEM FEATURES<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统功能</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#swapfile-support" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">SWAPFILE SUPPORT<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">交换文件支持</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#hibernation" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Hibernation<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">休眠</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#troubleshooting" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Troubleshooting<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">故障排除</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#checksum-algorithms" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">CHECKSUM ALGORITHMS<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">校验算法</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#compression" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">COMPRESSION<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">压缩</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#how-to-enable-compression" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">How to enable compression<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如何启用压缩</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#compression-levels" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Compression levels<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">压缩级别</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#incompressible-data" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Incompressible data<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不可压缩数据</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#pre-compression-heuristics" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Pre-compression heuristics<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">预压缩启发式</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#compatibility" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Compatibility<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">兼容性</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#sysfs-interface" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">SYSFS INTERFACE<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">SYSFS 接口</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#filesystem-exclusive-operations" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">FILESYSTEM EXCLUSIVE OPERATIONS<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统独占操作</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#filesystem-limits" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">FILESYSTEM LIMITS<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统限制</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#bootloader-support" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">BOOTLOADER SUPPORT<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">引导加载程序支持</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#file-attributes" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">FILE ATTRIBUTES<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件属性</font></font></font></a><ul data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#attributes" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Attributes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">属性</font></font></font></a></li>
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#xflags" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">XFLAGS</a></li>
</ul>
</li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#zoned-mode" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">ZONED MODE<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">分区模式</font></font></font></a><ul data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#requirements-limitations" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Requirements, limitations<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要求，限制</font></font></font></a></li>
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#incompatible-features" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Incompatible features<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不兼容的功能</font></font></font></a></li>
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#super-block" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Super block<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">超级块</font></font></font></a></li>
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#devices" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Devices<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设备</font></font></font></a></li>
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#compatibility-incompatibility" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Compatibility, incompatibility<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">兼容性，不兼容性</font></font></font></a></li>
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#status-stability-reporting-bugs" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Status, stability, reporting bugs<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">状态，稳定性，报告错误</font></font></font></a></li>
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#references" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">References<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">引用</font></font></font></a></li>
</ul>
</li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#control-device" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">CONTROL DEVICE<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">控制设备</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#filesystem-with-multiple-profiles" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">FILESYSTEM WITH MULTIPLE PROFILES<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">具有多个配置文件的文件系统</font></font></font></a></li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#seeding-device" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">SEEDING DEVICE<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">种子设备</font></font></font></a><ul data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#chained-seeding-devices" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Chained seeding devices<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">链式种子设备</font></font></font></a></li>
</ul>
</li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#raid56-status-and-recommended-practices" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">RAID56 STATUS AND RECOMMENDED PRACTICES<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">RAID56 状态和推荐做法</font></font></font></a><ul data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#metadata" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Metadata<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">元数据</font></font></font></a></li>
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#missing-incomplete-support" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Missing/incomplete support<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">缺失/不完整的支持</font></font></font></a></li>
</ul>
</li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#storage-model-hardware-considerations" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">STORAGE MODEL, HARDWARE CONSIDERATIONS<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">存储模型，硬件考虑</font></font></font></a><ul data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#storage-model" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Storage model<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">存储模型</font></font></font></a></li>
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#when-things-go-wrong" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">When things go wrong<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当事情出错时</font></font></font></a></li>
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#main-memory" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Main memory<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">主存储器</font></font></font></a></li>
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#direct-memory-access-dma" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Direct memory access (DMA)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">直接内存访问（DMA）</font></font></font></a></li>
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#rotational-disks-hdd" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Rotational disks (HDD)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">旋转式磁盘（HDD）</font></font></font></a></li>
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#solid-state-drives-ssd" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Solid state drives (SSD)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">固态硬盘（SSD）</font></font></font></a></li>
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#nvm-express-non-volatile-memory-nvme" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">NVM express, non-volatile memory (NVMe)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">NVM Express，非易失性存储器（NVMe）</font></font></font></a></li>
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#drive-firmware" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Drive firmware<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">驱动固件</font></font></font></a></li>
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#sd-flash-cards" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">SD flash cards<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">SD 闪存卡</font></font></font></a></li>
<li class="toctree-l4" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#hardware-as-the-main-source-of-filesystem-corruptions" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Hardware as the main source of filesystem corruptions<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">硬件作为文件系统损坏的主要来源</font></font></font></a></li>
</ul>
</li>
<li class="toctree-l3" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="#see-also" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">SEE ALSO<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">参见</font></font></font></a></li>
</ul>
</li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfs-balance.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs-balance(8)</a></li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfs-check.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs-check(8)</a></li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfs-convert.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs-convert(8)</a></li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfs-device.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs-device(8)</a></li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfs-filesystem.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs-filesystem(8)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">btrfs-文件系统(8)</font></font></font></a></li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfs-find-root.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs-find-root(8)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">btrfs-查找根(8)</font></font></font></a></li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfs-image.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs-image(8)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">btrfs-镜像(8)</font></font></font></a></li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfs-inspect-internal.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs-inspect-internal(8)</a></li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfs-map-logical.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs-map-logical(8)</a></li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfs-property.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs-property(8)</a></li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfs-qgroup.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs-qgroup(8)</a></li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfs-quota.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs-quota(8)</a></li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfs-receive.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs-receive(8)</a></li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfs-replace.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs-replace(8)</a></li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfs-rescue.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs-rescue(8)</a></li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfs-restore.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs-restore(8)</a></li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfs-scrub.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs-scrub(8)</a></li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfs-select-super.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs-select-super(8)</a></li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfs-send.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs-send(8)</a></li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfs-subvolume.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs-subvolume(8)</a></li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfstune.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfstune(8)</a></li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="fsck.btrfs.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">fsck.btrfs(8)</a></li>
<li class="toctree-l2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="mkfs.btrfs.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">mkfs.btrfs(8)</a></li>
</ul>
</li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Administration.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Administration<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">管理</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Hardware.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Hardware considerations<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">硬件考虑</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Feature-by-version.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Changes (feature/version)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">变更（功能/版本）</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Kernel-by-version.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Changes (kernel/version)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">变更（内核/版本）</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="CHANGES.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Changes (btrfs-progs)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">变更（btrfs-progs）</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Contributors.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Contributors<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">贡献者</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Glossary.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Glossary<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">术语表</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="INSTALL.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Installation instructions<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">安装说明</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Source-repositories.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Source repositories<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">源代码库</font></font></font></a></li>
</ul>
<p class="caption" role="heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="caption-text" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Features<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">特性</font></font></font></span></p>
<ul data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Common-features.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Common Linux features<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">常见的 Linux 特性</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Custom-ioctls.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Custom ioctls<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">自定义 ioctls</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Auto-repair.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Auto-repair on read<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">读取时自动修复</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Balance.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Balance<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">平衡</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Compression.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Compression<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">压缩</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Checksumming.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Checksumming<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">校验和</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Convert.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Convert<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">转换</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Deduplication.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Deduplication<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">重复数据删除</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Defragmentation.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Defragmentation<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">碎片整理</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Inline-files.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Inline files<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内联文件</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Qgroups.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Quota groups<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配额组</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Reflink.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Reflink<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">引用链接</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Resize.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Resize<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">调整大小</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Scrub.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Scrub<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">擦拭</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Seeding-device.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Seeding device<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">种子设备</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Send-receive.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Send/receive<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">发送/接收</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Subpage.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Subpage support<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">子页面支持</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Subvolumes.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Subvolumes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">子卷</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Swapfile.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Swapfile<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">交换文件</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Tree-checker.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Tree checker<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">树检查器</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Trim.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Trim/discard<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">修剪/丢弃</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Volume-management.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Volume management<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">卷管理</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Zoned-mode.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Zoned mode<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">分区模式</font></font></font></a></li>
</ul>
<p class="caption" role="heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="caption-text" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Developer documentation<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">开发者文档</font></font></font></span></p>
<ul data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="dev/Development-notes.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Development notes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">开发说明</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="dev/Developer-s-FAQ.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Developer’s FAQ<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">开发者常见问题解答</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="DocConventions.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Conventions and style for documentation<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文档约定和风格</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="dev/Experimental.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Experimental features<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">实验性功能</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="dev/dev-btrfs-design.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Btrfs design<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Btrfs 设计</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="dev/dev-btrees.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Btrees</a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="dev/On-disk-format.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">On-disk Format<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">磁盘格式</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="dev/dev-send-stream.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Send stream format<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">发送流格式</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="dev/dev-json.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">JSON output<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">JSON 输出</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="dev/dev-internal-apis.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Internal APIs<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内部 API</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="dev/ReleaseChecklist.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Release checklist<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">发布清单</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="btrfs-ioctl.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs-ioctl(2)</a></li>
</ul>
<p class="caption" role="heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="caption-text" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">TODO<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">待办事项</font></font></font></span></p>
<ul data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Quick-start.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Quick start<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">快速开始</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="Interoperability.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Interoperability<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">互操作性</font></font></font></a></li>
<li class="toctree-l1" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference internal" href="trouble-index.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Troubleshooting pages<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">故障排除页面</font></font></font></a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><nav class="wy-nav-top" aria-label="Mobile navigation menu" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">BTRFS</a>
      </nav>

      <div class="wy-nav-content" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
        <div class="rst-content" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
          <div role="navigation" aria-label="Page navigation" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
  <ul class="wy-breadcrumbs" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
      <li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a href="index.html" class="icon icon-home" aria-label="Home" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a></li>
          <li class="breadcrumb-item" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a href="man-index.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Manual pages<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">手册页面</font></font></font></a></li>
      <li class="breadcrumb-item active" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs(5)</li>
      <li class="wy-breadcrumbs-aside" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
              <a href="https://github.com/kdave/btrfs-progs/blob/5d97c32d6f94cf6f473a5f82964e3edaeb1b146e/Documentation/btrfs-man5.rst" class="fa fa-github" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"> Edit on GitHub<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 GitHub 上编辑</font></font></font></a>
      </li>
  </ul>
  <hr>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
           <div itemprop="articleBody" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
             
  <section id="btrfs-5" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h1 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">btrfs(5)<a class="headerlink" href="#btrfs-5" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a></h1>
<section id="description" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">DESCRIPTION<a class="headerlink" href="#description" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述 </font></font></font></h2>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">This document describes topics related to BTRFS that are not specific to the
tools.  Currently covers:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">本文档描述与 BTRFS 相关的主题，这些主题不特定于工具。目前涵盖内容：</font></font></font></p>
<ol class="arabic simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">mount options<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">挂载选项</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">filesystem features<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统功能</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">checksum algorithms<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">校验算法</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">compression<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">压缩</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">sysfs interface<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">sysfs 接口</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">filesystem exclusive operations<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统独占操作</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">filesystem limits<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统限制</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">bootloader support<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">引导加载程序支持</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">file attributes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件属性</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">zoned mode<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">分区模式</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">control device<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">控制设备</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">filesystems with multiple block group profiles<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">具有多个块组配置文件的文件系统</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">seeding device<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设备种植</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">RAID56 status and recommended practices<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">RAID56 状态和推荐做法</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">storage model, hardware considerations<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">存储模型，硬件考虑因素</font></font></font></p></li>
</ol>
</section>
<section id="mount-options" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<span id="man-btrfs5-mount-options" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></span><h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">MOUNT OPTIONS<a class="headerlink" href="#mount-options" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">挂载选项 </font></font></font></h2>
<section id="btrfs-specific-mount-options" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">BTRFS SPECIFIC MOUNT OPTIONS<a class="headerlink" href="#btrfs-specific-mount-options" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">BTRFS 特定挂载选项 </font></font></font></h3>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">This section describes mount options specific to BTRFS.  For the generic mount
options please refer to <a class="reference external" href="https://man7.org/linux/man-pages/man8/mount.8.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">mount(8)</a> manual page. The options are sorted alphabetically
(discarding the <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">no</em> prefix).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">本节描述了特定于 BTRFS 的挂载选项。有关通用挂载选项，请参阅 mount(8) 手册页。这些选项按字母顺序排序（丢弃前缀 no）。</font></font></font></p>
<div class="admonition note" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<p class="admonition-title" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Note<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Most mount options apply to the whole filesystem and only options in the
first mounted subvolume will take effect. This is due to lack of implementation
and may change in the future. This means that (for example) you can’t set
per-subvolume <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nodatacow</em>, <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nodatasum</em>, or <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">compress</em> using mount options. This
should eventually be fixed, but it has proved to be difficult to implement
correctly within the Linux VFS framework.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">大多数挂载选项适用于整个文件系统，只有在第一个挂载的子卷中的选项才会生效。这是由于实现的缺失，可能会在将来发生变化。这意味着（例如），您无法使用挂载选项设置每个子卷的 nodatacow、nodatasum 或压缩。这应该最终会得到解决，但在 Linux VFS 框架内正确实现已被证明是困难的。</font></font></font></p>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Mount options are processed in order, only the last occurrence of an option
takes effect and may disable other options due to constraints (see e.g.
<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nodatacow</em> and <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">compress</em>). The output of <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">mount</strong> command shows which options
have been applied.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">挂载选项按顺序处理，只有选项的最后一次出现才会生效，并且可能由于约束（例如 nodatacow 和 compress）而禁用其他选项。mount 命令的输出显示了已应用的选项。</font></font></font></p>
<dl data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">acl, noacl</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(default: on)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(默认值：开启)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Enable/disable support for POSIX Access Control Lists (ACLs).  See the
<a class="reference external" href="https://man7.org/linux/man-pages/man5/acl.5.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">acl(5)</a> manual page for more information about ACLs.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">启用/禁用对 POSIX 访问控制列表（ACL）的支持。有关 ACL 的更多信息，请参阅 acl（5）手册页。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The support for ACL is build-time configurable (BTRFS_FS_POSIX_ACL) and
mount fails if <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">acl</em> is requested but the feature is not compiled in.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">ACL 支持是在构建时可配置的（BTRFS_FS_POSIX_ACL），如果请求了 acl 但该功能未编译进去，则挂载会失败。</font></font></font></p>
</dd>
</dl>
<dl id="mount-option-autodefrag" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">autodefrag, noautodefrag<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">autodefrag，noautodefrag</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 3.0, default: off)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 3.0 版本起，默认关闭)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Enable automatic file defragmentation.
When enabled, small random writes into files (in a range of tens of kilobytes,
currently it’s 64KiB) are detected and queued up for the defragmentation process.
May not be well suited for large database workloads.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">启用自动文件碎片整理。启用后，将检测并排队进行碎片整理过程的文件中的小随机写入（在几十千字节的范围内，当前为 64KiB）。可能不适用于大型数据库工作负载。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The read latency may increase due to reading the adjacent blocks that make up the
range for defragmentation, successive write will merge the blocks in the new
location.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">由于读取组成碎片整理范围的相邻块，读取延迟可能会增加，连续写入将合并新位置的块。</font></font></font></p>
<div class="admonition warning" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<p class="admonition-title" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Warning<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">警告</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Defragmenting with Linux kernel versions &lt; 3.9 or ≥ 3.14-rc2 as
well as with Linux stable kernel versions ≥ 3.10.31, ≥ 3.12.12 or
≥ 3.13.4 will break up the reflinks of COW data (for example files
copied with <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">cp --reflink</strong>, snapshots or de-duplicated data).
This may cause considerable increase of space usage depending on the
broken up reflinks.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 Linux 内核版本 &lt; 3.9 或 ≥ 3.14-rc2 以及 Linux 稳定内核版本 ≥ 3.10.31、≥ 3.12.12 或 ≥ 3.13.4 进行碎片整理会破坏 COW 数据的 reflinks（例如使用 cp --reflink 复制的文件、快照或去重数据）。这可能会导致由于破坏的 reflinks 而造成空间使用量显著增加。</font></font></font></p>
</div>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">barrier, nobarrier<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">障碍，无障碍</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(default: on)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(默认值：开启)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Ensure that all IO write operations make it through the device cache and are stored
permanently when the filesystem is at its consistency checkpoint. This
typically means that a flush command is sent to the device that will
synchronize all pending data and ordinary metadata blocks, then writes the
superblock and issues another flush.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">确保所有 IO 写操作通过设备缓存并在文件系统处于一致性检查点时永久存储。这通常意味着向设备发送刷新命令，同步所有待处理数据和普通元数据块，然后写入超级块并发出另一个刷新命令。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The write flushes incur a slight hit and also prevent the IO block
scheduler to reorder requests in a more effective way. Disabling barriers gets
rid of that penalty but will most certainly lead to a corrupted filesystem in
case of a crash or power loss. The ordinary metadata blocks could be yet
unwritten at the time the new superblock is stored permanently, expecting that
the block pointers to metadata were stored permanently before.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">写入刷新会带来轻微的影响，并阻止 IO 块调度程序以更有效的方式重新排序请求。禁用屏障会消除这种惩罚，但在发生崩溃或断电时几乎肯定会导致文件系统损坏。在永久存储新超级块时，普通元数据块可能尚未写入，期望在此之前永久存储了元数据的块指针。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">On a device with a volatile battery-backed write-back cache, the <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nobarrier</em>
option will not lead to filesystem corruption as the pending blocks are
supposed to make it to the permanent storage.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在具有易失性电池支持的写回缓存的设备上，nobarrier 选项不会导致文件系统损坏，因为待处理块应该能够到达永久存储。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">check_int, check_int_data, check_int_print_mask=&lt;value&gt;<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">检查整数，检查整数数据，检查整数打印掩码=&lt;value&gt;</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 3.0, default: off)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 3.0 版本起，默认关闭)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">These debugging options control the behavior of the integrity checking
module (the BTRFS_FS_CHECK_INTEGRITY config option required). The main goal is
to verify that all blocks from a given transaction period are properly linked.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这些调试选项控制完整性检查模块的行为（需要 BTRFS_FS_CHECK_INTEGRITY 配置选项）。主要目标是验证给定事务周期中的所有块是否正确链接。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">check_int</em> enables the integrity checker module, which examines all
block write requests to ensure on-disk consistency, at a large
memory and CPU cost.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">check_int 启用完整性检查器模块，检查所有块写请求以确保磁盘一致性，但会消耗大量内存和 CPU。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">check_int_data</em> includes extent data in the integrity checks, and
implies the <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">check_int</em> option.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">check_int_data 在完整性检查中包含范围数据，并隐含了 check_int 选项。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">check_int_print_mask</em> takes a bitmask of BTRFSIC_PRINT_MASK_* values
as defined in <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">fs/btrfs/check-integrity.c</em>, to control the integrity
checker module behavior.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">check_int_print_mask 接受一个位掩码，包含在 fs/btrfs/check-integrity.c 中定义的 BTRFSIC_PRINT_MASK_* 值，用于控制完整性检查器模块的行为。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">See comments at the top of <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">fs/btrfs/check-integrity.c</em>
for more information.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请查看 fs/btrfs/check-integrity.c 顶部的注释获取更多信息。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">clear_cache<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">清除缓存</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Force clearing and rebuilding of the free space cache if something
has gone wrong.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果出现问题，强制清除并重建空闲空间缓存。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">For free space cache <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">v1</em>, this only clears (and, unless <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nospace_cache</em> is
used, rebuilds) the free space cache for block groups that are modified while
the filesystem is mounted with that option. To actually clear an entire free
space cache <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">v1</em>, see <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs check --clear-space-cache v1</strong>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">对于空闲空间缓存 v1，这仅清除（并且，除非使用 nospace_cache，重建）在挂载文件系统时使用该选项修改的块组的空闲空间缓存。要实际清除整个空闲空间缓存 v1，请参阅 btrfs check --clear-space-cache v1。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">For free space cache <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">v2</em>, this clears the entire free space cache.
To do so without requiring to mounting the filesystem, see
<strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs check --clear-space-cache v2</strong>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">对于免费空间缓存 v2，这将清除整个免费空间缓存。要在不需要挂载文件系统的情况下执行此操作，请参阅 btrfs check --clear-space-cache v2。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">See also: <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">space_cache</em>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">另请参阅：space_cache。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">commit=&lt;seconds&gt;<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">commit=&lt;秒数&gt;</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 3.12, default: 30)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 3.12 版本起，默认值为 30)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Set the interval of periodic transaction commit when data are synchronized
to permanent storage. Higher interval values lead to larger amount of unwritten
data, which has obvious consequences when the system crashes.
The upper bound is not forced, but a warning is printed if it’s more than 300
seconds (5 minutes). Use with care.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置数据同步到永久存储时的周期性事务提交间隔。较高的间隔值会导致未写入数据量增加，当系统崩溃时会产生明显后果。上限没有强制要求，但如果超过 300 秒（5 分钟）会打印警告。请谨慎使用。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">compress, compress=&lt;type[:level]&gt;, compress-force, compress-force=&lt;type[:level]&gt;<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">压缩，compress=&lt;type[:level]&gt;，compress-force，compress-force=&lt;type[:level]&gt;</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(default: off, level support since: 5.1)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(默认：关闭，自 5.1 版本开始支持)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Control BTRFS file data compression.  Type may be specified as <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">zlib</em>,
<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">lzo</em>, <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">zstd</em> or <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">no</em> (for no compression, used for remounting).  If no type
is specified, <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">zlib</em> is used.  If <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">compress-force</em> is specified,
then compression will always be attempted, but the data may end up uncompressed
if the compression would make them larger.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">控制 BTRFS 文件数据压缩。类型可以指定为 zlib、lzo、zstd 或 no（用于重新挂载的无压缩）。如果未指定类型，则使用 zlib。如果指定了 compress-force，则始终会尝试压缩，但如果压缩会使数据变大，则数据可能最终未压缩。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Both <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">zlib</em> and <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">zstd</em> (since version 5.1) expose the compression level as a
tunable knob with higher levels trading speed and memory (<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">zstd</em>) for higher
compression ratios. This can be set by appending a colon and the desired level.
ZLIB accepts the range [1, 9] and ZSTD accepts [1, 15]. If no level is set,
both currently use a default level of 3. The value 0 is an alias for the
default level.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">zlib 和 zstd（自 5.1 版本起）都将压缩级别公开为可调节的旋钮，较高级别会在速度和内存（zstd）之间进行权衡，以获得更高的压缩比。可以通过附加冒号和所需级别来设置。ZLIB 接受范围 [1, 9]，ZSTD 接受 [1, 15]。如果未设置级别，则两者当前都使用默认级别 3。值 0 是默认级别的别名。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Otherwise some simple heuristics are applied to detect an incompressible file.
If the first blocks written to a file are not compressible, the whole file is
permanently marked to skip compression. As this is too simple, the
<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">compress-force</em> is a workaround that will compress most of the files at the
cost of some wasted CPU cycles on failed attempts.
Since kernel 4.15, a set of heuristic algorithms have been improved by using
frequency sampling, repeated pattern detection and Shannon entropy calculation
to avoid that.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">否则，将应用一些简单的启发式方法来检测不可压缩的文件。如果写入文件的前几个块不可压缩，则整个文件将被永久标记为跳过压缩。由于这太简单了，压缩强制是一个解决方法，它将以一些浪费的 CPU 周期为代价，压缩大多数文件。自内核 4.15 以来，一组启发式算法已通过使用频率采样、重复模式检测和香农熵计算进行改进，以避免这种情况。</font></font></font></p>
<div class="admonition note" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<p class="admonition-title" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Note<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">If compression is enabled, <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nodatacow</em> and <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nodatasum</em> are disabled.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果启用了压缩，则禁用 nodatacow 和 nodatasum。</font></font></font></p>
</div>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">datacow, nodatacow<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">数据牛，无数据牛</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(default: on)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(默认值：开启)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Enable data copy-on-write for newly created files.
<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">Nodatacow</em> implies <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nodatasum</em>, and disables <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">compression</em>. All files created
under <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nodatacow</em> are also set the NOCOW file attribute (see <a class="reference external" href="https://man7.org/linux/man-pages/man1/chattr.1.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">chattr(1)</a>).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">为新创建的文件启用数据写时复制。Nodatacow 意味着 nodatasum，并禁用压缩。在 nodatacow 下创建的所有文件也设置为 NOCOW 文件属性（参见 chattr(1)）。</font></font></font></p>
<div class="admonition note" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<p class="admonition-title" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Note<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">If <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nodatacow</em> or <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nodatasum</em> are enabled, compression is disabled.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果启用了 nodatacow 或 nodatasum，则禁用压缩。</font></font></font></p>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Updates in-place improve performance for workloads that do frequent overwrites,
at the cost of potential partial writes, in case the write is interrupted
(system crash, device failure).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">就地更新可提高频繁覆盖的工作负载的性能，但可能会出现部分写入的情况，如果写入被中断（系统崩溃、设备故障）。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">datasum, nodatasum<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">datasum，nodatasum</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(default: on)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(默认值：开启)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Enable data checksumming for newly created files.
<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">Datasum</em> implies <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">datacow</em>, i.e. the normal mode of operation. All files created
under <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nodatasum</em> inherit the “no checksums” property, however there’s no
corresponding file attribute (see <a class="reference external" href="https://man7.org/linux/man-pages/man1/chattr.1.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">chattr(1)</a>).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">为新创建的文件启用数据校验。数据校验意味着数据拷贝，即正常的操作模式。在 nodatasum 下创建的所有文件都继承“无校验和”属性，但没有相应的文件属性（参见 chattr(1)）。</font></font></font></p>
<div class="admonition note" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<p class="admonition-title" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Note<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">If <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nodatacow</em> or <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nodatasum</em> are enabled, compression is disabled.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果启用了 nodatacow 或 nodatasum，则禁用压缩。</font></font></font></p>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">There is a slight performance gain when checksums are turned off, the
corresponding metadata blocks holding the checksums do not need to updated.
The cost of checksumming of the blocks in memory is much lower than the IO,
modern CPUs feature hardware support of the checksumming algorithm.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当关闭校验和时，会有轻微的性能提升，持有校验和的相应元数据块不需要更新。内存中块的校验成本远低于 IO，现代 CPU 具有硬件支持的校验算法。</font></font></font></p>
</dd>
</dl>
<dl id="mount-option-degraded" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">degraded<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">降级</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(default: off)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(默认: 关闭)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Allow mounts with fewer devices than the RAID profile constraints
require.  A read-write mount (or remount) may fail when there are too many devices
missing, for example if a stripe member is completely missing from RAID0.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">允许挂载比 RAID 配置文件要求的设备少的情况。当缺少太多设备时，例如 RAID0 中完全缺少条带成员时，读写挂载（或重新挂载）可能会失败。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Since 4.14, the constraint checks have been improved and are verified on the
chunk level, not at the device level. This allows degraded mounts of
filesystems with mixed RAID profiles for data and metadata, even if the
device number constraints would not be satisfied for some of the profiles.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">自 4.14 版本以来，约束检查已经得到改进，并在块级别而不是设备级别上进行验证。这允许对具有混合 RAID 配置文件的文件系统进行降级挂载，即使对于某些配置文件，设备数量约束也无法满足。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Example: metadata -- raid1, data -- single, devices -- <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/dev/sda</span></code>, <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/dev/sdb</span></code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例: 元数据 -- raid1, 数据 -- 单个, 设备 -- <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/dev/sda</span></code> , <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/dev/sdb</span></code> </font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Suppose the data are completely stored on <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">sda</em>, then missing <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">sdb</em> will not
prevent the mount, even if 1 missing device would normally prevent (any)
<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">single</em> profile to mount. In case some of the data chunks are stored on <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">sdb</em>,
then the constraint of single/data is not satisfied and the filesystem
cannot be mounted.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">假设数据完全存储在 sda 上，那么缺失的 sdb 不会阻止挂载，即使通常情况下缺失一个设备会阻止（任何）单个配置文件挂载。如果一些数据块存储在 sdb 上，则不满足单个/数据的约束，文件系统无法挂载。</font></font></font></p>
</dd>
</dl>
<dl id="mount-option-device" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">device=&lt;devicepath&gt;<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">device=&lt;设备路径&gt;</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Specify a path to a device that will be scanned for BTRFS filesystem during
mount. This is usually done automatically by a device manager (like udev) or
using the <strong data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs device scan</strong> command (e.g. run from the initial ramdisk). In
cases where this is not possible the <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">device</em> mount option can help.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定在挂载期间将扫描用于 BTRFS 文件系统的设备的路径。通常由设备管理器（如 udev）自动完成此操作，或者使用 btrfs device scan 命令（例如，从初始 RAM 磁盘运行）。在无法自动完成此操作的情况下，设备挂载选项可以提供帮助。</font></font></font></p>
<div class="admonition note" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<p class="admonition-title" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Note<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Booting e.g. a RAID1 system may fail even if all filesystem’s <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">device</em>
paths are provided as the actual device nodes may not be discovered by the
system at that point.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">即使提供了所有文件系统设备路径，例如 RAID1 系统的引导也可能失败，因为实际设备节点可能在此时未被系统发现。</font></font></font></p>
</div>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">discard, discard=sync, discard=async, nodiscard<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">丢弃，丢弃=同步，丢弃=异步，不丢弃</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(default: async when devices support it since 6.2, async support since: 5.6)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(默认：如果设备支持自 6.2 以来为异步，自 5.6 以来支持异步)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Enable discarding of freed file blocks.  This is useful for SSD devices, thinly
provisioned LUNs, or virtual machine images; however, every storage layer must
support discard for it to work.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">启用释放文件块。这对于 SSD 设备、薄置备 LUN 或虚拟机映像非常有用；但是，每个存储层都必须支持丢弃才能正常工作。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">In the synchronous mode (<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">sync</em> or without option value), lack of asynchronous
queued TRIM on the backing device TRIM can severely degrade performance,
because a synchronous TRIM operation will be attempted instead. Queued TRIM
requires newer than SATA revision 3.1 chipsets and devices.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在同步模式（同步或无选项值）中，由于后端设备 TRIM 上缺少异步排队的 TRIM，性能可能会严重下降，因为将尝试同步 TRIM 操作。排队 TRIM 需要更新于 SATA 3.1 版本的芯片组和设备。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The asynchronous mode (<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">async</em>) gathers extents in larger chunks before sending
them to the devices for TRIM. The overhead and performance impact should be
negligible compared to the previous mode and it’s supposed to be the preferred
mode if needed.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">异步模式（async）在将范围发送到设备进行 TRIM 之前会将范围聚合成较大的块。与之前的模式相比，开销和性能影响应该可以忽略不计，如果需要的话，这应该是首选模式。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">If it is not necessary to immediately discard freed blocks, then the <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">fstrim</strong>
tool can be used to discard all free blocks in a batch. Scheduling a TRIM
during a period of low system activity will prevent latent interference with
the performance of other operations. Also, a device may ignore the TRIM command
if the range is too small, so running a batch discard has a greater probability
of actually discarding the blocks.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果不需要立即丢弃已释放的块，那么可以使用 fstrim 工具批量丢弃所有空闲块。在系统活动较低的时期安排 TRIM 将防止对其他操作性能的潜在干扰。此外，如果范围太小，设备可能会忽略 TRIM 命令，因此运行批量丢弃实际上更有可能丢弃这些块。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">enospc_debug, noenospc_debug</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(default: off)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(默认: 关闭)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Enable verbose output for some ENOSPC conditions. It’s safe to use but can
be noisy if the system reaches near-full state.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">为某些 ENOSPC 条件启用详细输出。使用起来是安全的，但如果系统接近满状态可能会很吵闹。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">fatal_errors=&lt;action&gt;</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 3.4, default: bug)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 3.4 版本起，默认值：错误)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Action to take when encountering a fatal error.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">遇到致命错误时要采取的操作。</font></font></font></p>
<dl class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">bug</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">BUG()</em> on a fatal error, the system will stay in the crashed state and may be
still partially usable, but reboot is required for full operation<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在发生致命错误时调用 BUG()，系统将保持崩溃状态，可能仍然部分可用，但需要重新启动才能完全运行。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">panic<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">恐慌</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">panic()</em> on a fatal error, depending on other system configuration, this may
be followed by a reboot. Please refer to the documentation of kernel boot
parameters, e.g. <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">panic</em>, <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">oops</em> or <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">crashkernel</em>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在致命错误时调用 panic()，根据其他系统配置的不同，可能会导致重新启动。请参考内核引导参数的文档，例如 panic、oops 或 crashkernel。</font></font></font></p>
</dd>
</dl>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">flushoncommit, noflushoncommit<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在提交时刷新，不在提交时刷新</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(default: off)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(默认: 关闭)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">This option forces any data dirtied by a write in a prior transaction to commit
as part of the current commit, effectively a full filesystem sync.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项强制将先前事务中由写操作脏化的任何数据作为当前提交的一部分提交，实际上是完整的文件系统同步。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">This makes the committed state a fully consistent view of the file system from
the application’s perspective (i.e. it includes all completed file system
operations). This was previously the behavior only when a snapshot was
created.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这使得提交的状态从应用程序的角度看是文件系统的一个完全一致的视图（即包括所有已完成的文件系统操作）。以前只有在创建快照时才会出现这种行为。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">When off, the filesystem is consistent but buffered writes may last more than
one transaction commit.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">关闭时，文件系统保持一致，但缓冲写入可能会持续超过一个事务提交。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">fragment=&lt;type&gt;<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">片段=&lt;类型&gt;</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(depends on compile-time option CONFIG_BTRFS_DEBUG, since: 4.4, default: off)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">（取决于编译时选项 CONFIG_BTRFS_DEBUG，自 4.4 版本起，默认为关闭）</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">A debugging helper to intentionally fragment given <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">type</em> of block groups. The
type can be <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">data</em>, <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">metadata</em> or <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">all</em>. This mount option should not be used
outside of debugging environments and is not recognized if the kernel config
option <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">CONFIG_BTRFS_DEBUG</em> is not enabled.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一个调试助手，用于有意地分片给定类型的块组。类型可以是数据、元数据或全部。此挂载选项不应在调试环境之外使用，并且如果未启用内核配置选项 CONFIG_BTRFS_DEBUG，则不会被识别。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">nologreplay<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">无日志重放</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(default: off, even read-only)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(默认：关闭，即使是只读)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The tree-log contains pending updates to the filesystem until the full commit.
The log is replayed on next mount, this can be disabled by this option.  See
also <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">treelog</em>.  Note that <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nologreplay</em> is the same as <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">norecovery</em>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">树日志包含对文件系统的挂起更新，直到完全提交。下次挂载时会重放日志，可以通过此选项禁用。另请参阅 treelog。请注意，nologreplay 与 norecovery 相同。</font></font></font></p>
<div class="admonition warning" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<p class="admonition-title" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Warning<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">警告</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Currently, the tree log is replayed even with a read-only mount! To
disable that behaviour, mount also with <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nologreplay</em>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">目前，即使是只读挂载，树日志也会被重放！要禁用该行为，请同时使用 nologreplay 挂载。</font></font></font></p>
</div>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">max_inline=&lt;bytes&gt;<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">max_inline=&lt;字节&gt;</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(default: min(2048, page size) )<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(默认值：min(2048, 页大小))</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Specify the maximum amount of space, that can be inlined in
a metadata b-tree leaf.  The value is specified in bytes, optionally
with a K suffix (case insensitive).  In practice, this value
is limited by the filesystem block size (named <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">sectorsize</em> at mkfs time),
and memory page size of the system. In case of sectorsize limit, there’s
some space unavailable due to b-tree leaf headers.  For example, a 4KiB
sectorsize, maximum size of inline data is about 3900 bytes.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定元数据 b 树叶中可以内联的最大空间量。该值以字节为单位指定，可选择带有 K 后缀（大小写不敏感）。在实践中，此值受文件系统块大小（在 mkfs 时称为 sectorsize）和系统的内存页面大小的限制。在存在 sectorsize 限制的情况下，由于 b 树叶头部的存在，会有一些空间不可用。例如，对于 4KiB 的 sectorsize，内联数据的最大大小约为 3900 字节。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Inlining can be completely turned off by specifying 0. This will increase data
block slack if file sizes are much smaller than block size but will reduce
metadata consumption in return.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">通过指定为 0，可以完全关闭内联。如果文件大小远小于块大小，则会增加数据块的空闲空间，但会减少元数据的消耗。</font></font></font></p>
<div class="admonition note" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<p class="admonition-title" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Note<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The default value has changed to 2048 in kernel 4.6.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">默认值在内核 4.6 中已更改为 2048。</font></font></font></p>
</div>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">metadata_ratio=&lt;value&gt;<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">元数据比率=&lt;value&gt;</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(default: 0, internal logic)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(默认值: 0, 内部逻辑)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Specifies that 1 metadata chunk should be allocated after every <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">value</em> data
chunks. Default behaviour depends on internal logic, some percent of unused
metadata space is attempted to be maintained but is not always possible if
there’s not enough space left for chunk allocation. The option could be useful to
override the internal logic in favor of the metadata allocation if the expected
workload is supposed to be metadata intense (snapshots, reflinks, xattrs,
inlined files).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定在每个值数据块后分配 1 个元数据块。默认行为取决于内部逻辑，尝试保持一定比例的未使用元数据空间，但如果没有足够的空间来进行块分配，则不一定总是可能的。如果预期的工作负载应该是元数据密集型的（快照、reflinks、xattrs、内联文件），该选项可能对覆盖内部逻辑以支持元数据分配很有用。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">norecovery<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">无恢复</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 4.5, default: off)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 4.5 版本起, 默认值: 关闭)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Do not attempt any data recovery at mount time. This will disable <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">logreplay</em>
and avoids other write operations. Note that this option is the same as
<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nologreplay</em>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不要在挂载时尝试任何数据恢复。这将禁用日志重放并避免其他写操作。请注意，此选项与 nologreplay 相同。</font></font></font></p>
<div class="admonition note" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<p class="admonition-title" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Note<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The opposite option <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">recovery</em> used to have different meaning but was
changed for consistency with other filesystems, where <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">norecovery</em> is used for
skipping log replay. BTRFS does the same and in general will try to avoid any
write operations.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">相反的选项 recovery 以前有不同的含义，但为了与其他文件系统保持一致，已更改为 norecovery 用于跳过日志重放。BTRFS 也是如此，通常会尝试避免任何写操作。</font></font></font></p>
</div>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">rescan_uuid_tree<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">重新扫描 UUID 树</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 3.12, default: off)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">（自 3.12 版本起，默认为关闭）</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Force check and rebuild procedure of the UUID tree. This should not
normally be needed.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">强制检查和重建 UUID 树的过程。通常情况下不应该需要这样做。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">rescue<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">救援</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 5.9)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 5.9 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Modes allowing mount with damaged filesystem structures.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">允许在损坏的文件系统结构下挂载的模式。</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">usebackuproot</em> (since: 5.9, replaces standalone option <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">usebackuproot</em>)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">usebackuproot（自 5.9 起，替代独立选项 usebackuproot）</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nologreplay</em> (since: 5.9, replaces standalone option <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nologreplay</em>)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">无日志重放（自 5.9 起，替换独立选项无日志重放）</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">ignorebadroots</em>, <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">ibadroots</em> (since: 5.11)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">忽略坏根, ibadroots (自版本 5.11 起)</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">ignoredatacsums</em>, <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">idatacsums</em> (since: 5.11)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">忽略数据校验和，idatacsums（自 5.11 起）</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">all</em> (since: 5.9)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">所有（自 5.9 起）</font></font></font></p></li>
</ul>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">skip_balance<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">跳过平衡</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 3.3, default: off)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 3.3 版本开始，默认关闭)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Skip automatic resume of an interrupted balance operation. The operation can
later be resumed with <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs balance resume</strong>, or the paused state can be
removed with <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs balance cancel</strong>. The default behaviour is to resume an
interrupted balance immediately after a volume is mounted.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">跳过中断的平衡操作的自动恢复。稍后可以使用 btrfs balance resume 恢复操作，或者使用 btrfs balance cancel 移除暂停状态。默认行为是在挂载卷后立即恢复中断的平衡。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">space_cache, space_cache=&lt;version&gt;, nospace_cache<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">空间缓存, space_cache=&lt;version&gt;, 不使用空间缓存</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nospace_cache</em> since: 3.2, <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">space_cache=v1</em> and <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">space_cache=v2</em> since 4.5, default: <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">space_cache=v2</em>)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(nospace_cache 自 3.2 版本开始，space_cache=v1 和 space_cache=v2 自 4.5 版本开始，默认为 space_cache=v2)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Options to control the free space cache. The free space cache greatly improves
performance when reading block group free space into memory. However, managing
the space cache consumes some resources, including a small amount of disk
space.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">控制空闲空间缓存的选项。当将块组空闲空间读入内存时，空闲空间缓存可以极大地提高性能。然而，管理空间缓存会消耗一些资源，包括少量磁盘空间。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">There are two implementations of the free space cache. The original
one, referred to as <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">v1</em>, used to be a safe default but has been
superseded by <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">v2</em>.  The <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">v1</em> space cache can be disabled at mount time
with <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nospace_cache</em> without clearing.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">空闲空间缓存有两种实现方式。最初的版本被称为 v1，曾经是一个安全的默认选项，但已被 v2 取代。可以在挂载时使用 nospace_cache 禁用 v1 空间缓存而不清除。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">On very large filesystems (many terabytes) and certain workloads, the
performance of the <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">v1</em> space cache may degrade drastically. The <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">v2</em>
implementation, which adds a new b-tree called the free space tree, addresses
this issue. Once enabled, the <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">v2</em> space cache will always be used and cannot
be disabled unless it is cleared. Use <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">clear_cache,space_cache=v1</em> or
<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">clear_cache,nospace_cache</em> to do so. If <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">v2</em> is enabled, and <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">v1</em> space
cache will be cleared (at the first mount) and kernels without <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">v2</em>
support will only be able to mount the filesystem in read-only mode.
On an unmounted filesystem the caches (both versions) can be cleared by
“btrfs check --clear-space-cache”.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在非常大的文件系统（数千兆字节）和某些工作负载下，v1 空间缓存的性能可能会急剧下降。v2 实现了一个新的 B 树，称为空闲空间树，以解决这个问题。一旦启用，v2 空间缓存将始终被使用，并且除非清除，否则无法禁用。使用 clear_cache，space_cache=v1 或 clear_cache，nospace_cache 来清除。如果启用了 v2，并且 v1 空间缓存将被清除（在第一次挂载时），而没有 v2 支持的内核只能以只读模式挂载文件系统。在未挂载的文件系统上，可以通过“btrfs check --clear-space-cache”来清除缓存（两个版本）。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The <a class="reference internal" href="btrfs-check.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="doc" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs-check(8)</span></a> and <cite data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">:doc:`mkfs.btrfs</cite> commands have full <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">v2</em> free space
cache support since v4.19.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">自 4.19 版本开始，btrfs-check(8) 和 :doc:`mkfs.btrfs` 命令完全支持 v2 的自由空间缓存。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">If a version is not explicitly specified, the default implementation will be
chosen, which is <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">v2</em>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果未明确指定版本，则将选择默认实现，即 v2。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">ssd, ssd_spread, nossd, nossd_spread<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">固态硬盘，固态硬盘扩展，非固态硬盘，非固态硬盘扩展</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(default: SSD autodetected)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">（默认值：SSD 自动检测）</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Options to control SSD allocation schemes.  By default, BTRFS will
enable or disable SSD optimizations depending on status of a device with
respect to rotational or non-rotational type. This is determined by the
contents of <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">/sys/block/DEV/queue/rotational</em>). If it is 0, the <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">ssd</em> option is
turned on.  The option <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nossd</em> will disable the autodetection.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">控制 SSD 分配方案的选项。默认情况下，BTRFS 将根据设备相对于旋转或非旋转类型的状态启用或禁用 SSD 优化。这由 /sys/block/DEV/queue/rotational) 的内容决定。如果它是 0，则启用 ssd 选项。选项 nossd 将禁用自动检测。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The optimizations make use of the absence of the seek penalty that’s inherent
for the rotational devices. The blocks can be typically written faster and
are not offloaded to separate threads.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">优化利用了旋转设备固有的寻道惩罚的缺失。块通常可以更快地写入，并且不会被卸载到单独的线程中。</font></font></font></p>
<div class="admonition note" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<p class="admonition-title" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Note<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Since 4.14, the block layout optimizations have been dropped. This used
to help with first generations of SSD devices. Their FTL (flash translation
layer) was not effective and the optimization was supposed to improve the wear
by better aligning blocks. This is no longer true with modern SSD devices and
the optimization had no real benefit. Furthermore it caused increased
fragmentation. The layout tuning has been kept intact for the option
<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">ssd_spread</em>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">自 4.14 版本以来，块布局优化已被取消。这曾经有助于第一代 SSD 设备。它们的 FTL（闪存转换层）效果不佳，优化旨在通过更好地对齐块来改善磨损。这在现代 SSD 设备上不再成立，优化没有真正的好处。此外，它导致了增加的碎片化。布局调整已保留在选项 ssd_spread 中。</font></font></font></p>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">ssd_spread</em> mount option attempts to allocate into bigger and aligned
chunks of unused space, and may perform better on low-end SSDs.  <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">ssd_spread</em>
implies <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">ssd</em>, enabling all other SSD heuristics as well. The option <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nossd</em>
will disable all SSD options while <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nossd_spread</em> only disables <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">ssd_spread</em>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">ssd_spread 挂载选项尝试分配更大和对齐的未使用空间块，可能在低端 SSD 上表现更好。ssd_spread 暗示 ssd，同时启用所有其他 SSD 启发式方法。选项 nossd 将禁用所有 SSD 选项，而 nossd_spread 仅禁用 ssd_spread。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">subvol=&lt;path&gt;<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">subvol=&lt;路径&gt;</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Mount subvolume from <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">path</em> rather than the toplevel subvolume. The
<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">path</em> is always treated as relative to the toplevel subvolume.
This mount option overrides the default subvolume set for the given filesystem.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从路径挂载子卷而不是顶层子卷。该路径始终被视为相对于顶层子卷。此挂载选项将覆盖为给定文件系统设置的默认子卷。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">subvolid=&lt;subvolid&gt;<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">子卷 ID=&lt;subvolid&gt;</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Mount subvolume specified by a <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">subvolid</em> number rather than the toplevel
subvolume.  You can use <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs subvolume list</strong> of <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs subvolume show</strong> to see
subvolume ID numbers.
This mount option overrides the default subvolume set for the given filesystem.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">挂载由 subvolid 号码指定的子卷，而不是顶层子卷。您可以使用 btrfs subvolume list 或 btrfs subvolume show 查看子卷 ID 号码。此挂载选项将覆盖为给定文件系统设置的默认子卷。</font></font></font></p>
<div class="admonition note" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<p class="admonition-title" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Note<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">If both <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">subvolid</em> and <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">subvol</em> are specified, they must point at the
same subvolume, otherwise the mount will fail.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果同时指定了 subvolid 和 subvol，则它们必须指向同一个子卷，否则挂载将失败。</font></font></font></p>
</div>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">thread_pool=&lt;number&gt;<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">线程池=&lt;number&gt;</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(default: min(NRCPUS + 2, 8) )<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(默认值：min(NRCPUS + 2, 8) )</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The number of worker threads to start. NRCPUS is number of on-line CPUs
detected at the time of mount. Small number leads to less parallelism in
processing data and metadata, higher numbers could lead to a performance hit
due to increased locking contention, process scheduling, cache-line bouncing or
costly data transfers between local CPU memories.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要启动的工作线程数。NRCPUS 是在挂载时检测到的在线 CPU 数。较小的数字会导致数据和元数据处理中的并行性较低，较高的数字可能会导致性能下降，因为增加了锁竞争、进程调度、缓存行跳动或昂贵的本地 CPU 内存之间的数据传输。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">treelog, notreelog<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">treelog，notreelog</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(default: on)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(默认值：开启)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Enable the tree logging used for <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">fsync</em> and <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">O_SYNC</em> writes. The tree log
stores changes without the need of a full filesystem sync. The log operations
are flushed at sync and transaction commit. If the system crashes between two
such syncs, the pending tree log operations are replayed during mount.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">启用用于 fsync 和 O_SYNC 写入的树日志记录。树日志存储更改，无需进行完整的文件系统同步。日志操作在同步和事务提交时被刷新。如果系统在两次这样的同步之间崩溃，则在挂载期间会重放挂起的树日志操作。</font></font></font></p>
<div class="admonition warning" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<p class="admonition-title" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Warning<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">警告</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Currently, the tree log is replayed even with a read-only mount! To
disable that behaviour, also mount with <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nologreplay</em>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">目前，即使是只读挂载，树日志也会被重放！要禁用该行为，还需使用 nologreplay 进行挂载。</font></font></font></p>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The tree log could contain new files/directories, these would not exist on
a mounted filesystem if the log is not replayed.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">树日志可能包含新文件/目录，如果不重放日志，则这些文件/目录在挂载的文件系统上将不存在。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">usebackuproot<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用备份根目录</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 4.6, default: off)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">（自 4.6 版本起，默认值为关闭）</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Enable autorecovery attempts if a bad tree root is found at mount time.
Currently this scans a backup list of several previous tree roots and tries to
use the first readable. This can be used with read-only mounts as well.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果在挂载时发现坏树根，则启用自动恢复尝试。目前，这会扫描几个先前树根的备份列表，并尝试使用第一个可读的树根。这也可以用于只读挂载。</font></font></font></p>
<div class="admonition note" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<p class="admonition-title" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Note<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">This option has replaced <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">recovery</em>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项已替换恢复。</font></font></font></p>
</div>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">user_subvol_rm_allowed<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用户子卷_rm_允许</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(default: off)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(默认: 关闭)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Allow subvolumes to be deleted by their respective owner. Otherwise, only the
root user can do that.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">允许子卷被其各自所有者删除。否则，只有 root 用户可以执行此操作。</font></font></font></p>
<div class="admonition note" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<p class="admonition-title" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Note<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Historically, any user could create a snapshot even if he was not owner
of the source subvolume, the subvolume deletion has been restricted for that
reason. The subvolume creation has been restricted but this mount option is
still required. This is a usability issue.
Since 4.18, the <a class="reference external" href="https://man7.org/linux/man-pages/man2/rmdir.2.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">rmdir(2)</a> syscall can delete an empty subvolume just like an
ordinary directory. Whether this is possible can be detected at runtime, see
<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">rmdir_subvol</em> feature in <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">FILESYSTEM FEATURES</em>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从历史上看，即使用户不是源子卷的所有者，也可以创建快照，出于这个原因，子卷删除已被限制。子卷创建已被限制，但这个挂载选项仍然是必需的。这是一个可用性问题。自 4.18 版本以来，rmdir(2)系统调用可以像普通目录一样删除空子卷。是否可能在运行时检测到，参见 FILESYSTEM FEATURES 中的 rmdir_subvol 功能。</font></font></font></p>
</div>
</dd>
</dl>
</section>
<section id="deprecated-mount-options" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">DEPRECATED MOUNT OPTIONS<a class="headerlink" href="#deprecated-mount-options" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">已弃用的挂载选项</font></font></font></h3>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">List of mount options that have been removed, kept for backward compatibility.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">已删除的挂载选项列表，保留以确保向后兼容性。</font></font></font></p>
<dl data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">recovery<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">恢复</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 3.2, default: off, deprecated since: 4.5)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 3.2 起，默认关闭，自 4.5 起已弃用)</font></font></font></p>
<div class="admonition note" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<p class="admonition-title" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Note<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">This option has been replaced by <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">usebackuproot</em> and should not be used
but will work on 4.5+ kernels.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项已被 usebackuproot 替代，不应使用，但在 4.5+ 内核上可以工作。</font></font></font></p>
</div>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">inode_cache, noinode_cache<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">inode_cache，noinode_cache</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(removed in: 5.11, since: 3.0, default: off)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(在 5.11 中移除，自 3.0 起，默认关闭)</font></font></font></p>
<div class="admonition note" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<p class="admonition-title" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Note<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The functionality has been removed in 5.11, any stale data created by
previous use of the <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">inode_cache</em> option can be removed by
<a class="reference internal" href="btrfs-rescue.html#man-rescue-clear-ino-cache" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="std std-ref" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs rescue clear-ino-cache</span></a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">功能已在 5.11 中移除，之前使用 inode_cache 选项创建的任何陈旧数据都可以通过 btrfs rescue clear-ino-cache 来移除。</font></font></font></p>
</div>
</dd>
</dl>
</section>
<section id="notes-on-generic-mount-options" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">NOTES ON GENERIC MOUNT OPTIONS<a class="headerlink" href="#notes-on-generic-mount-options" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">通用挂载选项的注意事项</font></font></font></h3>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Some of the general mount options from <a class="reference external" href="https://man7.org/linux/man-pages/man8/mount.8.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">mount(8)</a> that affect BTRFS and are
worth mentioning.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一些来自 mount(8)的通用挂载选项会影响 BTRFS，并值得一提。</font></font></font></p>
<dl data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">noatime</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">under read intensive work-loads, specifying <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">noatime</em> significantly improves
performance because no new access time information needs to be written. Without
this option, the default is <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">relatime</em>, which only reduces the number of
inode atime updates in comparison to the traditional <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">strictatime</em>. The worst
case for atime updates under <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">relatime</em> occurs when many files are read whose
atime is older than 24 h and which are freshly snapshotted. In that case the
atime is updated and COW happens - for each file - in bulk. See also
<a class="reference external" href="https://lwn.net/Articles/499293/" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">https://lwn.net/Articles/499293/</a> - <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">Atime and btrfs: a bad combination? (LWN, 2012-05-31)</em>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在读取密集工作负载下，指定 noatime 可显著提高性能，因为无需写入新的访问时间信息。如果没有此选项，默认值为 relatime，与传统的 strictatime 相比仅减少 inode atime 更新的次数。在 relatime 下，atime 更新的最坏情况发生在读取许多文件的 atime 早于 24 小时且刚刚进行了快照的情况下。在这种情况下，atime 会被更新，并且会批量发生 COW - 对于每个文件。另请参阅 https://lwn.net/Articles/499293/ - Atime 和 btrfs：一个糟糕的组合？（LWN，2012-05-31）。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Note that <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">noatime</em> may break applications that rely on atime uptimes like
the venerable Mutt (unless you use maildir mailboxes).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，noatime 可能会破坏依赖 atime 运行时间的应用程序，如古老的 Mutt（除非您使用 maildir 邮箱）。</font></font></font></p>
</dd>
</dl>
</section>
</section>
<section id="filesystem-features" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<span id="man-btrfs5-filesystem-features" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></span><h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">FILESYSTEM FEATURES<a class="headerlink" href="#filesystem-features" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统特性 </font></font></font></h2>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The basic set of filesystem features gets extended over time. The backward
compatibility is maintained and the features are optional, need to be
explicitly asked for so accidental use will not create incompatibilities.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">随着时间的推移，文件系统功能的基本集合得到扩展。向后兼容性得到保持，功能是可选的，需要明确请求，以避免意外使用造成不兼容性。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">There are several classes and the respective tools to manage the features:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">有几个类别和相应的工具来管理这些功能：</font></font></font></p>
<dl data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">at mkfs time only<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">仅在 mkfs 时间。</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">This is namely for core structures, like the b-tree nodesize or checksum
algorithm, see <a class="reference internal" href="mkfs.btrfs.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="doc" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">mkfs.btrfs(8)</span></a> for more details.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这主要用于核心结构，比如 b 树节点大小或校验算法，请参阅 mkfs.btrfs(8) 了解更多详情。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">after mkfs, on an unmounted filesystem<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在未挂载的文件系统上进行 mkfs 后</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Features that may optimize internal structures or add new structures to support
new functionality, see <a class="reference internal" href="btrfstune.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="doc" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfstune(8)</span></a>. The command
<strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs inspect-internal dump-super /dev/sdx</strong>
will dump a superblock, you can map the value of
<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">incompat_flags</em> to the features listed below<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可能会优化内部结构或添加新结构以支持新功能的特性，请参阅 btrfstune(8)。命令 btrfs inspect-internal dump-super /dev/sdx 将会转储一个超级块，您可以将 incompat_flags 的值映射到下面列出的特性。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">after mkfs, on a mounted filesystem<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在挂载的文件系统上进行 mkfs 后</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The features of a filesystem (with a given UUID) are listed in
<code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/UUID/features/</span></code>, one file per feature. The status is stored
inside the file. The value <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">1</em> is for enabled and active, while <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">0</em> means the
feature was enabled at mount time but turned off afterwards.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统的特性（具有给定 UUID）在 <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/UUID/features/</span></code> 中列出，每个特性一个文件。状态存储在文件内。值为 1 表示已启用且处于活动状态，而值为 0 表示特性在挂载时已启用，但后来被关闭。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Whether a particular feature can be turned on a mounted filesystem can be found
in the directory <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/features/</span></code>, one file per feature. The value <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">1</em>
means the feature can be enabled.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可以在目录 <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/features/</span></code> 中找到有关特定特性是否可以在挂载的文件系统上启用的信息，每个特性一个文件。值为 1 表示可以启用该特性。</font></font></font></p>
</dd>
</dl>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">List of features (see also <a class="reference internal" href="mkfs.btrfs.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="doc" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">mkfs.btrfs(8)</span></a> section
<a class="reference internal" href="mkfs.btrfs.html#man-mkfs-filesystem-features" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="std std-ref" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">FILESYSTEM FEATURES</span></a>):<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">功能列表（另请参阅 mkfs.btrfs(8) 章节 文件系统功能）：</font></font></font></p>
<dl data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">big_metadata<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">大型元数据</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 3.4)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">（自 3.4 版本起）</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">the filesystem uses <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nodesize</em> for metadata blocks, this can be bigger than the
page size<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统使用节点大小来存储元数据块，这个大小可以大于页面大小</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">block_group_tree<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">块组树</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 6.1)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自版本 6.1 起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">block group item representation using a dedicated b-tree, this can greatly
reduce mount time for large filesystems<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用专用的 B 树表示块组项，这可以大大减少大型文件系统的挂载时间</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">compress_lzo</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 2.6.38)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 2.6.38 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">the <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">lzo</em> compression has been used on the filesystem, either as a mount option
or via <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs filesystem defrag</strong>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统上已使用了 lzo 压缩，可以作为挂载选项或通过 btrfs 文件系统碎片整理。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">compress_zstd</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 4.14)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 4.14 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">the <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">zstd</em> compression has been used on the filesystem, either as a mount option
or via <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs filesystem defrag</strong>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统上已使用 zstd 压缩，可以作为挂载选项或通过 btrfs 文件系统碎片整理。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">default_subvol</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 2.6.34)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 2.6.34 起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">the default subvolume has been set on the filesystem<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统上已设置了默认子卷</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">extended_iref</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 3.7)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自版本 3.7 起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">increased hardlink limit per file in a directory to 65536, older kernels
supported a varying number of hardlinks depending on the sum of all file name
sizes that can be stored into one metadata block<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将每个目录中文件的硬链接限制增加到 65536，较旧的内核支持的硬链接数量取决于可以存储到一个元数据块中的所有文件名大小之和</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">free_space_tree</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 4.5)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">（自 4.5 版起）</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">free space representation using a dedicated b-tree, successor of v1 space cache<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用专用 b 树的自由空间表示，是 v1 空间缓存的继任者</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">metadata_uuid<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">元数据 UUID</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 5.0)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">（自 5.0 版本起）</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">the main filesystem UUID is the metadata_uuid, which stores the new UUID only
in the superblock while all metadata blocks still have the UUID set at mkfs
time, see <a class="reference internal" href="btrfstune.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="doc" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfstune(8)</span></a> for more<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">主文件系统 UUID 是 metadata_uuid，它仅在超级块中存储新的 UUID，而所有元数据块在 mkfs 时仍具有设置的 UUID，请参阅 btrfstune(8) 了解更多信息</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">mixed_backref</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 2.6.31)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 2.6.31 起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">the last major disk format change, improved backreferences, now default<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">最后一次重大磁盘格式更改，改进了反向引用，现在是默认设置</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">mixed_groups</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 2.6.37)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 2.6.37 起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">mixed data and metadata block groups, i.e. the data and metadata are not
separated and occupy the same block groups, this mode is suitable for small
volumes as there are no constraints how the remaining space should be used
(compared to the split mode, where empty metadata space cannot be used for data
and vice versa)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">混合数据和元数据块组，即数据和元数据未分开，占用相同的块组，此模式适用于小容量，因为没有约束剩余空间应如何使用（与拆分模式相比，在拆分模式中，空的元数据空间不能用于数据，反之亦然）</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">on the other hand, the final layout is quite unpredictable and possibly highly
fragmented, which means worse performance<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">另一方面，最终布局相当不可预测，可能高度碎片化，这意味着性能较差</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">no_holes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">无空隙</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 3.14)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 3.14 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">improved representation of file extents where holes are not explicitly
stored as an extent, saves a few percent of metadata if sparse files are used<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">改进了文件范围的表示，其中未显式存储空洞作为一个范围，如果使用稀疏文件，可以节省几个百分点的元数据</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">raid1c34</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 5.5)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 5.5 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">extended RAID1 mode with copies on 3 or 4 devices respectively<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 3 或 4 个设备上分别进行扩展 RAID1 模式</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">raid_stripe_tree</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 6.7)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 6.7 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">a separate tree for tracking file extents on RAID profiles<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用于跟踪 RAID 配置文件范围的单独树</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">RAID56</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 3.9)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 3.9 版本开始)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">the filesystem contains or contained a RAID56 profile of block groups<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统包含或曾包含 RAID56 配置文件组</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">rmdir_subvol<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">删除子卷</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 4.18)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 4.18 版本开始)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">indicate that <a class="reference external" href="https://man7.org/linux/man-pages/man2/rmdir.2.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">rmdir(2)</a> syscall can delete an empty subvolume just like an
ordinary directory. Note that this feature only depends on the kernel version.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">表示 rmdir(2) 系统调用可以像普通目录一样删除空子卷。请注意，此功能仅取决于内核版本。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">skinny_metadata<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">瘦元数据</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 3.10)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 3.10 版本开始)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">reduced-size metadata for extent references, saves a few percent of metadata<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">减小范围引用的元数据大小，节省了几个百分点的元数据</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">send_stream_version<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">发送流版本</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 5.10)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 5.10 版本开始)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">number of the highest supported send stream version<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">支持的最高发送流版本编号</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">simple_quota<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">简化配额</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 6.7)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 6.7 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">simplified quota accounting<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">简化配额记账</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">supported_checksums<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">支持的校验和</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 5.5)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 5.5 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">list of checksum algorithms supported by the kernel module, the respective
modules or built-in implementing the algorithms need to be present to mount
the filesystem, see section <a class="reference internal" href="#man-mkfs-checksum-algorithms" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="std std-ref" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">CHECKSUM ALGORITHMS</span></a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内核模块支持的校验算法列表，需要存在实现这些算法的相应模块或内置模块才能挂载文件系统，请参阅校验算法章节。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">supported_sectorsizes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">支持的扇区大小</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 5.13)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 5.13 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">list of values that are accepted as sector sizes (<strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">mkfs.btrfs --sectorsize</strong>) by
the running kernel<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">运行内核通过 mkfs.btrfs --sectorsize 接受的扇区大小值列表</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">supported_rescue_options<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">支持的救援选项</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 5.11)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 5.11 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">list of values for the mount option <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">rescue</em> that are supported by the running
kernel, see <a class="reference internal" href="#" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="doc" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs(5)</span></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">运行内核支持的挂载选项 rescue 的值列表，请参阅 btrfs(5)</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">zoned<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">分区</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(since: 5.12)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 5.12 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">zoned mode is allocation/write friendly to host-managed zoned devices,
allocation space is partitioned into fixed-size zones that must be updated
sequentially, see section <a class="reference internal" href="#man-btrfs5-zoned-mode" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="std std-ref" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">ZONED MODE</span></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">分区模式对主机管理的分区设备更加友好，分配空间被划分为固定大小的分区，必须按顺序更新，详见“分区模式”部分</font></font></font></p>
</dd>
</dl>
</section>
<section id="swapfile-support" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">SWAPFILE SUPPORT<a class="headerlink" href="#swapfile-support" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">交换文件支持</font></font></font></h2>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">A swapfile, when active, is a file-backed swap area.  It is supported since kernel 5.0.
Use <a class="reference external" href="https://man7.org/linux/man-pages/man8/swapon.8.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">swapon(8)</a> to activate it, until then (respectively again after deactivating it
with <a class="reference external" href="https://man7.org/linux/man-pages/man8/swapoff.8.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">swapoff(8)</a>) it’s just a normal file (with NODATACOW set), for which the special
restrictions for active swapfiles don’t apply.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当活动时，交换文件是一个基于文件的交换区域。自内核 5.0 起支持。使用 swapon(8) 来激活它，在那之前（分别在使用 swapoff(8) 停用后再次激活之前），它只是一个普通文件（设置了 NODATACOW），对于活动交换文件的特殊限制不适用。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">There are some limitations of the implementation in BTRFS and Linux swap
subsystem:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">BTRFS 和 Linux 交换子系统中的实现存在一些限制：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">filesystem - must be only single device<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统 - 必须只有单个设备</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">filesystem - must have only <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">single</em> data profile<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统 - 必须只有单个数据配置文件</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">subvolume - cannot be snapshotted if it contains any active swapfiles<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">子卷 - 如果包含任何活动的交换文件，则无法进行快照</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">swapfile - must be preallocated (i.e. no holes)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">交换文件 - 必须预分配（即没有空洞）</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">swapfile - must be NODATACOW (i.e. also NODATASUM, no compression)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">交换文件 - 必须为 NODATACOW（即也是 NODATASUM，无压缩）</font></font></font></p></li>
</ul>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The limitations come namely from the COW-based design and mapping layer of
blocks that allows the advanced features like relocation and multi-device
filesystems. However, the swap subsystem expects simpler mapping and no
background changes of the file block location once they’ve been assigned to
swap.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">限制主要来自基于 COW 的设计和映射层的块，这使得像重定位和多设备文件系统这样的高级功能成为可能。然而，交换子系统期望更简单的映射，并且一旦文件块被分配给交换，就不会在后台更改文件块位置。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">With active swapfiles, the following whole-filesystem operations will skip
swapfile extents or may fail:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在活动的交换文件中，以下整个文件系统操作将跳过交换文件范围，或者可能失败：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">balance - block groups with extents of any active swapfiles are skipped and
reported, the rest will be processed normally<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">平衡 - 具有任何活动交换文件范围的块组将被跳过并报告，其余部分将被正常处理</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">resize grow - unaffected<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">调整大小增加 - 不受影响</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">resize shrink - works as long as the extents of any active swapfiles are
outside of the shrunk range<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">调整大小缩小 - 只要任何活动交换文件的范围在缩小范围之外，就可以正常工作</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">device add - if the new devices do not interfere with any already active swapfiles
this operation will work, though no new swapfile can be activated
afterwards<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加设备 - 如果新设备不干扰任何已经激活的交换文件，此操作将正常工作，尽管之后无法激活新的交换文件</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">device delete - if the device has been added as above, it can be also deleted<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设备删除 - 如果设备已添加如上所述，则也可以删除</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">device replace - ditto<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设备替换 - 同上</font></font></font></p></li>
</ul>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">When there are no active swapfiles and a whole-filesystem exclusive operation
is running (e.g. balance, device delete, shrink), the swapfiles cannot be
temporarily activated. The operation must finish first.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当没有活动的交换文件并且正在运行整个文件系统独占操作（例如平衡、设备删除、收缩）时，无法临时激活交换文件。必须先完成操作。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">To create and activate a swapfile run the following commands:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要创建并激活交换文件，请运行以下命令：</font></font></font></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># truncate -s 0 swapfile</span>
<span class="c1"># chattr +C swapfile</span>
<span class="c1"># fallocate -l 2G swapfile</span>
<span class="c1"># chmod 0600 swapfile</span>
<span class="c1"># mkswap swapfile</span>
<span class="c1"># swapon swapfile</span>
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Since version 6.1 it’s possible to create the swapfile in a single command
(except the activation):<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从版本 6.1 开始，可以使用单个命令创建交换文件（激活除外）：</font></font></font></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># btrfs filesystem mkswapfile --size 2G swapfile</span>
<span class="c1"># swapon swapfile</span>
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Please note that the UUID returned by the <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">mkswap</em> utility identifies the swap
“filesystem” and because it’s stored in a file, it’s not generally visible and
usable as an identifier unlike if it was on a block device.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，mkswap 实用程序返回的 UUID 用于标识交换“文件系统”，因为它存储在文件中，通常不可见且不可用作标识符，不像它在块设备上的情况。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Once activated the file will appear in <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/proc/swaps</span></code>:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一旦激活，文件将出现在 <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/proc/swaps</span></code> 中：</font></font></font></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># cat /proc/swaps
Filename          Type          Size           Used      Priority
/path/swapfile    file          2097152        0         -2
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The swapfile can be created as one-time operation or, once properly created,
activated on each boot by the <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">swapon -a</strong> command (usually started by the
service manager). Add the following entry to <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">/etc/fstab</em>, assuming the
filesystem that provides the <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">/path</em> has been already mounted at this point.
Additional mount options relevant for the swapfile can be set too (like
priority, not the BTRFS mount options).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">交换文件可以作为一次性操作创建，或者一旦正确创建，可以通过 swapon -a 命令在每次启动时激活（通常由服务管理器启动）。在 /etc/fstab 中添加以下条目，假设提供 /path 的文件系统在此时已经挂载。还可以设置适用于交换文件的其他挂载选项（如优先级，而不是 BTRFS 挂载选项）。</font></font></font></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>/path/swapfile        none        swap        defaults      0 0
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">From now on the subvolume with the active swapfile cannot be snapshotted until
the swapfile is deactivated again by <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">swapoff</strong>. Then the swapfile is a
regular file and the subvolume can be snapshotted again, though this would prevent
another activation any swapfile that has been snapshotted. New swapfiles (not
snapshotted) can be created and activated.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从现在开始，具有活动交换文件的子卷在交换文件再次被 swapoff 停用之前无法进行快照。然后，交换文件是一个常规文件，子卷可以再次进行快照，尽管这将阻止对已经进行快照的任何交换文件的另一个激活。可以创建和激活新的交换文件（未进行快照）。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Otherwise, an inactive swapfile does not affect the containing subvolume. Activation
creates a temporary in-memory status and prevents some file operations, but is
not stored permanently.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">否则，非活动的交换文件不会影响包含的子卷。激活会创建一个临时的内存状态并阻止一些文件操作，但不会永久存储。</font></font></font></p>
</section>
<section id="hibernation" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Hibernation<a class="headerlink" href="#hibernation" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">休眠</font></font></font></h2>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">A swapfile can be used for hibernation but it’s not straightforward. Before
hibernation a resume offset must be written to file <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">/sys/power/resume_offset</em>
or the kernel command line parameter <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">resume_offset</em> must be set.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">交换文件可以用于休眠，但并不直接。在休眠之前，必须将恢复偏移写入文件/sys/power/resume_offset，或者必须设置内核命令行参数 resume_offset。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The value is the physical offset on the device. Note that <strong data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">this is not the same
value that</strong> <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">filefrag</strong> <strong data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">prints as physical offset!</strong><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">该值是设备上的物理偏移量。请注意，这不是 filefrag 打印的物理偏移量！</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Btrfs filesystem uses mapping between logical and physical addresses but here
the physical can still map to one or more device-specific physical block
addresses. It’s the device-specific physical offset that is suitable as resume
offset.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Btrfs 文件系统使用逻辑地址和物理地址之间的映射，但这里的物理地址仍然可以映射到一个或多个特定于设备的物理块地址。适合作为恢复偏移量的是特定于设备的物理偏移量。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Since version 6.1 there’s a command <a class="reference internal" href="btrfs-inspect-internal.html#man-inspect-map-swapfile" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="std std-ref" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs inspect-internal map-swapfile</span></a>
that will print the device physical offset and the adjusted value for
<code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/power/resume_offset</span></code>.  Note that the value is divided by page size, i.e.
it’s not the offset itself.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从版本 6.1 开始，有一个名为 btrfs inspect-internal map-swapfile 的命令，它将打印设备的物理偏移量和调整后的值为 <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/power/resume_offset</span></code> 。请注意，该值被页面大小除，即它不是偏移量本身。</font></font></font></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># btrfs filesystem mkswapfile swapfile</span>
<span class="c1"># btrfs inspect-internal map-swapfile swapfile</span>
Physical<span class="w"> </span>start:<span class="w"> </span><span class="m">811511726080</span>
Resume<span class="w"> </span>offset:<span class="w">     </span><span class="m">198122980</span>
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">For scripting and convenience the option <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">-r</em> will print just the offset:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">为了脚本编写和方便起见，选项 -r 将仅打印偏移量：</font></font></font></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># btrfs inspect-internal map-swapfile -r swapfile</span>
<span class="m">198122980</span>
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The command <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">map-swapfile</strong> also verifies all the requirements, i.e. no holes,
single device, etc.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">命令 map-swapfile 还验证所有要求，即没有空洞，单个设备等。</font></font></font></p>
</section>
<section id="troubleshooting" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">故障排除 </font></font></font></h2>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">If the swapfile activation fails please verify that you followed all the steps
above or check the system log (e.g. <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">dmesg</strong> or <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">journalctl</strong>) for more
information.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果交换文件激活失败，请验证您是否按照上述所有步骤操作，或者检查系统日志（例如 dmesg 或 journalctl）以获取更多信息。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Notably, the <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">swapon</strong> utility exits with a message that does not say what
failed:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">值得注意的是，swapon 实用程序退出时会显示一条未说明失败原因的消息：</font></font></font></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># swapon /path/swapfile
swapon: /path/swapfile: swapon failed: Invalid argument
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The specific reason is likely to be printed to the system log by the btrfs
module:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">具体原因可能会由 btrfs 模块打印到系统日志中：</font></font></font></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># journalctl -t kernel | grep swapfile
kernel: BTRFS warning (device sda): swapfile must have single data profile
</pre></div>
</div>
</section>
<section id="checksum-algorithms" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<span id="man-mkfs-checksum-algorithms" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></span><h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">CHECKSUM ALGORITHMS<a class="headerlink" href="#checksum-algorithms" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">校验算法</font></font></font></h2>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Data and metadata are checksummed by default, the checksum is calculated before
write and verified after reading the blocks from devices. The whole metadata
block has a checksum stored inline in the b-tree node header, each data block
has a detached checksum stored in the checksum tree.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">默认情况下，数据和元数据会进行校验和计算，校验和在写入之前计算，在从设备读取块后进行验证。整个元数据块在 B 树节点头部内联存储有一个校验和，每个数据块在校验和树中有一个独立的校验和存储。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">There are several checksum algorithms supported. The default and backward
compatible is <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">crc32c</em>.  Since kernel 5.5 there are three more with different
characteristics and trade-offs regarding speed and strength. The following list
may help you to decide which one to select.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">支持多种校验算法。默认和向后兼容的是 crc32c。自内核 5.5 开始，还有三种具有不同特性和速度、强度方面的权衡的算法。以下列表可能帮助您决定选择哪种算法。</font></font></font></p>
<dl class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">CRC32C (32bit digest)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">CRC32C（32 位摘要）</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">default, best backward compatibility, very fast, modern CPUs have
instruction-level support, not collision-resistant but still good error
detection capabilities<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">默认，最佳向后兼容性，非常快，现代 CPU 具有指令级支持，不具备抗碰撞能力，但仍具有良好的错误检测能力</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">XXHASH (64bit digest)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">XXHASH（64 位摘要）</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">can be used as CRC32C successor, very fast, optimized for modern CPUs utilizing
instruction pipelining, good collision resistance and error detection<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可用作 CRC32C 的继任者，非常快速，针对利用指令流水线的现代 CPU 进行了优化，具有良好的碰撞抵抗和错误检测能力</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">SHA256 (256bit digest)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">SHA256（256 位摘要）</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">a cryptographic-strength hash, relatively slow but with possible CPU
instruction acceleration or specialized hardware cards, FIPS certified and
in wide use<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一个密码强度很高的哈希函数，相对较慢，但可能具有 CPU 指令加速或专用硬件卡，FIPS 认证并广泛使用</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">BLAKE2b (256bit digest)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">BLAKE2b（256 位摘要）</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">a cryptographic-strength hash, relatively fast with possible CPU acceleration
using SIMD extensions, not standardized but based on BLAKE which was a SHA3
finalist, in wide use, the algorithm used is BLAKE2b-256 that’s optimized for
64bit platforms<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一个密码强度很高的哈希函数，相对较快，可能使用 SIMD 扩展进行 CPU 加速，没有标准化，但基于 BLAKE，后者是 SHA3 决赛选手之一，广泛使用，所使用的算法是针对 64 位平台进行优化的 BLAKE2b-256</font></font></font></p>
</dd>
</dl>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">digest size</em> affects overall size of data block checksums stored in the
filesystem.  The metadata blocks have a fixed area up to 256 bits (32 bytes), so
there’s no increase. Each data block has a separate checksum stored, with
additional overhead of the b-tree leaves.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">摘要大小会影响文件系统中存储的数据块校验和的整体大小。元数据块有一个固定区域，最多为 256 位（32 字节），因此不会增加。每个数据块都有一个单独存储的校验和，带有 b 树叶子的额外开销。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Approximate relative performance of the algorithms, measured against CRC32C
using implementations on a 11th gen 3.6GHz intel CPU:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">算法的大致相对性能，根据在第 11 代 3.6GHz 英特尔 CPU 上实现的 CRC32C 进行测量：</font></font></font></p>
<table class="docutils align-default" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<thead data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<tr class="row-odd" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><th class="head"><p>Digest</p></th>
<th class="head" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Cycles/4KiB<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">周期/4KiB</font></font></font></p></th>
<th class="head"><p>Ratio</p></th>
<th class="head"><p>Implementation</p></th>
</tr>
</thead>
<tbody data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<tr class="row-even" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td><p>CRC32C</p></td>
<td><p>470</p></td>
<td><p>1.00</p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">CPU instruction, PCL combination<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">CPU 指令，PCL 组合</font></font></font></p></td>
</tr>
<tr class="row-odd" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td><p>XXHASH</p></td>
<td><p>870</p></td>
<td><p>1.9</p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">reference impl.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">参考实现</font></font></font></p></td>
</tr>
<tr class="row-even" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td><p>SHA256</p></td>
<td><p>7600</p></td>
<td><p>16</p></td>
<td><p>libgcrypt</p></td>
</tr>
<tr class="row-odd" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td><p>SHA256</p></td>
<td><p>8500</p></td>
<td><p>18</p></td>
<td><p>openssl</p></td>
</tr>
<tr class="row-even" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td><p>SHA256</p></td>
<td><p>8700</p></td>
<td><p>18</p></td>
<td><p>botan</p></td>
</tr>
<tr class="row-odd" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td><p>SHA256</p></td>
<td><p>32000</p></td>
<td><p>68</p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">builtin, CPU instruction<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内建，CPU 指令</font></font></font></p></td>
</tr>
<tr class="row-even" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td><p>SHA256</p></td>
<td><p>37000</p></td>
<td><p>78</p></td>
<td><p>libsodium</p></td>
</tr>
<tr class="row-odd" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td><p>SHA256</p></td>
<td><p>78000</p></td>
<td><p>166</p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">builtin, reference impl.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内置，参考实现。</font></font></font></p></td>
</tr>
<tr class="row-even" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td><p>BLAKE2b</p></td>
<td><p>10000</p></td>
<td><p>21</p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">builtin/AVX2<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内置/AVX2</font></font></font></p></td>
</tr>
<tr class="row-odd" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td><p>BLAKE2b</p></td>
<td><p>10900</p></td>
<td><p>23</p></td>
<td><p>libgcrypt</p></td>
</tr>
<tr class="row-even" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td><p>BLAKE2b</p></td>
<td><p>13500</p></td>
<td><p>29</p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">builtin/SSE41<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内置/SSE41</font></font></font></p></td>
</tr>
<tr class="row-odd" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td><p>BLAKE2b</p></td>
<td><p>13700</p></td>
<td><p>29</p></td>
<td><p>libsodium</p></td>
</tr>
<tr class="row-even" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td><p>BLAKE2b</p></td>
<td><p>14100</p></td>
<td><p>30</p></td>
<td><p>openssl</p></td>
</tr>
<tr class="row-odd" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td><p>BLAKE2b</p></td>
<td><p>14500</p></td>
<td><p>31</p></td>
<td><p>kcapi</p></td>
</tr>
<tr class="row-even" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td><p>BLAKE2b</p></td>
<td><p>14500</p></td>
<td><p>34</p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">builtin, reference impl.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内置，参考实现。</font></font></font></p></td>
</tr>
</tbody>
</table>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Many kernels are configured with SHA256 as built-in and not as a module.
The accelerated versions are however provided by the modules and must be loaded
explicitly (<strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">modprobe sha256</strong>) before mounting the filesystem to make use of
them. You can check in <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/FSID/checksum</span></code> which one is used. If you
see <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">sha256-generic</em>, then you may want to unmount and mount the filesystem
again, changing that on a mounted filesystem is not possible.
Check the file <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/proc/crypto</span></code>, when the implementation is built-in, you’d find<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">许多内核都配置为将 SHA256 作为内置而不是作为模块。然而，加速版本是由模块提供的，必须在挂载文件系统之前显式加载它们（modprobe sha256）才能使用。您可以在 <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/FSID/checksum</span></code> 中检查使用的是哪个版本。如果看到 sha256-generic，则可能需要卸载并重新挂载文件系统，无法在已挂载的文件系统上更改。当实现内置时，请检查文件 <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/proc/crypto</span></code> ，您会发现</font></font></font></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>name         : sha256
driver       : sha256-generic
module       : kernel
priority     : 100
...
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">while accelerated implementation is e.g.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">而加速实现例如</font></font></font></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>name         : sha256
driver       : sha256-avx2
module       : sha256_ssse3
priority     : 170
...
</pre></div>
</div>
</section>
<section id="compression" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">COMPRESSION<a class="headerlink" href="#compression" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">压缩 </font></font></font></h2>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Btrfs supports transparent file compression. There are three algorithms
available: ZLIB, LZO and ZSTD (since v4.14), with various levels.
The compression happens on the level of file extents and the algorithm is
selected by file property, mount option or by a defrag command.
You can have a single btrfs mount point that has some files that are
uncompressed, some that are compressed with LZO, some with ZLIB, for instance
(though you may not want it that way, it is supported).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Btrfs 支持透明文件压缩。有三种可用的算法：ZLIB、LZO 和 ZSTD（自 v4.14 起），具有不同的级别。压缩发生在文件范围的级别上，并且算法是通过文件属性、挂载选项或 defrag 命令选择的。您可以有一个单独的 btrfs 挂载点，其中有一些文件是未压缩的，一些使用 LZO 压缩，一些使用 ZLIB 压缩，例如（尽管您可能不希望这样，但是支持）。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Once the compression is set, all newly written data will be compressed, i.e.
existing data are untouched. Data are split into smaller chunks (128KiB) before
compression to make random rewrites possible without a high performance hit. Due
to the increased number of extents the metadata consumption is higher. The
chunks are compressed in parallel.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一旦设置了压缩，所有新写入的数据都将被压缩，即现有数据不会受到影响。数据在压缩之前被分成较小的块（128KiB），以便进行随机重写而不会受到性能损失。由于范围数量的增加，元数据消耗更高。这些块是并行压缩的。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The algorithms can be characterized as follows regarding the speed/ratio
trade-offs:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">算法可以根据速度/比率折衷来描述如下：</font></font></font></p>
<dl class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">ZLIB</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">slower, higher compression ratio<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">较慢，压缩比较高</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">levels: 1 to 9, mapped directly, default level is 3<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">级别：1 到 9，直接映射，默认级别为 3</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">good backward compatibility<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">良好的向后兼容性</font></font></font></p></li>
</ul>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">LZO</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">faster compression and decompression than ZLIB, worse compression ratio, designed to be fast<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">比 ZLIB 更快的压缩和解压缩速度，压缩比较差，旨在提高速度</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">no levels<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">没有级别</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">good backward compatibility<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">良好的向后兼容性</font></font></font></p></li>
</ul>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">ZSTD</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">compression comparable to ZLIB with higher compression/decompression speeds and different ratio<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">具有比 ZLIB 更高的压缩/解压缩速度和不同比率的压缩</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">levels: 1 to 15, mapped directly (higher levels are not available)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">级别：1 到 15，直接映射（较高级别不可用）</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">since 4.14, levels since 5.1<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">自 4.14 起，自 5.1 起的级别</font></font></font></p></li>
</ul>
</dd>
</dl>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The differences depend on the actual data set and cannot be expressed by a
single number or recommendation. Higher levels consume more CPU time and may
not bring a significant improvement, lower levels are close to real time.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">差异取决于实际数据集，无法用单个数字或建议来表达。更高的级别消耗更多的 CPU 时间，可能不会带来显著的改进，较低的级别接近实时。</font></font></font></p>
</section>
<section id="how-to-enable-compression" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">How to enable compression<a class="headerlink" href="#how-to-enable-compression" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如何启用压缩</font></font></font></h2>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Typically the compression can be enabled on the whole filesystem, specified for
the mount point. Note that the compression mount options are shared among all
mounts of the same filesystem, either bind mounts or subvolume mounts.
Please refer to <a class="reference internal" href="#" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="doc" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs(5)</span></a> section
<a class="reference internal" href="#man-btrfs5-mount-options" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="std std-ref" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">MOUNT OPTIONS</span></a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">通常可以在整个文件系统上启用压缩，指定挂载点。请注意，压缩挂载选项在同一文件系统的所有挂载之间共享，无论是绑定挂载还是子卷挂载。请参阅 btrfs(5) 章节 MOUNT OPTIONS。</font></font></font></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>mount<span class="w"> </span>-o<span class="w"> </span><span class="nv">compress</span><span class="o">=</span>zstd<span class="w"> </span>/dev/sdx<span class="w"> </span>/mnt
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">This will enable the <code class="docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">zstd</span></code> algorithm on the default level (which is 3).
The level can be specified manually too like <code class="docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">zstd:3</span></code>. Higher levels compress
better at the cost of time. This in turn may cause increased write latency, low
levels are suitable for real-time compression and on reasonably fast CPU don’t
cause noticeable performance drops.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这将在默认级别（即 3 级）上启用 <code class="docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">zstd</span></code> 算法。也可以手动指定级别，如 <code class="docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">zstd:3</span></code> 。更高级别在时间成本上压缩效果更好。这反过来可能导致写入延迟增加，低级别适用于实时压缩，在相对较快的 CPU 上不会引起明显的性能下降。</font></font></font></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>btrfs<span class="w"> </span>filesystem<span class="w"> </span>defrag<span class="w"> </span>-czstd<span class="w"> </span>file
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The command above will start defragmentation of the whole <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">file</em> and apply
the compression, regardless of the mount option. (Note: specifying level is not
yet implemented). The compression algorithm is not persistent and applies only
to the defragmentation command, for any other writes other compression settings
apply.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">上述命令将启动整个文件的碎片整理并应用压缩，不考虑挂载选项。（注意：尚未实现指定级别）。压缩算法不是持久的，仅适用于碎片整理命令，对于任何其他写入，其他压缩设置适用。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Persistent settings on a per-file basis can be set in two ways:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可以通过两种方式在每个文件基础上设置持久设置：</font></font></font></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>chattr<span class="w"> </span>+c<span class="w"> </span>file
$<span class="w"> </span>btrfs<span class="w"> </span>property<span class="w"> </span><span class="nb">set</span><span class="w"> </span>file<span class="w"> </span>compression<span class="w"> </span>zstd
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The first command is using legacy interface of file attributes inherited from
ext2 filesystem and is not flexible, so by default the <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">zlib</em> compression is
set. The other command sets a property on the file with the given algorithm.
(Note: setting level that way is not yet implemented.)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">第一个命令使用从 ext2 文件系统继承的文件属性的传统接口，不够灵活，因此默认设置为 zlib 压缩。另一个命令在文件上设置了给定算法的属性。（注意：目前尚未实现通过这种方式设置级别。）</font></font></font></p>
</section>
<section id="compression-levels" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Compression levels<a class="headerlink" href="#compression-levels" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">压缩级别</font></font></font></h2>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The level support of ZLIB has been added in v4.14, LZO does not support levels
(the kernel implementation provides only one), ZSTD level support has been added
in v5.1.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">ZLIB 的级别支持已在 v4.14 中添加，LZO 不支持级别（内核实现仅提供一个级别），ZSTD 级别支持已在 v5.1 中添加。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">There are 9 levels of ZLIB supported (1 to 9), mapping 1:1 from the mount option
to the algorithm defined level. The default is level 3, which provides the
reasonably good compression ratio and is still reasonably fast. The difference
in compression gain of levels 7, 8 and 9 is comparable but the higher levels
take longer.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">ZLIB 支持 9 个级别（1 到 9），从挂载选项到算法定义级别的 1:1 映射。默认级别为 3，提供合理的压缩比并且仍然相当快。级别 7、8 和 9 的压缩增益相当，但较高级别需要更长时间。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The ZSTD support includes levels 1 to 15, a subset of full range of what ZSTD
provides. Levels 1-3 are real-time, 4-8 slower with improved compression and
9-15 try even harder though the resulting size may not be significantly improved.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">ZSTD 支持级别 1 到 15，是 ZSTD 提供的完整范围的子集。级别 1-3 是实时的，4-8 较慢但具有改进的压缩，9-15 则更加努力，尽管结果大小可能没有显著改善。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Level 0 always maps to the default. The compression level does not affect
compatibility.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">级别 0 总是映射到默认值。压缩级别不影响兼容性。</font></font></font></p>
</section>
<section id="incompressible-data" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Incompressible data<a class="headerlink" href="#incompressible-data" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不可压缩的数据</font></font></font></h2>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Files with already compressed data or with data that won’t compress well with
the CPU and memory constraints of the kernel implementations are using a simple
decision logic. If the first portion of data being compressed is not smaller
than the original, the compression of the file is disabled -- unless the
filesystem is mounted with <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">compress-force</em>. In that case compression will
always be attempted on the file only to be later discarded. This is not optimal
and subject to optimizations and further development.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">具有已经压缩数据或者数据不适合使用 CPU 和内存约束的内核实现进行压缩的文件，使用简单的决策逻辑。如果要压缩的数据的第一部分不比原始数据小，文件的压缩将被禁用 -- 除非文件系统已经使用了 compress-force 进行挂载。在这种情况下，将始终尝试对文件进行压缩，但最终会被丢弃。这并不是最佳方案，可以进行优化和进一步的开发。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">If a file is identified as incompressible, a flag is set (<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">NOCOMPRESS</em>) and it’s
sticky. On that file compression won’t be performed unless forced. The flag
can be also set by <strong data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">chattr +m</strong> (since e2fsprogs 1.46.2) or by properties with
value <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">no</em> or <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">none</em>. Empty value will reset it to the default that’s currently
applicable on the mounted filesystem.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果文件被识别为不可压缩，会设置一个标志（NOCOMPRESS）并且是粘性的。在这个文件上，除非强制执行，否则不会进行压缩。该标志也可以通过 chattr +m 进行设置（自 e2fsprogs 1.46.2 起），或者通过值为 no 或 none 的属性进行设置。空值将重置为当前适用于挂载文件系统的默认值。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">There are two ways to detect incompressible data:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">有两种方法可以检测不可压缩的数据：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">actual compression attempt - data are compressed, if the result is not smaller,
it’s discarded, so this depends on the algorithm and level<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">实际压缩尝试 - 如果数据被压缩后结果没有变小，则被丢弃，因此这取决于算法和级别</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">pre-compression heuristics - a quick statistical evaluation on the data is
performed and based on the result either compression is performed or skipped,
the NOCOMPRESS bit is not set just by the heuristic, only if the compression
algorithm does not make an improvement<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">预压缩启发式 - 对数据进行快速统计评估，根据结果进行压缩或跳过，NOCOMPRESS 位不仅仅由启发式设置，只有在压缩算法没有改进时才会设置</font></font></font></p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>lsattr<span class="w"> </span>file
---------------------m<span class="w"> </span>file
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Using the forcing compression is not recommended, the heuristics are
supposed to decide that and compression algorithms internally detect
incompressible data too.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不建议使用强制压缩，启发式算法应该决定压缩算法内部也会检测无法压缩的数据。</font></font></font></p>
</section>
<section id="pre-compression-heuristics" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Pre-compression heuristics<a class="headerlink" href="#pre-compression-heuristics" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">预压缩启发式算法</font></font></font></h2>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The heuristics aim to do a few quick statistical tests on the compressed data
in order to avoid probably costly compression that would turn out to be
inefficient. Compression algorithms could have internal detection of
incompressible data too but this leads to more overhead as the compression is
done in another thread and has to write the data anyway. The heuristic is
read-only and can utilize cached memory.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">启发式算法旨在对压缩数据进行一些快速的统计测试，以避免可能代价高昂的压缩，这样会导致效率低下。压缩算法也可能具有内部检测无法压缩数据的功能，但这会增加更多开销，因为压缩是在另一个线程中进行的，仍然需要写入数据。启发式算法是只读的，可以利用缓存内存。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The tests performed based on the following: data sampling, long repeated
pattern detection, byte frequency, Shannon entropy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">基于以下进行的测试：数据采样、长重复模式检测、字节频率、香农熵。</font></font></font></p>
</section>
<section id="compatibility" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Compatibility<a class="headerlink" href="#compatibility" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">兼容性 </font></font></font></h2>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Compression is done using the COW mechanism so it’s incompatible with
<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nodatacow</em>. Direct IO read works on compressed files but will fall back to
buffered writes and leads to no compression even if force compression is set.
Currently <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nodatasum</em> and compression don’t work together.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 COW 机制进行压缩，因此与 nodatacow 不兼容。直接 IO 读取在压缩文件上运行，但会退回到缓冲写入，并导致即使设置了强制压缩也不会进行压缩。目前 nodatasum 和压缩不能一起工作。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The compression algorithms have been added over time so the version
compatibility should be also considered, together with other tools that may
access the compressed data like bootloaders.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">随着时间的推移，压缩算法已被添加，因此还应考虑版本兼容性，以及可能访问压缩数据的其他工具，如引导加载程序。</font></font></font></p>
</section>
<section id="sysfs-interface" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">SYSFS INTERFACE<a class="headerlink" href="#sysfs-interface" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">SYSFS 接口 </font></font></font></h2>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Btrfs has a sysfs interface to provide extra knobs.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Btrfs 具有 sysfs 接口，提供额外的控制选项。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The top level path is <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/</span></code>, and the main directory layout is the following:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">顶层路径是 <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/</span></code> ，主目录布局如下：</font></font></font></p>
<table class="docutils align-default" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<thead data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<tr class="row-odd" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><th class="head" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Relative Path<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">相对路径</font></font></font></p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Version</p></th>
</tr>
</thead>
<tbody data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<tr class="row-even" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">features/</p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">All supported features<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">所有支持的功能</font></font></font></p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">3.14+</p></td>
</tr>
<tr class="row-odd" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">&lt;UUID&gt;/</p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Mounted fs UUID<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">挂载的文件系统 UUID</font></font></font></p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">3.14+</p></td>
</tr>
<tr class="row-even" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">&lt;UUID&gt;/allocation/<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">&lt;UUID&gt;/分配/</font></font></font></p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Space allocation info<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">空间分配信息</font></font></font></p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">3.14+</p></td>
</tr>
<tr class="row-odd" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">&lt;UUID&gt;/features/<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">&lt;UUID&gt;/特性/</font></font></font></p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Features of the filesystem<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统的特性</font></font></font></p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">3.14+</p></td>
</tr>
<tr class="row-even" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">&lt;UUID&gt;/devices/&lt;DEVID&gt;/<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">&lt;UUID&gt;/设备/&lt;DEVID&gt;/</font></font></font></p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Symlink to each block device sysfs<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">每个块设备的符号链接 sysfs</font></font></font></p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">5.6+</p></td>
</tr>
<tr class="row-odd" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">&lt;UUID&gt;/devinfo/&lt;DEVID&gt;/</p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Btrfs specific info for each device<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">每个设备的 Btrfs 特定信息</font></font></font></p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">5.6+</p></td>
</tr>
<tr class="row-even" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">&lt;UUID&gt;/qgroups/</p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Global qgroup info<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">全局 qgroup 信息</font></font></font></p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">5.9+</p></td>
</tr>
<tr class="row-odd" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">&lt;UUID&gt;/qgroups/&lt;LEVEL&gt;_&lt;ID&gt;/</p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Info for each qgroup<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">每个 qgroup 的信息</font></font></font></p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">5.9+</p></td>
</tr>
<tr class="row-even" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">&lt;UUID&gt;/discard/<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">&lt;UUID&gt;/丢弃/</font></font></font></p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Discard stats and tunables<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">丢弃统计数据和可调参数</font></font></font></p></td>
<td data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">6.1+</p></td>
</tr>
</tbody>
</table>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">For <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/features/</span></code> directory, each file means a supported feature
for the current kernel.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">对于 <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/features/</span></code> 目录，每个文件代表当前内核支持的一个特性。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">For <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/&lt;UUID&gt;/features/</span></code> directory, each file means an enabled
feature for the mounted filesystem.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">对于 <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/&lt;UUID&gt;/features/</span></code> 目录，每个文件表示挂载文件系统的一个已启用功能。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The features shares the same name in section
<a class="reference internal" href="#man-btrfs5-filesystem-features" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="std std-ref" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">FILESYSTEM FEATURES</span></a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这些功能在 FILESYSTEM FEATURES 部分中具有相同的名称。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Files in <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/&lt;UUID&gt;/</span></code> directory are:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/&lt;UUID&gt;/</span></code> 目录中的文件为:</font></font></font></p>
<dl data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">bg_reclaim_threshold</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RW, since: 5.19)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(RW, 自 5.19 起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Used space percentage of total device space to start auto block group claim.
Mostly for zoned devices.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用于启动自动块组索赔的总设备空间的已用空间百分比。主要用于分区设备。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">checksum<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">校验和</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 5.5)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自 5.5 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The checksum used for the mounted filesystem.
This includes both the checksum type (see section
<a class="reference internal" href="#man-mkfs-checksum-algorithms" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="std std-ref" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">CHECKSUM ALGORITHMS</span></a>)
and the implemented driver (mostly shows if it’s hardware accelerated).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用于挂载文件系统的校验和。这包括校验和类型（请参阅校验和算法部分）和实现的驱动程序（主要显示是否硬件加速）。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">clone_alignment<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">克隆对齐</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 3.16)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自 3.16 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The bytes alignment for <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">clone</em> and <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">dedupe</em> ioctls.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">克隆和去重 ioctl 的字节对齐。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">commit_stats<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">提交统计</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RW, since: 6.0)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(RW, 自 6.0 起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The performance statistics for btrfs transaction commit.
Mostly for debug purposes.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">btrfs 事务提交的性能统计。主要用于调试目的。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Writing into this file will reset the maximum commit duration to
the input value.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将写入此文件将最大提交持续时间重置为输入值。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">exclusive_operation<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">独占操作</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 5.10)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(RO, 自 5.10 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows the running exclusive operation.
Check section
<a class="reference internal" href="#man-btrfs5-fileysstem-exclusive-operations" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="std std-ref" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">FILESYSTEM EXCLUSIVE OPERATIONS</span></a>
for details.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示正在运行的独占操作。有关详细信息，请查看文件系统独占操作部分。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">generation<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">生成</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 5.11)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自 5.11 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Show the generation of the mounted filesystem.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示已挂载文件系统的生成。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">label<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">标签</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RW, since: 3.14)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(RW, 自 3.14 起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Show the current label of the mounted filesystem.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示已挂载文件系统的当前标签。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">metadata_uuid<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">元数据 UUID</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 5.0)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自 5.0 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows the metadata uuid of the mounted filesystem.
Check <cite data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">metadata_uuid</cite> feature for more details.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示已挂载文件系统的元数据 UUID。有关更多详细信息，请查看元数据 UUID 功能。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">nodesize<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">节点大小</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 3.14)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自版本 3.14 起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Show the nodesize of the mounted filesystem.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示已挂载文件系统的节点大小。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">quota_override<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配额覆盖</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RW, since: 4.13)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(自 4.13 版本起可读写)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows the current quota override status.
0 means no quota override.
1 means quota override, quota can ignore the existing limit settings.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示当前配额覆盖状态。0 表示没有配额覆盖。1 表示配额覆盖，配额可以忽略现有的限制设置。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">read_policy<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">读取策略</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RW, since: 5.11)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(读写, 自 5.11 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows the current balance policy for reads.
Currently only “pid” (balance using pid value) is supported.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示当前的读取平衡策略。目前仅支持“pid”（使用 pid 值进行平衡）。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">sectorsize<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">扇区大小</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 3.14)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自版本 3.14 起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows the sectorsize of the mounted filesystem.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示已挂载文件系统的扇区大小。</font></font></font></p>
</dd>
</dl>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Files and directories in <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/&lt;UUID&gt;/allocations</span></code> directory are:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/&lt;UUID&gt;/allocations</span></code> 目录中的文件和目录为:</font></font></font></p>
<dl data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">global_rsv_reserved</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 3.14)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自版本 3.14 起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The used bytes of the global reservation.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">全局保留的已使用字节。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">global_rsv_size</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 3.14)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自版本 3.14 起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The total size of the global reservation.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">全球预订总大小。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><cite data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">data/</cite>, <cite data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">metadata/</cite> and <cite data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">system/</cite> directories<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">data/、metadata/ 和 system/ 目录</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 5.14)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自 5.14 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Space info accounting for the 3 chunk types.
Mostly for debug purposes.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">占用 3 种块类型的空间信息。主要用于调试目的。</font></font></font></p>
</dd>
</dl>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Files in <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/&lt;UUID&gt;/allocations/</span><em><span class="pre">data,metadata,system</span></em></code> directory are:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/&lt;UUID&gt;/allocations/</span><em><span class="pre">data,metadata,system</span></em></code> 目录中的文件为:</font></font></font></p>
<dl data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">bg_reclaim_threshold</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RW, since: 5.19)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(RW, 自 5.19 起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Reclaimable space percentage of block group’s size (excluding
permanently unusable space) to reclaim the block group.
Can be used on regular or zoned devices.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可回收空间百分比，用于回收块组的大小（不包括永久不可用空间）。可用于常规设备或分区设备。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">chunk_size<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">块大小</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RW, since: 6.0)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(RW, 自 6.0 起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows the chunk size. Can be changed for data and metadata.
Cannot be set for zoned devices.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示块大小。可为数据和元数据更改。无法为分区设备设置。</font></font></font></p>
</dd>
</dl>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Files in <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/&lt;UUID&gt;/devinfo/&lt;DEVID&gt;</span></code> directory are:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/&lt;UUID&gt;/devinfo/&lt;DEVID&gt;</span></code> 目录中的文件为:</font></font></font></p>
<dl data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">error_stats:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">错误统计:</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 5.14)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自 5.14 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows all the history error numbers of the device.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示设备的所有历史错误数量。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">fsid:</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 5.17)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自 5.17 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows the fsid which the device belongs to.
It can be different than the <cite data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">&lt;UUID&gt;</cite> if it’s a seed device.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示设备所属的 fsid。如果是种子设备，则可能与 &lt;UUID&gt; 不同。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">in_fs_metadata<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在_fs_metadata</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 5.6)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读，自 5.6 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows whether we have found the device.
Should always be 1, as if this turns to 0, the <cite data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">&lt;DEVID&gt;</cite> directory
would get removed automatically.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示我们是否找到了设备。应始终为 1，因为如果变为 0，&lt;DEVID&gt; 目录将自动删除。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">missing<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">缺失</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 5.6)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读，自 5.6 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows whether the device is missing.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示设备是否丢失。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">replace_target<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">替换目标</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 5.6)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读，自 5.6 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows whether the device is the replace target.
If no dev-replace is running, this value should be 0.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示设备是否为替换目标。如果没有进行 dev-replace 操作，则该值应为 0。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">scrub_speed_max<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">最大擦除速度</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RW, since: 5.14)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(读写, 自 5.14 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows the scrub speed limit for this device. The unit is Bytes/s.
0 means no limit.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示此设备的擦除速度限制。单位为字节/秒。0 表示无限制。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">writeable<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可写</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 5.6)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读，自 5.6 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Show if the device is writeable.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示设备是否可写。</font></font></font></p>
</dd>
</dl>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Files in <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/&lt;UUID&gt;/qgroups/</span></code> directory are:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/&lt;UUID&gt;/qgroups/</span></code> 目录中的文件为:</font></font></font></p>
<dl data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">enabled<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">已启用</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 6.1)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自 6.1 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows if qgroup is enabled.
Also, if qgroup is disabled, the <cite data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">qgroups</cite> directory would
be removed automatically.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示 qgroup 是否已启用。此外，如果 qgroup 已禁用，则 qgroups 目录将被自动删除。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">inconsistent<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不一致的</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 6.1)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自 6.1 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows if the qgroup numbers are inconsistent.
If 1, it’s recommended to do a qgroup rescan.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示 qgroup 数字是否不一致。如果为 1，则建议执行 qgroup rescan。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">drop_subtree_threshold</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RW, since: 6.1)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(读写, 自 6.1 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows the subtree drop threshold to automatically mark qgroup inconsistent.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示子树下降阈值，以自动标记 qgroup 不一致。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">When dropping large subvolumes with qgroup enabled, there would be a huge
load for qgroup accounting.
If we have a subtree whose level is larger than or equal to this value,
we will not trigger qgroup account at all, but mark qgroup inconsistent to
avoid the huge workload.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在启用 qgroup 的情况下删除大子卷时，qgroup 记账会有很大的负载。如果我们有一个子树，其级别大于或等于此值，则我们将根本不会触发 qgroup 记账，而是标记 qgroup 不一致以避免巨大的工作量。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Default value is 8, where no subtree drop can trigger qgroup.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">默认值为 8，其中没有子树下降会触发 qgroup。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Lower value can reduce qgroup workload, at the cost of extra qgroup rescan
to re-calculate the numbers.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">降低值可以减少 qgroup 的工作量，但会增加额外的 qgroup 重新扫描以重新计算数字。</font></font></font></p>
</dd>
</dl>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Files in <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/&lt;UUID&gt;/&lt;LEVEL&gt;_&lt;ID&gt;/</span></code> directory are:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/&lt;UUID&gt;/&lt;LEVEL&gt;_&lt;ID&gt;/</span></code> 目录中的文件为:</font></font></font></p>
<dl data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">exclusive<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">独占</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 5.9)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自 5.9 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows the exclusively owned bytes of the qgroup.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示 qgroup 独占的字节。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">limit_flags<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">限制标志</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 5.9)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自 5.9 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows the numeric value of the limit flags.
If 0, means no limit implied.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示限制标志的数值。如果为 0，则表示没有限制。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">max_exclusive<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">最大独占</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 5.9)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自 5.9 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows the limits on exclusively owned bytes.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示独占字节的限制。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">max_referenced</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 5.9)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自 5.9 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows the limits on referenced bytes.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示引用字节的限制。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">referenced<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">引用的</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 5.9)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自 5.9 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows the referenced bytes of the qgroup.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示 qgroup 的引用字节。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">rsv_data</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 5.9)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自 5.9 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows the reserved bytes for data.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示数据的保留字节。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">rsv_meta_pertrans<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">每个事务元数据的保留字节</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 5.9)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自 5.9 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows the reserved bytes for per transaction metadata.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示每个事务元数据的保留字节。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">rsv_meta_prealloc<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">预分配元数据的保留字节数</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 5.9)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自 5.9 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows the reserved bytes for preallocated metadata.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示预分配元数据的保留字节数</font></font></font></p>
</dd>
</dl>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Files in <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/&lt;UUID&gt;/discard/</span></code> directory are:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/&lt;UUID&gt;/discard/</span></code> 目录中的文件为:</font></font></font></p>
<dl data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">discardable_bytes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可丢弃字节</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 6.1)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自 6.1 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows amount of bytes that can be discarded in the async discard and
nodiscard mode.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示可以在异步丢弃和不丢弃模式中丢弃的字节数量。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">discardable_extents<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可丢弃的范围</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 6.1)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自 6.1 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows number of extents to be discarded in the async discard and
nodiscard mode.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示在异步丢弃和不丢弃模式中要丢弃的范围数量。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">discard_bitmap_bytes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">丢弃位图字节</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 6.1)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自 6.1 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows amount of discarded bytes from data tracked as bitmaps.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示作为位图跟踪的数据中丢弃的字节数。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">discard_extent_bytes</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 6.1)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自 6.1 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows amount of discarded extents from data tracked as bitmaps.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示作为位图跟踪的数据中丢弃的范围的数量。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">discard_bytes_saved</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RO, since: 6.1)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(只读, 自 6.1 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Shows the amount of bytes that were reallocated without being discarded.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">显示重新分配但未丢弃的字节数量。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">kbps_limit<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">kbps 限制</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RW, since: 6.1)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(读写, 自 6.1 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Tunable limit of kilobytes per second issued as discard IO in the async
discard mode.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在异步丢弃模式中作为丢弃 IO 的每秒千字节的可调限制。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">iops_limit</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RW, since: 6.1)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(读写, 自 6.1 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Tunable limit of number of discard IO operations to be issued in the
async discard mode.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">异步丢弃模式中要发出的丢弃 IO 操作数量的可调限制。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">max_discard_size</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">(RW, since: 6.1)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(读写, 自 6.1 版本起)</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Tunable limit for size of one IO discard request.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一个 IO 丢弃请求大小的可调限制。</font></font></font></p>
</dd>
</dl>
</section>
<section id="filesystem-exclusive-operations" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<span id="man-btrfs5-fileysstem-exclusive-operations" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></span><h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">FILESYSTEM EXCLUSIVE OPERATIONS<a class="headerlink" href="#filesystem-exclusive-operations" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统独占操作</font></font></font></h2>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">There are several operations that affect the whole filesystem and cannot be run
in parallel. Attempt to start one while another is running will fail (see
exceptions below).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">有几个影响整个文件系统且不能并行运行的操作。在另一个操作运行时尝试启动一个操作将失败（请参见下面的异常情况）。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Since kernel 5.10 the currently running operation can be obtained from
<code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/UUID/exclusive_operation</span></code> with following values and operations:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从内核 5.10 开始，当前运行的操作可以从 <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/UUID/exclusive_operation</span></code> 中获取，具有以下值和操作：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">balance<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">平衡</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">balance paused (since 5.17)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">平衡暂停（自 5.17 起）</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">device add<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设备添加</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">device delete<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设备删除</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">device replace<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设备替换</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">resize<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">调整大小</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">swapfile activate<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">启用交换文件</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">none<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">无</font></font></font></p></li>
</ul>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Enqueuing is supported for several btrfs subcommands so they can be started
at once and then serialized.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">对于几个 btrfs 子命令支持排队，以便它们可以一次启动，然后进行序列化。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">There’s an exception when a paused balance allows to start a device add
operation as they don’t really collide and this can be used to add more space
for the balance to finish.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当暂停余额允许启动设备添加操作时，会出现异常，因为它们实际上并不冲突，这可以用来为余额提供更多空间以完成操作。</font></font></font></p>
</section>
<section id="filesystem-limits" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">FILESYSTEM LIMITS<a class="headerlink" href="#filesystem-limits" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统限制</font></font></font></h2>
<dl data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">maximum file name length<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件名长度的最大限制</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">255</p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">This limit is imposed by Linux VFS, the structures of BTRFS could store
larger file names.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这个限制是由 Linux VFS 强加的，BTRFS 的结构可以存储更长的文件名。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">maximum symlink target length<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">符号链接目标的最大长度</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">depends on the <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nodesize</em> value, for 4KiB it’s 3949 bytes, for larger nodesize
it’s 4095 due to the system limit PATH_MAX<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">取决于节点大小的值，对于 4KiB，它是 3949 字节，对于更大的节点大小，由于系统限制 PATH_MAX，它是 4095。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The symlink target may not be a valid path, i.e. the path name components
can exceed the limits (NAME_MAX), there’s no content validation at <a class="reference external" href="https://man7.org/linux/man-pages/man3/symlink.3.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">symlink(3)</a>
creation.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">符号链接目标可能不是有效路径，即路径名组件可能超过限制（NAME_MAX），在创建符号链接（3）时没有内容验证。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">maximum number of inodes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">最大索引节点数</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">2<sup data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">64</sup> but depends on the available metadata space as the inodes are created
dynamically<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">2 <sup data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">64</sup> 但取决于可用的元数据空间，因为索引节点是动态创建的。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Each subvolume is an independent namespace of inodes and thus their
numbers, so the limit is per subvolume, not for the whole filesystem.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">每个子卷是独立的索引节点命名空间，因此它们的数量是独立的，因此限制是针对每个子卷而不是整个文件系统。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">inode numbers<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引节点编号</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">minimum number: 256 (for subvolumes), regular files and directories: 257,
maximum number: (2<sup data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">64</sup> - 256)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">最小数量: 256（对于子卷），常规文件和目录: 257，最大数量:（2 <sup data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">64</sup> - 256）</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The inode numbers that can be assigned to user created files are from
the whole 64bit space except first 256 and last 256 in that range that
are reserved for internal b-tree identifiers.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可分配给用户创建文件的索引节点号来自整个 64 位空间，除了该范围中保留用于内部 B 树标识符的第一个 256 和最后一个 256。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">maximum file length<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件长度最大值</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">inherent limit of BTRFS is 2<sup data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">64</sup> (16 EiB) but the practical
limit of Linux VFS is 2<sup data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">63</sup> (8 EiB)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">BTRFS 的固有限制是 2 <sup data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">64</sup> （16 EiB），但 Linux VFS 的实际限制是 2 <sup data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">63</sup> （8 EiB）</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">maximum number of subvolumes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">子卷的最大数量</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">the subvolume ids can go up to 2<sup data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">48</sup> but the number of actual subvolumes
depends on the available metadata space<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">子卷的 ID 可以达到 2 <sup data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">48</sup> ，但实际子卷的数量取决于可用的元数据空间</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The space consumed by all subvolume metadata includes bookkeeping of
shared extents can be large (MiB, GiB). The range is not the full 64bit
range because of qgroups that use the upper 16 bits for another
purposes.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">所有子卷元数据消耗的空间包括共享范围的簿记，可能会很大（MiB，GiB）。该范围不是完整的 64 位范围，因为 qgroups 使用上 16 位用于其他目的。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">maximum number of hardlinks of a file in a directory<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">目录中文件的硬链接的最大数量</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">65536 when the <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">extref</em> feature is turned on during mkfs (default), roughly
100 otherwise and depends on file name length that fits into one metadata node<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 mkfs 过程中打开 extref 功能时为 65536（默认值），否则大约为 100，取决于适合放入一个元数据节点的文件名长度</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">minimum filesystem size<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统最小大小</font></font></font></dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">the minimal size of each device depends on the <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">mixed-bg</em> feature, without that
(the default) it’s about 109MiB, with mixed-bg it’s is 16MiB<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">每个设备的最小大小取决于 mixed-bg 功能，如果没有（默认情况下）约为 109MiB，有 mixed-bg 则为 16MiB</font></font></font></p>
</dd>
</dl>
</section>
<section id="bootloader-support" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">BOOTLOADER SUPPORT<a class="headerlink" href="#bootloader-support" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">引导加载程序支持</font></font></font></h2>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">GRUB2 (<a class="reference external" href="https://www.gnu.org/software/grub" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">https://www.gnu.org/software/grub</a>) has the most advanced support of
booting from BTRFS with respect to features.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">GRUB2（https://www.gnu.org/software/grub）在从 BTRFS 引导方面具有最先进的功能支持。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">U-Boot (<a class="reference external" href="https://www.denx.de/wiki/U-Boot/" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">https://www.denx.de/wiki/U-Boot/</a>) has decent support for booting but
not all BTRFS features are implemented, check the documentation.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">U-Boot（https://www.denx.de/wiki/U-Boot/）具有良好的引导支持，但并非所有 BTRFS 功能都已实现，请查阅文档。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">In general, the first 1MiB on each device is unused with the exception of
primary superblock that is on the offset 64KiB and spans 4KiB. The rest can be
freely used by bootloaders or for other system information. Note that booting
from a filesystem on <a class="reference internal" href="Zoned-mode.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="doc" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">zoned device</span></a> is not supported.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一般情况下，每个设备上的前 1MiB 未使用，除了位于偏移 64KiB 且跨越 4KiB 的主超级块之外。其余部分可以自由地供引导加载程序或其他系统信息使用。请注意，不支持从分区设备上的文件系统引导。</font></font></font></p>
</section>
<section id="file-attributes" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">FILE ATTRIBUTES<a class="headerlink" href="#file-attributes" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件属性</font></font></font></h2>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The btrfs filesystem supports setting file attributes or flags. Note there are
old and new interfaces, with confusing names. The following list should clarify
that:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">btrfs 文件系统支持设置文件属性或标志。请注意，存在旧接口和新接口，名称可能会令人困惑。以下列表应该澄清这一点：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">attributes</em>: <a class="reference external" href="https://man7.org/linux/man-pages/man1/chattr.1.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">chattr(1)</a> or <a class="reference external" href="https://man7.org/linux/man-pages/man1/lsattr.1.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">lsattr(1)</a> utilities (the ioctls are
FS_IOC_GETFLAGS and FS_IOC_SETFLAGS), due to the ioctl names the attributes
are also called flags<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">属性：chattr(1)或 lsattr(1)实用程序（ioctl 为 FS_IOC_GETFLAGS 和 FS_IOC_SETFLAGS），由于 ioctl 的名称，这些属性也被称为标志</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">xflags</em>: to distinguish from the previous, it’s extended flags, with tunable
bits similar to the attributes but extensible and new bits will be added in
the future (the ioctls are FS_IOC_FSGETXATTR and FS_IOC_FSSETXATTR but they
are not related to extended attributes that are also called xattrs), there’s
no standard tool to change the bits, there’s support in <a class="reference external" href="https://man7.org/linux/man-pages/man8/xfs_io.8.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">xfs_io(8)</a> as
command <strong data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">xfs_io -c chattr</strong><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">xflags：用于与之前的区分，它是扩展标志，具有可调整的位，类似于属性，但是可扩展的，并且将来会添加新的位（ioctl 是 FS_IOC_FSGETXATTR 和 FS_IOC_FSSETXATTR，但它们与也称为 xattrs 的扩展属性无关），没有标准工具来更改位，xfs_io(8) 中有支持，命令为 xfs_io -c chattr</font></font></font></p></li>
</ul>
<section id="attributes" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Attributes<a class="headerlink" href="#attributes" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">属性</font></font></font></h3>
<dl data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">a</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">append only</em>, new writes are always written at the end of the file<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">仅追加，新写入始终写入文件末尾</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">A</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">no atime updates<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不更新访问时间</font></font></font></em></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">c</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">compress data</em>, all data written after this attribute is set will be compressed.
Please note that compression is also affected by the mount options or the parent
directory attributes.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">压缩数据，此属性设置后写入的所有数据将被压缩。请注意，压缩也受挂载选项或父目录属性的影响。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">When set on a directory, all newly created files will inherit this attribute.
This attribute cannot be set with ‘m’ at the same time.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当在目录上设置时，所有新创建的文件将继承此属性。此属性不能与‘m’同时设置。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">C</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">no copy-on-write</em>, file data modifications are done in-place<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不进行写时复制，文件数据修改直接在原地进行</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">When set on a directory, all newly created files will inherit this attribute.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当设置在目录上时，所有新创建的文件都将继承此属性。</font></font></font></p>
<div class="admonition note" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<p class="admonition-title" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Note<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Due to implementation limitations, this flag can be set/unset only on
empty files.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">由于实现限制，此标志只能在空文件上设置/取消设置。</font></font></font></p>
</div>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">d</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">no dump</em>, makes sense with 3rd party tools like <a class="reference external" href="https://man7.org/linux/man-pages/man8/dump.8.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">dump(8)</a>, on BTRFS the
attribute can be set/unset but no other special handling is done<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不转储，与 dump(8) 等第三方工具一起使用时是有意义的，在 BTRFS 上，属性可以设置/取消，但不进行其他特殊处理</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">D</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">synchronous directory updates</em>, for more details search <a class="reference external" href="https://man7.org/linux/man-pages/man2/open.2.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">open(2)</a> for <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">O_SYNC</em>
and <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">O_DSYNC</em><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">同步目录更新，有关更多详细信息，请搜索 open(2) 查找 O_SYNC 和 O_DSYNC</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">i</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">immutable</em>, no file data and metadata changes allowed even to the root user as
long as this attribute is set (obviously the exception is unsetting the attribute)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不可变，即使对于 root 用户，只要设置了此属性，也不允许对文件数据和元数据进行更改（显然例外是取消属性）</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">m</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">no compression</em>, permanently turn off compression on the given file. Any
compression mount options will not affect this file. (<a class="reference external" href="https://man7.org/linux/man-pages/man1/chattr.1.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">chattr(1)</a> support added in
1.46.2)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不压缩，在给定文件上永久关闭压缩。任何压缩挂载选项都不会影响此文件。（在 1.46.2 中添加了 chattr(1)支持）</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">When set on a directory, all newly created files will inherit this attribute.
This attribute cannot be set with <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">c</em> at the same time.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当设置在目录上时，所有新创建的文件将继承此属性。此属性不能与 c 同时设置。</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">S</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">synchronous updates</em>, for more details search <a class="reference external" href="https://man7.org/linux/man-pages/man2/open.2.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">open(2)</a> for <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">O_SYNC</em> and
<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">O_DSYNC</em><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">同步更新，更多细节请搜索 open(2)中的 O_SYNC 和 O_DSYNC。</font></font></font></p>
</dd>
</dl>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">No other attributes are supported.  For the complete list please refer to the
<a class="reference external" href="https://man7.org/linux/man-pages/man1/chattr.1.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">chattr(1)</a> manual page.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不支持其他属性。有关完整列表，请参阅 chattr(1) 手册页。</font></font></font></p>
</section>
<section id="xflags" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">XFLAGS<a class="headerlink" href="#xflags" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a></h3>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">There’s an overlap of letters assigned to the bits with the attributes, this list
refers to what <a class="reference external" href="https://man7.org/linux/man-pages/man8/xfs_io.8.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">xfs_io(8)</a> provides:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">位与属性具有重叠的字母分配，此列表指的是 xfs_io(8) 提供的内容：</font></font></font></p>
<dl class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">i</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">immutable</em>, same as the attribute<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不可变，与属性相同</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">a</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">append only</em>, same as the attribute<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">仅追加，与属性相同</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">s</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">synchronous updates</em>, same as the attribute <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">S</em><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">同步更新，与属性 S 相同</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">A</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">no atime updates</em>, same as the attribute<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不更新访问时间，与属性相同</font></font></font></p>
</dd>
<dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">d</dt><dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">no dump</em>, same as the attribute<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不转储，与属性相同</font></font></font></p>
</dd>
</dl>
</section>
</section>
<section id="zoned-mode" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<span id="man-btrfs5-zoned-mode" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></span><h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">ZONED MODE<a class="headerlink" href="#zoned-mode" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">分区模式</font></font></font></h2>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Since version 5.12 btrfs supports so called <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">zoned mode</em>. This is a special
on-disk format and allocation/write strategy that’s friendly to zoned devices.
In short, a device is partitioned into fixed-size zones and each zone can be
updated by append-only manner, or reset. As btrfs has no fixed data structures,
except the super blocks, the zoned mode only requires block placement that
follows the device constraints. You can learn about the whole architecture at
<a class="reference external" href="https://zonedstorage.io" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">https://zonedstorage.io</a> .<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从版本 5.12 开始，btrfs 支持所谓的分区模式。这是一种特殊的磁盘格式和分配/写入策略，对分区设备友好。简而言之，设备被分成固定大小的区域，每个区域可以通过追加方式更新，或者重置。由于 btrfs 没有固定的数据结构，除了超级块，分区模式只需要遵循设备约束的块放置。您可以在 https://zonedstorage.io 了解整个架构。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The devices are also called SMR/ZBC/ZNS, in <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">host-managed</em> mode. Note that
there are devices that appear as non-zoned but actually are, this is
<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">drive-managed</em> and using zoned mode won’t help.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这些设备也被称为 SMR/ZBC/ZNS，在主机管理模式下。请注意，有些设备看起来不是分区的，但实际上是，这是驱动程序管理的，并且使用分区模式不会有帮助。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The zone size depends on the device, typical sizes are 256MiB or 1GiB. In
general it must be a power of two. Emulated zoned devices like <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">null_blk</em> allow
to set various zone sizes.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">分区大小取决于设备，典型大小为 256MiB 或 1GiB。一般来说，它必须是 2 的幂。像 null_blk 这样的模拟分区设备允许设置各种分区大小。</font></font></font></p>
<section id="requirements-limitations" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Requirements, limitations<a class="headerlink" href="#requirements-limitations" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要求，限制</font></font></font></h3>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">all devices must have the same zone size<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">所有设备必须具有相同的分区大小</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">maximum zone size is 8GiB<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">最大区域大小为 8GiB</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">minimum zone size is 4MiB<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">最小区域大小为 4MiB</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">mixing zoned and non-zoned devices is possible, the zone writes are emulated,
but this is namely for testing<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可以混合使用分区和非分区设备，分区写入会被模拟，但这主要用于测试</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">the super block is handled in a special way and is at different locations than on a non-zoned filesystem:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">超级块以特殊方式处理，并位于分区文件系统上的不同位置：</font></font></font></p>
<ul data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">primary: 0B (and the next two zones)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">主要：0B（以及接下来的两个区域）</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">secondary: 512GiB (and the next two zones)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">次要：512GiB（以及接下来的两个区域）</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">tertiary: 4TiB (4096GiB, and the next two zones)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">三级：4TiB（4096GiB，以及接下来的两个区域）</font></font></font></p></li>
</ul>
</li>
</ul>
</section>
<section id="incompatible-features" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Incompatible features<a class="headerlink" href="#incompatible-features" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不兼容的特性</font></font></font></h3>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The main constraint of the zoned devices is lack of in-place update of the data.
This is inherently incompatible with some features:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">分区设备的主要约束是数据的就地更新不足。这与某些特性本质上不兼容：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">NODATACOW - overwrite in-place, cannot create such files<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">NODATACOW - 覆盖原地，无法创建此类文件</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">fallocate - preallocating space for in-place first write<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">fallocate - 为原地第一次写入预分配空间</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">mixed-bg - unordered writes to data and metadata, fixing that means using
separate data and metadata block groups<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">mixed-bg - 无序写入数据和元数据，修复这个问题意味着使用单独的数据和元数据块组</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">booting - the zone at offset 0 contains superblock, resetting the zone would
destroy the bootloader data<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">启动 - 偏移量为 0 的区域包含超级块，重置该区域将销毁引导加载程序数据</font></font></font></p></li>
</ul>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Initial support lacks some features but they’re planned:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">初始支持缺少一些功能，但它们已计划：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">only single (data, metadata) and DUP (metadata) profile is supported<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">仅支持单个（数据，元数据）和 DUP（元数据）配置文件</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">fstrim - due to dependency on free space cache v1<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">fstrim - 由于依赖于空闲空间缓存 v1</font></font></font></p></li>
</ul>
</section>
<section id="super-block" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Super block<a class="headerlink" href="#super-block" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">超级块</font></font></font></h3>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">As said above, super block is handled in a special way. In order to be crash
safe, at least one zone in a known location must contain a valid superblock.
This is implemented as a ring buffer in two consecutive zones, starting from
known offsets 0B, 512GiB and 4TiB.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如上所述，超级块以特殊方式处理。为了保证崩溃安全，至少一个已知位置的区域必须包含一个有效的超级块。这是通过在两个连续区域中实现的环形缓冲区来实现的，从已知偏移 0B、512GiB 和 4TiB 开始。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The values are different than on non-zoned devices. Each new super block is
appended to the end of the zone, once it’s filled, the zone is reset and writes
continue to the next one. Looking up the latest super block needs to read
offsets of both zones and determine the last written version.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这些值与非分区设备上的值不同。每个新的超级块都附加到区域的末尾，一旦填满，该区域将被重置，并且写入将继续到下一个区域。查找最新的超级块需要读取两个区域的偏移量，并确定最后写入的版本。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The amount of space reserved for super block depends on the zone size. The
secondary and tertiary copies are at distant offsets as the capacity of the
devices is expected to be large, tens of terabytes. Maximum zone size supported
is 8GiB, which would mean that e.g. offset 0-16GiB would be reserved just for
the super block on a hypothetical device of that zone size. This is wasteful
but required to guarantee crash safety.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">为超级块保留的空间量取决于区域大小。由于设备的容量预计会很大，达到数十 TB，因此次要和三次副本位于远距离的偏移量上。支持的最大区域大小为 8GiB，这意味着例如在假设的该区域大小的设备上，0-16GiB 的偏移量将仅用于超级块。这是浪费的，但为了保证崩溃安全性是必需的。</font></font></font></p>
</section>
<section id="devices" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Devices<a class="headerlink" href="#devices" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设备</font></font></font></h3>
<section id="real-hardware" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h4 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Real hardware<a class="headerlink" href="#real-hardware" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">真实硬件</font></font></font></h4>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The WD Ultrastar series 600 advertises HM-SMR, i.e. the host-managed zoned
mode. There are two more: DA (device managed, no zoned information exported to
the system), HA (host aware, can be used as regular disk but zoned writes
improve performance). There are not many devices available at the moment, the
information about exact zoned mode is hard to find, check data sheets or
community sources gathering information from real devices.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">WD Ultrastar 系列 600 宣传 HM-SMR，即主机管理的分区模式。还有两种：DA（设备管理，不向系统导出分区信息），HA（主机感知，可用作常规磁盘，但分区写入可提高性能）。目前可用的设备不多，关于确切分区模式的信息很难找到，查看数据表或从真实设备中收集信息的社区来源。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Note: zoned mode won’t work with DM-SMR disks.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：分区模式不适用于 DM-SMR 磁盘。</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Ultrastar® DC ZN540 NVMe ZNS SSD (<a class="reference external" href="https://documents.westerndigital.com/content/dam/doc-library/en_us/assets/public/western-digital/collateral/product-brief/product-brief-ultrastar-dc-zn540.pdf" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">product
brief</a>)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Ultrastar® DC ZN540 NVMe ZNS 固态硬盘（产品简介）</font></font></font></p></li>
</ul>
</section>
<section id="emulated-null-blk" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h4 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Emulated: null_blk<a class="headerlink" href="#emulated-null-blk" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">模拟：null_blk </font></font></font></h4>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The driver <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">null_blk</em> provides memory backed device and is suitable for
testing. There are some quirks setting up the devices. The module must be
loaded with <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nr_devices=0</em> or the numbering of device nodes will be offset. The
<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">configfs</em> must be mounted at <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">/sys/kernel/config</em> and the administration of
the null_blk devices is done in <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">/sys/kernel/config/nullb</em>. The device nodes
are named like <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/dev/nullb0</span></code> and are numbered sequentially. NOTE: the device
name may be different than the named directory in sysfs!<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">驱动程序 null_blk 提供基于内存的设备，适用于测试。设置设备时有一些怪癖。必须使用 nr_devices=0 加载模块，否则设备节点的编号将会偏移。必须将 configfs 挂载到 /sys/kernel/config，对 null_blk 设备的管理在 /sys/kernel/config/nullb 中进行。设备节点的命名类似于 <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/dev/nullb0</span></code> 并按顺序编号。注意：设备名称可能与 sysfs 中命名的目录不同！</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Setup:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置:</font></font></font></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>modprobe<span class="w">&nbsp;</span>configfs
modprobe<span class="w">&nbsp;</span>null_blk<span class="w">&nbsp;</span><span class="nv">nr_devices</span><span class="o">=</span><span class="m">0</span>
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Create a device <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">mydev</em>, assuming no other previously created devices, size is
2048MiB, zone size 256MiB. There are more tunable parameters, this is a minimal
example taking defaults:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">创建一个设备 mydev，假设之前没有创建过其他设备，大小为 2048MiB，区域大小为 256MiB。还有更多可调参数，这是一个以默认值为例的最小示例:</font></font></font></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w">&nbsp;</span>/sys/kernel/config/nullb/
mkdir<span class="w">&nbsp;</span>mydev
<span class="nb">cd</span><span class="w">&nbsp;</span>mydev
<span class="nb">echo</span><span class="w">&nbsp;</span><span class="m">2048</span><span class="w">&nbsp;</span>&gt;<span class="w">&nbsp;</span>size
<span class="nb">echo</span><span class="w">&nbsp;</span><span class="m">1</span><span class="w">&nbsp;</span>&gt;<span class="w">&nbsp;</span>zoned
<span class="nb">echo</span><span class="w">&nbsp;</span><span class="m">1</span><span class="w">&nbsp;</span>&gt;<span class="w">&nbsp;</span>memory_backed
<span class="nb">echo</span><span class="w">&nbsp;</span><span class="m">256</span><span class="w">&nbsp;</span>&gt;<span class="w">&nbsp;</span>zone_size
<span class="nb">echo</span><span class="w">&nbsp;</span><span class="m">1</span><span class="w">&nbsp;</span>&gt;<span class="w">&nbsp;</span>power
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">This will create a device <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/dev/nullb0</span></code> and the value of file <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">index</em> will
match the ending number of the device node.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这将创建一个设备 <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/dev/nullb0</span></code> ，文件索引的值将与设备节点的结束数字匹配。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Remove the device:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">移除设备：</font></font></font></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rmdir<span class="w">&nbsp;</span>/sys/kernel/config/nullb/mydev
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Then continue with <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">mkfs.btrfs /dev/nullb0</strong>, the zoned mode is auto-detected.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">然后继续执行 mkfs.btrfs /dev/nullb0，分区模式将被自动检测。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">For convenience, there’s a script wrapping the basic null_blk management operations
<a class="reference external" href="https://github.com/kdave/nullb.git" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">https://github.com/kdave/nullb.git</a>, the above commands become:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">为了方便起见，有一个脚本包装了基本的 null_blk 管理操作 https://github.com/kdave/nullb.git，上述命令变为：</font></font></font></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>nullb<span class="w"> </span>setup
nullb<span class="w"> </span>create<span class="w"> </span>-s<span class="w"> </span>2g<span class="w"> </span>-z<span class="w"> </span><span class="m">256</span>
mkfs.btrfs<span class="w"> </span>/dev/nullb0
...
nullb<span class="w"> </span>rm<span class="w"> </span>nullb0
</pre></div>
</div>
</section>
<section id="emulated-tcmu-runner" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h4 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Emulated: TCMU runner<a class="headerlink" href="#emulated-tcmu-runner" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">模拟：TCMU 运行器</font></font></font></h4>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">TCMU is a framework to emulate SCSI devices in userspace, providing various
backends for the storage, with zoned support as well. A file-backed zoned
device can provide more options for larger storage and zone size. Please follow
the instructions at <a class="reference external" href="https://zonedstorage.io/projects/tcmu-runner/" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">https://zonedstorage.io/projects/tcmu-runner/</a> .<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">TCMU 是一个在用户空间模拟 SCSI 设备的框架，提供各种后端存储支持，同时也支持分区。基于文件的分区设备可以为更大的存储和分区大小提供更多选项。请按照 https://zonedstorage.io/projects/tcmu-runner/ 上的说明操作。</font></font></font></p>
</section>
</section>
<section id="compatibility-incompatibility" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Compatibility, incompatibility<a class="headerlink" href="#compatibility-incompatibility" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">兼容性，不兼容性</font></font></font></h3>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">the feature sets an incompat bit and requires new kernel to access the
filesystem (for both read and write)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">该功能设置了一个不兼容位，并需要新的内核来访问文件系统（包括读和写）</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">superblock needs to be handled in a special way, there are still 3 copies
but at different offsets (0, 512GiB, 4TiB) and the 2 consecutive zones are a
ring buffer of the superblocks, finding the latest one needs reading it from
the write pointer or do a full scan of the zones<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">超级块需要以特殊方式处理，仍然有 3 个副本，但位于不同的偏移量（0、512GiB、4TiB），而 2 个连续的区域是超级块的环形缓冲区，找到最新的超级块需要从写指针读取它或对区域进行完整扫描</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">mixing zoned and non zoned devices is possible (zones are emulated) but is
recommended only for testing<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">混合分区和非分区设备是可能的（分区被模拟），但建议仅用于测试</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">mixing zoned devices with different zone sizes is not possible<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">无法将具有不同区域大小的区域设备混合使用</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">zone sizes must be power of two, zone sizes of real devices are e.g. 256MiB
or 1GiB, larger size is expected, maximum zone size supported by btrfs is
8GiB<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">区域大小必须是 2 的幂，实际设备的区域大小为 256MiB 或 1GiB，预期更大的尺寸，btrfs 支持的最大区域大小为 8GiB</font></font></font></p></li>
</ul>
</section>
<section id="status-stability-reporting-bugs" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Status, stability, reporting bugs<a class="headerlink" href="#status-stability-reporting-bugs" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">状态、稳定性、报告错误 </font></font></font></h3>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The zoned mode has been released in 5.12 and there are still some rough edges
and corner cases one can hit during testing. Please report bugs to
<a class="reference external" href="https://github.com/naota/linux/issues/" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">https://github.com/naota/linux/issues/</a> .<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">分区模式已在 5.12 中发布，测试过程中可能会遇到一些问题和特殊情况。请将错误报告给 https://github.com/naota/linux/issues/ 。</font></font></font></p>
</section>
<section id="references" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">References<a class="headerlink" href="#references" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">参考资料 </font></font></font></h3>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference external" href="https://zonedstorage.io" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">https://zonedstorage.io</a></p>
<ul data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><a class="reference external" href="https://zonedstorage.io/projects/libzbc/" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">https://zonedstorage.io/projects/libzbc/</a> -- <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">libzbc</em> is library and set
of tools to directly manipulate devices with ZBC/ZAC support<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">https://zonedstorage.io/projects/libzbc/ -- libzbc 是一个库和一组工具，用于直接操作支持 ZBC/ZAC 的设备。</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><a class="reference external" href="https://zonedstorage.io/projects/libzbd/" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">https://zonedstorage.io/projects/libzbd/</a> -- <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">libzbd</em> uses the kernel
provided zoned block device interface based on the ioctl() system calls<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">https://zonedstorage.io/projects/libzbd/ -- libzbd 使用基于 ioctl() 系统调用的内核提供的分区块设备接口</font></font></font></p></li>
</ul>
</li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><a class="reference external" href="https://hddscan.com/blog/2020/hdd-wd-smr.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">https://hddscan.com/blog/2020/hdd-wd-smr.html</a> -- some details about exact device types<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">https://hddscan.com/blog/2020/hdd-wd-smr.html -- 有关确切设备类型的一些细节</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><a class="reference external" href="https://lwn.net/Articles/853308/" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">https://lwn.net/Articles/853308/</a> -- <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">Btrfs on zoned block devices</em><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">https://lwn.net/Articles/853308/ -- Btrfs 在分区块设备上</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><a class="reference external" href="https://www.usenix.org/conference/vault20/presentation/bjorling" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">https://www.usenix.org/conference/vault20/presentation/bjorling</a> -- Zone
Append: A New Way of Writing to Zoned Storage<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">https://www.usenix.org/conference/vault20/presentation/bjorling -- 区域追加：一种新的写入分区存储的方式</font></font></font></p></li>
</ul>
</section>
</section>
<section id="control-device" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">CONTROL DEVICE<a class="headerlink" href="#control-device" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">控制设备</font></font></font></h2>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">There’s a character special device <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/dev/btrfs-control</span></code> with major and minor
numbers 10 and 234 (the device can be found under the <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">misc</em> category).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">有一个字符特殊设备 <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/dev/btrfs-control</span></code> ，主次编号分别为 10 和 234（该设备可以在杂项类别下找到）。</font></font></font></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ls -l /dev/btrfs-control
crw------- 1 root root 10, 234 Jan  1 12:00 /dev/btrfs-control
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The device accepts some ioctl calls that can perform following actions on the
filesystem module:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">该设备接受一些 ioctl 调用，可以对文件系统模块执行以下操作：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">scan devices for btrfs filesystem (i.e. to let multi-device filesystems mount
automatically) and register them with the kernel module<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">扫描设备以查找 btrfs 文件系统（即让多设备文件系统自动挂载）并将它们注册到内核模块</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">similar to scan, but also wait until the device scanning process is finished
for a given filesystem<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">类似于扫描，但还会等待给定文件系统的设备扫描过程完成</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">get the supported features (can be also found under <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/features</span></code>)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">获取支持的功能（也可以在 <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/sys/fs/btrfs/features</span></code> 下找到）</font></font></font></p></li>
</ul>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The device is created when btrfs is initialized, either as a module or a
built-in functionality and makes sense only in connection with that. Running
e.g. mkfs without the module loaded will not register the device and will
probably warn about that.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设备是在初始化 btrfs 时创建的，可以作为模块或内置功能，并且只有在与其连接时才有意义。例如，在未加载模块的情况下运行 mkfs 将不会注册设备，并且可能会发出警告。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">In rare cases when the module is loaded but the device is not present (most
likely accidentally deleted), it’s possible to recreate it by<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在极少数情况下，当模块已加载但设备不存在（很可能是意外删除时），可以通过重新创建来解决。</font></font></font></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># mknod --mode=600 /dev/btrfs-control c 10 234</span>
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">or (since 5.11) by a convenience command<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">或者（自 5.11 起）通过一个便利命令。</font></font></font></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># btrfs rescue create-control-device</span>
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The control device is not strictly required but the device scanning will not
work and a workaround would need to be used to mount a multi-device filesystem.
The mount option <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">device</em> can trigger the device scanning during mount, see
also <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs device scan</strong>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">控制设备并非严格要求，但设备扫描将无法工作，需要使用一种变通方法来挂载多设备文件系统。挂载选项设备可以在挂载期间触发设备扫描，另请参阅 btrfs 设备扫描。</font></font></font></p>
</section>
<section id="filesystem-with-multiple-profiles" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<span id="man-btrfs5-filesystem-with-multiple-profiles" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></span><h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">FILESYSTEM WITH MULTIPLE PROFILES<a class="headerlink" href="#filesystem-with-multiple-profiles" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">具有多个配置文件的文件系统</font></font></font></h2>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">It is possible that a btrfs filesystem contains multiple block group profiles
of the same type.  This could happen when a profile conversion using balance
filters is interrupted (see <a class="reference internal" href="btrfs-balance.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="doc" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs-balance(8)</span></a>).  Some
<strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs</strong> commands perform
a test to detect this kind of condition and print a warning like this:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">有可能 btrfs 文件系统包含同一类型的多个块组配置文件。当使用平衡过滤器进行配置文件转换时中断（参见 btrfs-balance(8)）可能会发生这种情况。一些 btrfs 命令执行测试以检测这种情况并打印警告，如下所示：</font></font></font></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>WARNING: Multiple block group profiles detected, see 'man btrfs(5)'.
WARNING:   Data: single, raid1
WARNING:   Metadata: single, raid1
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The corresponding output of <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs filesystem df</strong> might look like:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">btrfs 文件系统 df 的相应输出可能如下所示：</font></font></font></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>WARNING: Multiple block group profiles detected, see 'man btrfs(5)'.
WARNING:   Data: single, raid1
WARNING:   Metadata: single, raid1
Data, RAID1: total=832.00MiB, used=0.00B
Data, single: total=1.63GiB, used=0.00B
System, single: total=4.00MiB, used=16.00KiB
Metadata, single: total=8.00MiB, used=112.00KiB
Metadata, RAID1: total=64.00MiB, used=32.00KiB
GlobalReserve, single: total=16.25MiB, used=0.00B
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">There’s more than one line for type <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">Data</em> and <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">Metadata</em>, while the profiles
are <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">single</em> and <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">RAID1</em>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">对于 Data 和 Metadata 类型，有多行输出，而 profiles 是单个和 RAID1。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">This state of the filesystem OK but most likely needs the user/administrator to
take an action and finish the interrupted tasks. This cannot be easily done
automatically, also the user knows the expected final profiles.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统的状态是 OK 的，但很可能需要用户/管理员采取行动并完成中断的任务。这不能轻松地自动完成，用户也知道预期的最终 profiles。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">In the example above, the filesystem started as a single device and <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">single</em>
block group profile. Then another device was added, followed by balance with
<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">convert=raid1</em> but for some reason hasn’t finished. Restarting the balance
with <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">convert=raid1</em> will continue and end up with filesystem with all block
group profiles <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">RAID1</em>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在上面的示例中，文件系统最初作为单个设备和单个块组配置启动。然后添加了另一个设备，然后使用 convert=raid1 进行平衡，但由于某种原因尚未完成。重新使用 convert=raid1 进行平衡将继续，并最终以所有块组配置为 RAID1 的文件系统结束。</font></font></font></p>
<div class="admonition note" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<p class="admonition-title" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Note<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">If you’re familiar with balance filters, you can use
<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">convert=raid1,profiles=single,soft</em>, which will take only the unconverted
<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">single</em> profiles and convert them to <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">raid1</em>. This may speed up the conversion
as it would not try to rewrite the already convert <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">raid1</em> profiles.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果您熟悉平衡过滤器，可以使用 convert=raid1,profiles=single,soft，这将仅获取未转换的单个配置文件并将其转换为 raid1。这可能会加快转换速度，因为它不会尝试重写已转换为 raid1 的配置文件。</font></font></font></p>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Having just one profile is desired as this also clearly defines the profile of
newly allocated block groups, otherwise this depends on internal allocation
policy. When there are multiple profiles present, the order of selection is
RAID56, RAID10, RAID1, RAID0 as long as the device number constraints are
satisfied.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">仅具有一个配置文件是理想的，因为这也清楚地定义了新分配的块组的配置文件，否则这取决于内部分配策略。当存在多个配置文件时，选择顺序为 RAID56、RAID10、RAID1、RAID0，只要满足设备编号约束。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Commands that print the warning were chosen so they’re brought to user
attention when the filesystem state is being changed in that regard. This is:
<strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">device add</strong>, <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">device delete</strong>, <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">balance cancel</strong>, <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">balance pause</strong>. Commands
that report space usage: <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">filesystem df</strong>, <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">device usage</strong>. The command
<strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">filesystem usage</strong> provides a line in the overall summary:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">选择打印警告的命令，以便在更改文件系统状态时引起用户注意。这些命令包括：添加设备、删除设备、取消平衡、暂停平衡。报告空间使用情况的命令有：文件系统 df、设备使用情况。命令文件系统使用提供了整体摘要中的一行：</font></font></font></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Multiple profiles:                 yes (data, metadata)
</pre></div>
</div>
</section>
<section id="seeding-device" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<span id="man-btrfs5-seeding-device" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></span><h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">SEEDING DEVICE<a class="headerlink" href="#seeding-device" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">种子设备 </font></font></font></h2>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The COW mechanism and multiple devices under one hood enable an interesting
concept, called a seeding device: extending a read-only filesystem on a
device with another device that captures all writes. For example
imagine an immutable golden image of an operating system enhanced with another
device that allows to use the data from the golden image and normal operation.
This idea originated on CD-ROMs with base OS and allowing to use them for live
systems, but this became obsolete. There are technologies providing similar
functionality, like <a class="reference external" href="https://en.wikipedia.org/wiki/Union_mount" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">unionmount</a>,
<a class="reference external" href="https://en.wikipedia.org/wiki/OverlayFS" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">overlayfs</a> or
<a class="reference external" href="https://en.wikipedia.org/wiki/Qcow#qcow2#qcow2" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">qcow2</a> image snapshot.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">COW 机制和一个外壳下的多个设备实现了一个有趣的概念，称为种子设备：通过在一个设备上扩展只读文件系统，并使用另一个设备捕获所有写入。例如，想象一个不可变的操作系统黄金镜像，再加上另一个设备，允许使用黄金镜像的数据和正常操作。这个想法起源于带有基本操作系统的 CD-ROM，并允许将它们用于实时系统，但这已经过时了。有一些提供类似功能的技术，如 unionmount、overlayfs 或 qcow2 镜像快照。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The seeding device starts as a normal filesystem, once the contents is ready,
<strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfstune -S 1</strong> is used to flag it as a seeding device. Mounting such device
will not allow any writes, except adding a new device by <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs device add</strong>.
Then the filesystem can be remounted as read-write.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">种子设备开始时作为一个普通文件系统，一旦内容准备好，使用 btrfstune -S 1 将其标记为种子设备。挂载这样的设备将不允许任何写入，除非通过 btrfs device add 添加新设备。然后文件系统可以重新挂载为读写。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Given that the filesystem on the seeding device is always recognized as
read-only, it can be used to seed multiple filesystems from one device at the
same time. The UUID that is normally attached to a device is automatically
changed to a random UUID on each mount.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">鉴于播种设备上的文件系统始终被识别为只读，因此可以使用它同时从一个设备播种多个文件系统。通常附加到设备上的 UUID 在每次挂载时会自动更改为随机 UUID。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Once the seeding device is mounted, it needs the writable device. After adding
it, unmounting and mounting with <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">umount /path; mount /dev/writable
/path</strong> or remounting read-write with <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">remount -o remount,rw</strong> makes the
filesystem at <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/path</span></code> ready for use.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一旦播种设备被挂载，它需要可写设备。添加后，使用 umount /path; mount /dev/writable /path 或使用 remount -o remount,rw 重新挂载为读写模式，使得位于 <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/path</span></code> 的文件系统准备就绪。</font></font></font></p>
<div class="admonition note" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<p class="admonition-title" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Note<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">There is a known bug with using remount to make the mount writeable:
remount will leave the filesystem in a state where it is unable to
clean deleted snapshots, so it will leak space until it is unmounted
and mounted properly.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 remount 使挂载点可写存在已知 bug：remount 会使文件系统处于无法清理已删除快照的状态，因此会泄漏空间，直到正确卸载和挂载为止。</font></font></font></p>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Furthermore, deleting the seeding device from the filesystem can turn it into
a normal filesystem, provided that the writable device can also contain all the
data from the seeding device.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此外，从文件系统中删除种子设备可以将其转换为普通文件系统，前提是可写设备还可以包含种子设备中的所有数据。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The seeding device flag can be cleared again by <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfstune -f -S 0</strong>, e.g.
allowing to update with newer data but please note that this will invalidate
all existing filesystems that use this particular seeding device. This works
for some use cases, not for others, and the forcing flag to the command is
mandatory to avoid accidental mistakes.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可以通过 btrfstune -f -S 0 再次清除种子设备标志，例如，允许使用更新的数据，但请注意，这将使使用此特定种子设备的所有现有文件系统无效。这适用于某些用例，但不适用于其他用例，并且命令的强制标志是必需的，以避免意外错误。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Example how to create and use one seeding device:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">创建和使用一个种子设备的示例：</font></font></font></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># mkfs.btrfs /dev/sda</span>
<span class="c1"># mount /dev/sda /mnt/mnt1</span>
...<span class="w"> </span>fill<span class="w"> </span>mnt1<span class="w"> </span>with<span class="w"> </span>data
<span class="c1"># umount /mnt/mnt1</span>

<span class="c1"># btrfstune -S 1 /dev/sda</span>

<span class="c1"># mount /dev/sda /mnt/mnt1</span>
<span class="c1"># btrfs device add /dev/sdb /mnt/mnt1</span>
<span class="c1"># umount /mnt/mnt1</span>
<span class="c1"># mount /dev/sdb /mnt/mnt1</span>
...<span class="w"> </span>/mnt/mnt1<span class="w"> </span>is<span class="w"> </span>now<span class="w"> </span>writable
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Now <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/mnt/mnt1</span></code> can be used normally. The device <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/dev/sda</span></code> can be mounted
again with a another writable device:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">现在 <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/mnt/mnt1</span></code> 可以正常使用。设备 <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/dev/sda</span></code> 可以再次与另一个可写设备挂载：</font></font></font></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># mount /dev/sda /mnt/mnt2</span>
<span class="c1"># btrfs device add /dev/sdc /mnt/mnt2</span>
<span class="c1"># umount /mnt/mnt2</span>
<span class="c1"># mount /dev/sdc /mnt/mnt2</span>
...<span class="w"> </span>/mnt/mnt2<span class="w"> </span>is<span class="w"> </span>now<span class="w"> </span>writable
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The writable device (file:<cite data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">/dev/sdb</cite>) can be decoupled from the seeding device and
used independently:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可以将可写设备（文件：/dev/sdb）与种子设备分离，独立使用：</font></font></font></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># btrfs device delete /dev/sda /mnt/mnt1</span>
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">As the contents originated in the seeding device, it’s possible to turn
<code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/dev/sdb</span></code> to a seeding device again and repeat the whole process.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">由于内容源自种子设备，可以将 <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/dev/sdb</span></code> 再次转换为种子设备，重复整个过程。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">A few things to note:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一些需要注意的事项：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">it’s recommended to use only single device for the seeding device, it works
for multiple devices but the <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">single</em> profile must be used in order to make
the seeding device deletion work<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">建议只使用单个设备作为种子设备，虽然多个设备也可以使用，但必须使用单个配置文件才能使种子设备删除功能正常工作</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">block group profiles <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">single</em> and <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">dup</em> support the use cases above<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">区块组配置文件 single 和 dup 支持上述用例</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">the label is copied from the seeding device and can be changed by <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs filesystem label</strong><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">标签是从种子设备复制的，并可以通过 btrfs 文件系统标签进行更改</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">each new mount of the seeding device gets a new random UUID<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">每次挂载种子设备时都会获得一个新的随机 UUID</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">umount /path; mount /dev/writable /path</strong> can be replaced with
<strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">mount -o remount,rw /path</strong>
but it won’t reclaim space of deleted subvolumes until the seeding device
is mounted read-write again before making it seeding again<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">umount /path; mount /dev/writable /path 可以替换为 mount -o remount,rw /path，但在将种子设备再次挂载为读写模式之前，它不会回收已删除子卷的空间，然后再次将其设置为种子设备</font></font></font></p></li>
</ul>
<section id="chained-seeding-devices" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Chained seeding devices<a class="headerlink" href="#chained-seeding-devices" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">链式播种设备</font></font></font></h3>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Though it’s not recommended and is rather an obscure and untested use case,
chaining seeding devices is possible. In the first example, the writable device
<code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/dev/sdb</span></code> can be turned onto another seeding device again, depending on the
unchanged seeding device <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/dev/sda</span></code>. Then using <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/dev/sdb</span></code> as the primary
seeding device it can be extended with another writable device, say <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/dev/sdd</span></code>,
and it continues as before as a simple tree structure on devices.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">虽然不建议这样做，而且这是一个相当模糊且未经测试的用例，但是可以链接播种设备。在第一个示例中，可写设备 <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/dev/sdb</span></code> 可以再次转到另一个播种设备，取决于未更改的播种设备 <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/dev/sda</span></code> 。然后，使用 <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/dev/sdb</span></code> 作为主要播种设备，可以使用另一个可写设备 <code class="file docutils literal notranslate" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="pre">/dev/sdd</span></code> 进行扩展，然后继续作为设备上的简单树结构。</font></font></font></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># mkfs.btrfs /dev/sda</span>
<span class="c1"># mount /dev/sda /mnt/mnt1</span>
...<span class="w"> </span>fill<span class="w"> </span>mnt1<span class="w"> </span>with<span class="w"> </span>data
<span class="c1"># umount /mnt/mnt1</span>

<span class="c1"># btrfstune -S 1 /dev/sda</span>

<span class="c1"># mount /dev/sda /mnt/mnt1</span>
<span class="c1"># btrfs device add /dev/sdb /mnt/mnt1</span>
<span class="c1"># mount -o remount,rw /mnt/mnt1</span>
...<span class="w"> </span>/mnt/mnt1<span class="w"> </span>is<span class="w"> </span>now<span class="w"> </span>writable
<span class="c1"># umount /mnt/mnt1</span>

<span class="c1"># btrfstune -S 1 /dev/sdb</span>

<span class="c1"># mount /dev/sdb /mnt/mnt1</span>
<span class="c1"># btrfs device add /dev/sdc /mnt</span>
<span class="c1"># mount -o remount,rw /mnt/mnt1</span>
...<span class="w"> </span>/mnt/mnt1<span class="w"> </span>is<span class="w"> </span>now<span class="w"> </span>writable
<span class="c1"># umount /mnt/mnt1</span>
</pre></div>
</div>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">As a result we have:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">因此，我们有：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">sda</em> is a single seeding device, with its initial contents<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">sda 是一个单个的播种设备，具有其初始内容</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">sdb</em> is a seeding device but requires <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">sda</em>, the contents are from the time
when <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">sdb</em> is made seeding, i.e. contents of <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">sda</em> with any later changes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">sdb 是一个播种设备，但需要 sda，其内容来自于 sdb 成为播种设备时的时间，即 sda 的内容以及任何后续更改</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">sdc</em> last writable, can be made a seeding one the same way as was <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">sdb</em>,
preserving its contents and depending on <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">sda</em> and <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">sdb</em><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">sdc 最后可写，可以像 sdb 一样制作成播种设备，保留其内容并依赖于 sda 和 sdb</font></font></font></p></li>
</ul>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">As long as the seeding devices are unmodified and available, they can be used
to start another branch.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">只要播种设备未经修改且可用，它们就可以用来启动另一个分支。</font></font></font></p>
</section>
</section>
<section id="raid56-status-and-recommended-practices" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">RAID56 STATUS AND RECOMMENDED PRACTICES<a class="headerlink" href="#raid56-status-and-recommended-practices" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">RAID56 状态和推荐做法 </font></font></font></h2>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The RAID56 feature provides striping and parity over several devices, same as
the traditional RAID5/6. There are some implementation and design deficiencies
that make it unreliable for some corner cases and the feature <strong data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">should not be
used in production, only for evaluation or testing</strong>.  The power failure safety
for metadata with RAID56 is not 100%.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">RAID56 功能在多个设备上提供分段和奇偶校验，与传统的 RAID5/6 相同。存在一些实现和设计缺陷，使其在某些边缘情况下不可靠，该功能不应在生产环境中使用，仅用于评估或测试。RAID56 的元数据对断电的安全性不是 100%。</font></font></font></p>
<section id="metadata" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Metadata<a class="headerlink" href="#metadata" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">元数据</font></font></font></h3>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Do not use <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">raid5</em> nor <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">raid6</em> for metadata. Use <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">raid1</em> or <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">raid1c3</em>
respectively.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不要为元数据使用 raid5 或 raid6。分别使用 raid1 或 raid1c3。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The substitute profiles provide the same guarantees against loss of 1 or 2
devices, and in some respect can be an improvement.  Recovering from one
missing device will only need to access the remaining 1st or 2nd copy, that in
general may be stored on some other devices due to the way RAID1 works on
btrfs, unlike on a striped profile (similar to <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">raid0</em>) that would need all
devices all the time.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">替代配置文件提供了相同的 1 或 2 台设备丢失的损失保证，并在某些方面可能会有所改进。从一个丢失的设备中恢复只需要访问剩余的第一个或第二个副本，通常可能存储在其他设备上，因为 btrfs 上的 RAID1 的工作方式不同于条带化配置文件（类似于 raid0），后者需要始终使用所有设备。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The space allocation pattern and consumption is different (e.g. on N devices):
for <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">raid5</em> as an example, a 1GiB chunk is reserved on each device, while with
<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">raid1</em> there’s each 1GiB chunk stored on 2 devices. The consumption of each
1GiB of used metadata is then <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">N * 1GiB</em> for vs <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">2 * 1GiB</em>. Using <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">raid1</em>
is also more convenient for balancing/converting to other profile due to lower
requirement on the available chunk space.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">空间分配模式和消耗不同（例如，在 N 个设备上）：例如，对于 raid5，每个设备上保留 1GiB 的块，而对于 raid1，每个 1GiB 的块存储在 2 个设备上。然后，每 1GiB 已使用的元数据的消耗为 N * 1GiB，而不是 2 * 1GiB。使用 raid1 也更方便于平衡/转换到其他配置文件，因为对可用块空间的要求较低。</font></font></font></p>
</section>
<section id="missing-incomplete-support" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Missing/incomplete support<a class="headerlink" href="#missing-incomplete-support" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">缺失/不完整的支持 </font></font></font></h3>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">When RAID56 is on the same filesystem with different raid profiles, the space
reporting is inaccurate, e.g. <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">df</strong>, <strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs filesystem df</strong> or
<strong class="command" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs filesystem usage</strong>. When there’s only a one profile per block
group type (e.g. RAID5 for data) the reporting is accurate.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当 RAID56 与不同的 RAID 配置文件系统在同一文件系统上时，空间报告不准确，例如 df、btrfs 文件系统 df 或 btrfs 文件系统使用情况。当每个块组类型只有一个配置文件（例如数据的 RAID5）时，报告是准确的。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">When scrub is started on a RAID56 filesystem, it’s started on all devices that
degrade the performance. The workaround is to start it on each device
separately. Due to that the device stats may not match the actual state and
some errors might get reported multiple times.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当在 RAID56 文件系统上启动 scrub 时，它会在所有降低性能的设备上启动。解决方法是在每个设备上单独启动。由于设备统计信息可能与实际状态不匹配，可能会多次报告一些错误。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">write hole</em> problem. An unclean shutdown could leave a partially written
stripe in a state where the some stripe ranges and the parity are from the old
writes and some are new. The information which is which is not tracked. Write
journal is not implemented. Alternatively a full read-modify-write would make
sure that a full stripe is always written, avoiding the write hole completely,
but performance in that case turned out to be too bad for use.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">写洞问题。不干净的关闭可能会导致部分写入条带处于某种状态，其中一些条带范围和奇偶校验是来自旧的写入，一些是新的。不跟踪哪个是哪个的信息。写日志未实现。或者完全读取-修改-写入将确保始终写入完整条带，完全避免写洞，但在这种情况下性能太差而无法使用。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The striping happens on all available devices (at the time the chunks were
allocated), so in case a new device is added it may not be utilized
immediately and would require a rebalance. A fixed configured stripe width is
not implemented.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">条带化发生在所有可用设备上（在分配块时），因此如果添加新设备，则可能不会立即利用，并且需要重新平衡。没有实现固定配置的条带宽度。</font></font></font></p>
</section>
</section>
<section id="storage-model-hardware-considerations" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">STORAGE MODEL, HARDWARE CONSIDERATIONS<a class="headerlink" href="#storage-model-hardware-considerations" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">存储模型，硬件考虑</font></font></font></h2>
<section id="storage-model" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Storage model<a class="headerlink" href="#storage-model" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">存储模型</font></font></font></h3>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">A storage model is a model that captures key physical aspects of data
structure in a data store. A filesystem is the logical structure organizing
data on top of the storage device.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">存储模型是捕捉数据存储中数据结构的关键物理方面的模型。文件系统是在存储设备顶部组织数据的逻辑结构。</font></font></font></em></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The filesystem assumes several features or limitations of the storage device
and utilizes them or applies measures to guarantee reliability. BTRFS in
particular is based on a COW (copy on write) mode of writing, i.e. not updating
data in place but rather writing a new copy to a different location and then
atomically switching the pointers.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统假定存储设备具有几个特性或限制，并利用它们或采取措施来保证可靠性。特别是 BTRFS 基于写时复制（COW）模式，即不在原地更新数据，而是将新副本写入不同位置，然后原子地切换指针。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">In an ideal world, the device does what it promises. The filesystem assumes
that this may not be true so additional mechanisms are applied to either detect
misbehaving hardware or get valid data by other means. The devices may (and do)
apply their own detection and repair mechanisms but we won’t assume any.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在理想世界中，设备会实现其承诺。文件系统假定这可能不是真实的，因此会应用额外的机制来检测设备的异常行为或通过其他方式获取有效数据。设备可能（也确实）应用其自己的检测和修复机制，但我们不会假设任何情况。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The following assumptions about storage devices are considered (sorted by
importance, numbers are for further reference):<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">考虑了关于存储设备的以下假设（按重要性排序，数字供进一步参考）：</font></font></font></p>
<ol class="arabic simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">atomicity of reads and writes of blocks/sectors (the smallest unit of data
the device presents to the upper layers)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">读取和写入块/扇区（设备向上层呈现的最小数据单元）的原子性</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">there’s a flush command that instructs the device to forcibly order writes
before and after the command; alternatively there’s a barrier command that
facilitates the ordering but may not flush the data<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">有一个刷新命令，指示设备在命令之前和之后强制排序写入；或者有一个屏障命令，促进排序但可能不刷新数据</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">data sent to write to a given device offset will be written without further
changes to the data and to the offset<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">发送到给定设备偏移量的写入数据将被写入，而不会对数据和偏移量进行进一步更改</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">writes can be reordered by the device, unless explicitly serialized by the
flush command<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">写入可以被设备重新排序，除非通过刷新命令明确序列化</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">reads and writes can be freely reordered and interleaved<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">读取和写入可以自由重新排序和交错</font></font></font></p></li>
</ol>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The consistency model of BTRFS builds on these assumptions. The logical data
updates are grouped, into a generation, written on the device, serialized by
the flush command and then the super block is written ending the generation.
All logical links among metadata comprising a consistent view of the data may
not cross the generation boundary.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">BTRFS 的一致性模型建立在这些假设之上。逻辑数据更新被分组成一代，写入设备，通过刷新命令序列化，然后写入超级块结束该代。所有元数据之间的逻辑链接组成了数据的一致视图，可能不会跨越代边界。</font></font></font></p>
</section>
<section id="when-things-go-wrong" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">When things go wrong<a class="headerlink" href="#when-things-go-wrong" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当事情出错时 </font></font></font></h3>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><strong data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">No or partial atomicity of block reads/writes (1)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">块读/写的不完全原子性 (1)</font></font></font></strong></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">Problem</em>: a partial block contents is written (<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">torn write</em>), e.g. due to a
power glitch or other electronics failure during the read/write<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">问题: 写入部分块内容 (断裂写入)，例如由于读/写期间的电源故障或其他电子故障</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">Detection</em>: checksum mismatch on read<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">检测：读取时校验和不匹配</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">Repair</em>: use another copy or rebuild from multiple blocks using some encoding
scheme<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">修复：使用另一个副本或使用某种编码方案从多个块重新构建</font></font></font></p></li>
</ul>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><strong data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The flush command does not flush (2)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">刷新命令不刷新（2）</font></font></font></strong></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">This is perhaps the most serious problem and impossible to mitigate by
filesystem without limitations and design restrictions. What could happen in
the worst case is that writes from one generation bleed to another one, while
still letting the filesystem consider the generations isolated. Crash at any
point would leave data on the device in an inconsistent state without any hint
what exactly got written, what is missing and leading to stale metadata link
information.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这可能是最严重的问题，文件系统无法通过限制和设计约束来减轻。在最糟糕的情况下可能发生的是，一个世代的写入会泄漏到另一个世代，同时让文件系统认为这些世代是隔离的。在任何时候崩溃都会使设备上的数据处于不一致状态，而没有任何线索表明到底写入了什么，缺少了什么，导致了陈旧的元数据链接信息。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Devices usually honor the flush command, but for performance reasons may do
internal caching, where the flushed data are not yet persistently stored. A
power failure could lead to a similar scenario as above, although it’s less
likely that later writes would be written before the cached ones. This is
beyond what a filesystem can take into account. Devices or controllers are
usually equipped with batteries or capacitors to write the cache contents even
after power is cut. (<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">Battery backed write cache</em>)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设备通常会遵守刷新命令，但出于性能原因可能会进行内部缓存，刷新的数据尚未持久存储。断电可能导致与上述类似的情况，尽管后续写入在缓存写入之前的可能性较小。这超出了文件系统所能考虑的范围。设备或控制器通常配备电池或电容器，以便在断电后仍能写入缓存内容。（带电池备份写缓存）</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><strong data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Data get silently changed on write (3)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">数据在写入时会悄悄地发生变化（3）</font></font></font></strong></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Such thing should not happen frequently, but still can happen spuriously due
the complex internal workings of devices or physical effects of the storage
media itself.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这种事情不应该经常发生，但由于设备的复杂内部工作或存储介质本身的物理效应，仍然可能偶尔发生。</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">Problem</em>: while the data are written atomically, the contents get changed<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">问题：虽然数据是以原子方式写入的，但内容发生了变化</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">Detection</em>: checksum mismatch on read<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">检测：读取时校验和不匹配</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">Repair</em>: use another copy or rebuild from multiple blocks using some
encoding scheme<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">修复：使用另一个副本或使用某种编码方案从多个块重新构建</font></font></font></p></li>
</ul>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><strong data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Data get silently written to another offset (3)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">数据悄悄地写入另一个偏移量（3）</font></font></font></strong></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">This would be another serious problem as the filesystem has no information
when it happens. For that reason the measures have to be done ahead of time.
This problem is also commonly called <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">ghost write</em>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当发生这种情况时，这将是另一个严重问题，因为文件系统在其发生时没有任何信息。因此，必须提前采取措施。这个问题通常也被称为幽灵写入。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The metadata blocks have the checksum embedded in the blocks, so a correct
atomic write would not corrupt the checksum. It’s likely that after reading
such block the data inside would not be consistent with the rest. To rule that
out there’s embedded block number in the metadata block. It’s the logical
block number because this is what the logical structure expects and verifies.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">元数据块中嵌入了校验和，因此正确的原子写入不会损坏校验和。很可能在读取这样的块之后，内部数据与其余部分不一致。为了排除这种可能性，在元数据块中嵌入了块编号。这是逻辑块编号，因为这是逻辑结构所期望并验证的内容。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The following is based on information publicly available, user feedback,
community discussions or bug report analyses. It’s not complete and further
research is encouraged when in doubt.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以下内容基于公开信息、用户反馈、社区讨论或错误报告分析。这并不完整，当有疑问时鼓励进一步研究。</font></font></font></p>
</section>
<section id="main-memory" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Main memory<a class="headerlink" href="#main-memory" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">主存储器 </font></font></font></h3>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The data structures and raw data blocks are temporarily stored in computer
memory before they get written to the device. It is critical that memory is
reliable because even simple bit flips can have vast consequences and lead to
damaged structures, not only in the filesystem but in the whole operating
system.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在将数据结构和原始数据块写入设备之前，它们会临时存储在计算机内存中。内存的可靠性至关重要，因为即使是简单的位翻转也可能导致严重后果，并导致结构受损，不仅仅是在文件系统中，还包括整个操作系统。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Based on experience in the community, memory bit flips are more common than one
would think. When it happens, it’s reported by the tree-checker or by a checksum
mismatch after reading blocks. There are some very obvious instances of bit
flips that happen, e.g. in an ordered sequence of keys in metadata blocks. We can
easily infer from the other data what values get damaged and how. However, fixing
that is not straightforward and would require cross-referencing data from the
entire filesystem to see the scope.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">根据社区的经验，内存位翻转比人们想象的要常见。当发生这种情况时，树检查器或在读取块后发生校验和不匹配会报告。有一些非常明显的位翻转实例会发生，例如在元数据块中键的有序序列中。我们可以轻松地从其他数据推断出哪些值受损以及受损程度。然而，修复这个问题并不简单，需要跨引用整个文件系统的数据来查看范围。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">If available, ECC memory should lower the chances of bit flips, but this
type of memory is not available in all cases. A memory test should be performed
in case there’s a visible bit flip pattern, though this may not detect a faulty
memory module because the actual load of the system could be the factor making
the problems appear. In recent years attacks on how the memory modules operate
have been demonstrated (<em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">rowhammer</em>) achieving specific bits to be flipped.
While these were targeted, this shows that a series of reads or writes can
affect unrelated parts of memory.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果可用，ECC 内存应该降低位翻转的机会，但并非所有情况下都有这种类型的内存。如果存在可见的位翻转模式，应进行内存测试，尽管这可能无法检测到有问题的内存模块，因为系统的实际负载可能是导致问题出现的因素。近年来，对内存模块操作的攻击已经得到证明（rowhammer），实现特定位的翻转。尽管这些是有针对性的，但这表明一系列读取或写入可能会影响内存的不相关部分。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Block group profiles with redundancy (like RAID1) will not protect against
memory errors as the blocks are first stored in memory before they are written
to the devices from the same source.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">具有冗余的块组配置文件（如 RAID1）不会保护内存错误，因为块首先存储在内存中，然后从相同来源写入设备。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">A filesystem mounted read-only will not affect the underlying block device in
almost 100% (with highly unlikely exceptions). The exception is a tree-log that
needs to be replayed during mount (and before the read-only mount takes place),
working memory is needed for that and that can be affected by bit flips.
There’s a theoretical case where bit flip changes the filesystem status from
read-only to read-write.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">挂载为只读的文件系统几乎不会影响底层块设备（几乎 100％，极少数例外）。例外情况是在挂载期间需要重放的树日志（在只读挂载之前进行），这需要工作内存，而这可能会受到位翻转的影响。存在一种理论情况，即位翻转将文件系统状态从只读更改为读写。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Further reading:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">进一步阅读：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference external" href="https://en.wikipedia.org/wiki/Row_hammer" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">https://en.wikipedia.org/wiki/Row_hammer</a></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">memory overclocking, XMP, potential risks<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内存超频，XMP，潜在风险</font></font></font></p></li>
</ul>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">What to do:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">该怎么办：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">run <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">memtest</em>, note that sometimes memory errors happen only when the system
is under heavy load that the default memtest cannot trigger<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">运行内存测试，注意有时候内存错误只会在系统承受重负载时发生，而默认的内存测试无法触发这种情况</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">memory errors may appear as filesystem going read-only due to “pre write”
check, that verify meta data before they get written but fail some basic
consistency checks<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内存错误可能会导致文件系统变为只读，这是由于“预写”检查引起的，该检查在写入之前验证元数据，但未通过一些基本一致性检查</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">newly built systems should be tested before being put to production use,
ideally start a IO/CPU load that will be run on such system later; namely
systems that will utilize overclocking or special performance features<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">新构建的系统在投入生产使用之前应该进行测试，最好启动一个会在该系统上运行的 IO/CPU 负载测试；特别是那些将利用超频或特殊性能功能的系统</font></font></font></p></li>
</ul>
</section>
<section id="direct-memory-access-dma" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Direct memory access (DMA)<a class="headerlink" href="#direct-memory-access-dma" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">直接内存访问（DMA）</font></font></font></h3>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Another class of errors is related to DMA (direct memory access) performed
by device drivers. While this could be considered a software error, the
data transfers that happen without CPU assistance may accidentally corrupt
other pages. Storage devices utilize DMA for performance reasons, the
filesystem structures and data pages are passed back and forth, making
errors possible in case page life time is not properly tracked.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">另一类错误与设备驱动程序执行的 DMA（直接内存访问）有关。虽然这可能被视为软件错误，但在没有 CPU 协助的情况下发生的数据传输可能会意外损坏其他页面。存储设备利用 DMA 来提高性能，文件系统结构和数据页面来回传递，如果页面寿命没有正确跟踪，可能会出现错误。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">There are lots of quirks (device-specific workarounds) in Linux kernel
drivers (regarding not only DMA) that are added when found. The quirks
may avoid specific errors or disable some features to avoid worse problems.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 Linux 内核驱动程序中存在许多怪癖（特定设备的解决方法），当发现时会添加到其中（不仅限于 DMA）。这些怪癖可能避免特定错误或禁用某些功能以避免更严重的问题。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">What to do:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">该怎么办：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">use up-to-date kernel (recent releases or maintained long term support versions)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用最新的内核（最新发布版或长期维护版本）</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">as this may be caused by faulty drivers, keep the systems up-to-date<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">由于可能是由于驱动程序故障引起的，请保持系统保持最新状态</font></font></font></p></li>
</ul>
</section>
<section id="rotational-disks-hdd" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Rotational disks (HDD)<a class="headerlink" href="#rotational-disks-hdd" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">旋转磁盘（HDD）</font></font></font></h3>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Rotational HDDs typically fail at the level of individual sectors or small clusters.
Read failures are caught on the levels below the filesystem and are returned to
the user as <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">EIO - Input/output error</em>. Reading the blocks repeatedly may
return the data eventually, but this is better done by specialized tools and
filesystem takes the result of the lower layers. Rewriting the sectors may
trigger internal remapping but this inevitably leads to data loss.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">旋转式硬盘驱动器（HDD）通常在单个扇区或小簇的级别上发生故障。读取失败会在文件系统下的级别上被捕获，并作为 EIO - 输入/输出错误返回给用户。重复读取块可能最终会返回数据，但最好由专门工具完成，文件系统会接收下层的结果。重写扇区可能会触发内部重映射，但这不可避免地会导致数据丢失。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Disk firmware is technically software but from the filesystem perspective is
part of the hardware. IO requests are processed, and caching or various
other optimizations are performed, which may lead to bugs under high load or
unexpected physical conditions or unsupported use cases.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">硬盘固件在技术上是软件，但从文件系统的角度来看，它是硬件的一部分。IO 请求会被处理，并执行缓存或各种其他优化，这可能会在高负载或意外物理条件或不支持的用例下导致错误。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Disks are connected by cables with two ends, both of which can cause problems
when not attached properly. Data transfers are protected by checksums and the
lower layers try hard to transfer the data correctly or not at all. The errors
from badly-connecting cables may manifest as large amount of failed read or
write requests, or as short error bursts depending on physical conditions.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">硬盘通过两端连接的电缆连接，当连接不正确时，两端都可能导致问题。数据传输受校验和保护，较低的层次会尽力正确传输数据，或者根本不传输。由于连接不良的电缆可能导致大量失败的读取或写入请求，或者根据物理条件而定，表现为短暂的错误突发。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">What to do:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">该怎么办：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">check <strong data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">smartctl</strong> for potential issues<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">检查 smartctl 是否存在潜在问题</font></font></font></p></li>
</ul>
</section>
<section id="solid-state-drives-ssd" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Solid state drives (SSD)<a class="headerlink" href="#solid-state-drives-ssd" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">固态硬盘（SSD）</font></font></font></h3>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The mechanism of information storage is different from HDDs and this affects
the failure mode as well. The data are stored in cells grouped in large blocks
with limited number of resets and other write constraints. The firmware tries
to avoid unnecessary resets and performs optimizations to maximize the storage
media lifetime. The known techniques are deduplication (blocks with same
fingerprint/hash are mapped to same physical block), compression or internal
remapping and garbage collection of used memory cells. Due to the additional
processing there are measures to verify the data e.g. by ECC codes.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">信息存储机制与 HDD 不同，这也影响了故障模式。数据存储在以大块为单位的单元中，具有有限数量的重置和其他写入约束。固件试图避免不必要的重置，并执行优化以最大化存储介质的寿命。已知的技术包括去重（具有相同指纹/哈希的块被映射到同一物理块）、压缩或内部重映射以及已使用内存单元的垃圾收集。由于额外的处理，有措施来验证数据，例如通过 ECC 码。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">The observations of failing SSDs show that the whole electronic fails at once
or affects a lot of data (e.g. stored on one chip). Recovering such data
may need specialized equipment and reading data repeatedly does not help as
it’s possible with HDDs.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">失败的固态硬盘的观察表明，整个电子设备一次性失效或影响大量数据（例如存储在一个芯片上的数据）。恢复这些数据可能需要专门的设备，反复读取数据并不能像 HDD 那样有助于恢复。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">There are several technologies of the memory cells with different
characteristics and price. The lifetime is directly affected by the type and
frequency of data written.  Writing “too much” distinct data (e.g. encrypted)
may render the internal deduplication ineffective and lead to a lot of rewrites
and increased wear of the memory cells.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内存单元有几种不同特性和价格的技术。寿命直接受到写入数据类型和频率的影响。写入“过多”不同的数据（例如加密数据）可能使内部去重失效，并导致大量重写和增加内存单元的磨损。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">There are several technologies and manufacturers so it’s hard to describe them
but there are some that exhibit similar behaviour:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">有几种技术和制造商，因此很难描述它们，但有一些表现出类似的行为：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">expensive SSD will use more durable memory cells and is optimized for
reliability and high load<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">昂贵的固态硬盘将使用更耐用的内存单元，并针对可靠性和高负载进行了优化。</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">cheap SSD is projected for a lower load (“desktop user”) and is optimized for
cost, it may employ the optimizations and/or extended error reporting
partially or not at all<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">廉价的固态硬盘适用于较低负载（“桌面用户”），并且经过成本优化，可能部分或完全采用优化和/或扩展的错误报告</font></font></font></p></li>
</ul>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">It’s not possible to reliably determine the expected lifetime of an SSD due to
lack of information about how it works or due to lack of reliable stats provided
by the device.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">由于缺乏关于其工作原理的信息或由于设备提供的可靠统计数据不足，无法可靠地确定固态硬盘的预期寿命。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Metadata writes tend to be the biggest component of lifetime writes to a SSD,
so there is some value in reducing them. Depending on the device class (high
end/low end) the features like DUP block group profiles may affect the
reliability in both ways:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">元数据写入往往是固态硬盘寿命写入的最大组成部分，因此减少它们具有一定的价值。根据设备类别（高端/低端），像 DUP 块组配置文件这样的功能可能会以两种方式影响可靠性。</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">high end</em> are typically more reliable and using <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">single</em> for data and
metadata could be suitable to reduce device wear<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">高端产品通常更可靠，并且单独用于数据和元数据可能适合减少设备磨损</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">low end</em> could lack ability to identify errors so an additional redundancy
at the filesystem level (checksums, <em data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">DUP</em>) could help<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">低端产品可能缺乏识别错误的能力，因此在文件系统级别增加额外的冗余（校验和、DUP）可能有所帮助</font></font></font></p></li>
</ul>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Only users who consume 50 to 100% of the SSD’s actual lifetime writes need to be
concerned by the write amplification of btrfs DUP metadata. Most users will be
far below 50% of the actual lifetime, or will write the drive to death and
discover how many writes 100% of the actual lifetime was. SSD firmware often
adds its own write multipliers that can be arbitrary and unpredictable and
dependent on application behavior, and these will typically have far greater
effect on SSD lifespan than DUP metadata. It’s more or less impossible to
predict when a SSD will run out of lifetime writes to within a factor of two, so
it’s hard to justify wear reduction as a benefit.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">只有消耗 SSD 实际寿命写入量的 50 到 100% 的用户需要关注 btrfs DUP 元数据的写放大。大多数用户的写入量远低于实际寿命的 50%，或者会写入到设备死亡并发现 100% 实际寿命的写入量是多少。SSD 固件通常会添加自己的写入倍增器，这些倍增器可能是任意的、不可预测的，并且取决于应用程序的行为，这些倍增器通常对 SSD 寿命的影响要远远大于 DUP 元数据。几乎不可能准确预测 SSD 何时耗尽寿命写入量，因此很难将减少磨损作为一个好处来证明。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Further reading:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">进一步阅读：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference external" href="https://www.snia.org/educational-library/ssd-and-deduplication-end-spinning-disk-2012" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">https://www.snia.org/educational-library/ssd-and-deduplication-end-spinning-disk-2012</a></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference external" href="https://www.snia.org/educational-library/realities-solid-state-storage-2013-2013" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">https://www.snia.org/educational-library/realities-solid-state-storage-2013-2013</a></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference external" href="https://www.snia.org/educational-library/ssd-performance-primer-2013" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">https://www.snia.org/educational-library/ssd-performance-primer-2013</a></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference external" href="https://www.snia.org/educational-library/how-controllers-maximize-ssd-life-2013" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">https://www.snia.org/educational-library/how-controllers-maximize-ssd-life-2013</a></p></li>
</ul>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">What to do:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">该怎么办：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">run <strong data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">smartctl</strong> or self-tests to look for potential issues<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">运行 smartctl 或自检以查找潜在问题</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">keep the firmware up-to-date<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">保持固件最新</font></font></font></p></li>
</ul>
</section>
<section id="nvm-express-non-volatile-memory-nvme" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">NVM express, non-volatile memory (NVMe)<a class="headerlink" href="#nvm-express-non-volatile-memory-nvme" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">NVM Express，非易失性存储器（NVMe）</font></font></font></h3>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">NVMe is a type of persistent memory usually connected over a system bus (PCIe)
or similar interface and the speeds are an order of magnitude faster than SSD.
It is also a non-rotating type of storage, and is not typically connected by a
cable. It’s not a SCSI type device either but rather a complete specification
for logical device interface.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">NVMe 是一种通常通过系统总线（PCIe）或类似接口连接的持久性存储器类型，速度比固态硬盘快一个数量级。它也是一种非旋转式存储，通常不通过电缆连接。它也不是 SCSI 类型设备，而是逻辑设备接口的完整规范。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">In a way the errors could be compared to a combination of SSD class and regular
memory. Errors may exhibit as random bit flips or IO failures. There are tools
to access the internal log (<strong data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nvme log</strong> and <strong data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">nvme-cli</strong>) for a more detailed
analysis.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在某种程度上，错误可以被比作 SSD 类和常规内存的组合。错误可能表现为随机位翻转或 IO 故障。有工具可以访问内部日志（nvme 日志和 nvme-cli）进行更详细的分析。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">There are separate error detection and correction steps performed e.g. on the
bus level and in most cases never making in to the filesystem level. Once this
happens it could mean there’s some systematic error like overheating or bad
physical connection of the device. You may want to run self-tests (using
<strong data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">smartctl</strong>).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">有单独的错误检测和纠正步骤，例如在总线级别上执行，在大多数情况下从未进入文件系统级别。一旦发生这种情况，可能意味着存在一些系统性错误，如过热或设备的不良物理连接。您可能希望运行自检（使用 smartctl）。</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference external" href="https://en.wikipedia.org/wiki/NVM_Express" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">https://en.wikipedia.org/wiki/NVM_Express</a></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a class="reference external" href="https://www.smartmontools.org/wiki/NVMe_Support" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">https://www.smartmontools.org/wiki/NVMe_Support</a></p></li>
</ul>
</section>
<section id="drive-firmware" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Drive firmware<a class="headerlink" href="#drive-firmware" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">驱动器固件 </font></font></font></h3>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Firmware is technically still software but embedded into the hardware. As all
software has bugs, so does firmware. Storage devices can update the firmware
and fix known bugs. In some cases the it’s possible to avoid certain bugs by
quirks (device-specific workarounds) in Linux kernel.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">固件在技术上仍然是软件，但嵌入到硬件中。正如所有软件都有漏洞一样，固件也有漏洞。存储设备可以更新固件并修复已知的漏洞。在某些情况下，可以通过 Linux 内核中的技巧（设备特定的解决方法）来避免某些漏洞。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">A faulty firmware can cause wide range of corruptions from small and localized
to large affecting lots of data. Self-repair capabilities may not be sufficient.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">故障的固件可能导致从小范围和局部的损坏到影响大量数据的广泛损坏。自我修复能力可能不足。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">What to do:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">该怎么办：</font></font></font></p>
<ul class="simple" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">check for firmware updates in case there are known problems, note that
updating firmware can be risky on itself<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">检查固件更新以防存在已知问题，请注意更新固件本身可能存在风险</font></font></font></p></li>
<li data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">use up-to-date kernel (recent releases or maintained long term support versions)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用最新的内核（最新发布版或长期维护版本）</font></font></font></p></li>
</ul>
</section>
<section id="sd-flash-cards" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">SD flash cards<a class="headerlink" href="#sd-flash-cards" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">SD 闪存卡 </font></font></font></h3>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">There are a lot of devices with low power consumption and thus using storage
media based on low power consumption too, typically flash memory stored on
a chip enclosed in a detachable card package. An improperly inserted card may be
damaged by electrical spikes when the device is turned on or off. The chips
storing data in turn may be damaged permanently. All types of flash memory
have a limited number of rewrites, so the data are internally translated by FTL
(flash translation layer). This is implemented in firmware (technically a
software) and prone to bugs that manifest as hardware errors.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">有许多低功耗设备，因此使用基于低功耗的存储介质，通常是存储在可拆卸卡包中的芯片上的闪存存储器。当设备开启或关闭时，不正确插入的卡可能会受到电压峰值的损坏。存储数据的芯片可能会永久受损。所有类型的闪存存储器都有有限的重写次数，因此数据通过 FTL（闪存转换层）进行内部转换。这是在固件中实现的（技术上是软件），容易出现表现为硬件错误的错误。</font></font></font></p>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Adding redundancy like using DUP profiles for both data and metadata can help
in some cases but a full backup might be the best option once problems appear
and replacing the card could be required as well.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">增加冗余，例如同时为数据和元数据使用 DUP 配置文件，在某些情况下可能有所帮助，但一旦出现问题，完整备份可能是最佳选择，同时可能需要更换卡。</font></font></font></p>
</section>
<section id="hardware-as-the-main-source-of-filesystem-corruptions" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h3 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Hardware as the main source of filesystem corruptions<a class="headerlink" href="#hardware-as-the-main-source-of-filesystem-corruptions" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">硬件是文件系统损坏的主要原因。</font></font></font></h3>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><strong data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">If you use unreliable hardware and don’t know about that, don’t blame the
filesystem when it tells you.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果你使用不可靠的硬件并且对此一无所知，当文件系统告诉你时不要责怪它。</font></font></font></strong></p>
</section>
</section>
<section id="see-also" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
<h2 data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">SEE ALSO<a class="headerlink" href="#see-also" title="Link to this heading" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">参见 </font></font></font></h2>
<p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><a class="reference external" href="https://man7.org/linux/man-pages/man5/acl.5.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">acl(5)</a>,
<a class="reference internal" href="btrfs.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="doc" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">btrfs(8)</span></a>,
<a class="reference external" href="https://man7.org/linux/man-pages/man1/chattr.1.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">chattr(1)</a>,
<a class="reference external" href="https://man7.org/linux/man-pages/man8/fstrim.8.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">fstrim(8)</a>,
<a class="reference external" href="https://man7.org/linux/man-pages/man2/ioctl.2.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">ioctl(2)</a>,
<a class="reference internal" href="mkfs.btrfs.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><span class="doc" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">mkfs.btrfs(8)</span></a>,
<a class="reference external" href="https://man7.org/linux/man-pages/man8/mount.8.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">mount(8)</a>,
<a class="reference external" href="https://man7.org/linux/man-pages/man8/swapon.8.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">swapon(8)</a></p>
</section>
</section>


           </div>
          </div>
          <footer data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1"><div class="rst-footer-buttons" role="navigation" aria-label="Footer" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
        <a href="btrfs.html" class="btn btn-neutral float-left" title="btrfs(8)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="btrfs-balance.html" class="btn btn-neutral float-right" title="btrfs-balance(8)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr>

  <div role="contentinfo" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
    <p data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">© Copyright .
      <span class="commit" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">Revision <code data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">5d97c32d</code>.
      </span><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">© 版权所有。修订版 <code data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">5d97c32d</code> 。</font></font></font></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">theme</a>
    provided by <a href="https://readthedocs.org" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">Read the Docs</a>.
   

<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用由 Read the Docs 提供的主题构建的 Sphinx。</font></font></font></footer>
        </div>
      </div>
    </section>
  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
    <span class="rst-current-version" data-toggle="rst-current-version" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">
      <span class="fa fa-book" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"> Read the Docs</span>
      v: stable
      <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">阅读文档 v: 稳定</font></font></font><span class="fa fa-caret-down" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"></span>
    </span>
    <div class="rst-other-versions" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
      <dl data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
        <dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Versions<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">版本</font></font></font></dt>
        
          <dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a href="../../index.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">latest<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">最新</font></font></font></a></dd>
        
          <dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c"><a href="index.html" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">stable<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">稳定</font></font></font></a></dd>
        
      </dl>
      <dl data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
        <dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Downloads<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">下载</font></font></font></dt>
        
      </dl>
      <dl data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
        
        <dt data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">On Read the Docs<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 Read the Docs 上</font></font></font></dt>
          <dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
            <a href="https://readthedocs.org/projects/btrfs/?fromdocs=btrfs" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Project Home<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">项目主页</font></font></font></a>
          </dd>
          <dd data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c">
            <a href="https://readthedocs.org/builds/btrfs/?fromdocs=btrfs" data-immersive-translate-walked="465510d1-f511-44cd-b2c8-c7a64daa021c" data-immersive-translate-paragraph="1">Builds<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">构建</font></font></font></a>
          </dd>
      </dl>
    </div>
  </div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 


</body></html>