<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
</style></head><body data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="stylesheet" href="../assets/css/just-the-docs-default.css"><link rel="stylesheet" href="../assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"><style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(6)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(6) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(6) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(6) > ul.nav-list { display: block; }</style><script src="../assets/js/vendor/lunr.min.js"></script> <script src="../assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="../favicon.ico" type="image/x-icon"><title>Upgrading Configs | Ignition</title><meta name="generator" content="Jekyll v3.9.5"><meta property="og:title" content="Upgrading Configs"><meta property="og:locale" content="en_US"><meta name="description" content="Ignition documentation"><meta property="og:description" content="Ignition documentation"><link rel="canonical" href="index.html"><meta property="og:url" content="https://coreos.github.io/ignition/migrating-configs/"><meta property="og:site_name" content="Ignition"><meta property="og:type" content="website"><meta name="twitter:card" content="summary"><meta property="twitter:title" content="Upgrading Configs"> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Ignition documentation","headline":"Upgrading Configs","url":"https://coreos.github.io/ignition/migrating-configs/"}</script> <a class="skip-to-main" href="#main-content" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Skip to main content<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">跳转至主要内容</font></font></font></a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><title id="svg-external-link-title">(external link)</title><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-copy" viewBox="0 0 16 16"><title>Copy</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"></path><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"></path> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"><title>Copied</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"><path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"></path><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"></path> </svg> </symbol> </svg><div class="side-bar" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="site-header" role="banner" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"> <a href="../index.html" class="site-title lh-tight" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> Ignition <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">点火</font></font></font></a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button></div><nav aria-label="Main" id="site-nav" class="site-nav" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><ul class="nav-list" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><li class="nav-list-item" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="../index.html" class="nav-list-link" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Ignition<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">点火</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="../rationale/index.html" class="nav-list-link" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Rationale<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">理由</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="../getting-started/index.html" class="nav-list-link" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Getting Started<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">入门指南</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="../examples/index.html" class="nav-list-link" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Example Configs<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例配置</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><button class="nav-list-expander btn-reset" aria-label="toggle items in Configuration specifications category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="../specs/index.html" class="nav-list-link" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Configuration specifications<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置规格</font></font></font></a><ul class="nav-list" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><li class="nav-list-item" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="../configuration-v3_4/index.html" class="nav-list-link" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Config Spec v3.4.0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置规范 v3.4.0</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="../configuration-v3_3/index.html" class="nav-list-link" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Config Spec v3.3.0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置规范 v3.3.0</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="../configuration-v3_2/index.html" class="nav-list-link" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Config Spec v3.2.0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置规范 v3.2.0</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="../configuration-v3_1/index.html" class="nav-list-link" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Config Spec v3.1.0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置规范 v3.1.0</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="../configuration-v3_0/index.html" class="nav-list-link" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Config Spec v3.0.0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置规范 v3.0.0</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="../configuration-v3_5_experimental/index.html" class="nav-list-link" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Config Spec v3.5.0-experimental<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置规范 v3.5.0-实验性</font></font></font></a></li></ul></li><li class="nav-list-item" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="index.html" class="nav-list-link" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Upgrading Configs<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">升级配置</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="../operator-notes/index.html" class="nav-list-link" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Operator Notes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">操作员备注</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="../supported-platforms/index.html" class="nav-list-link" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Supported Platforms<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">支持的平台</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="../release-notes/index.html" class="nav-list-link" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Release Notes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">发布说明</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="../distributor-notes/index.html" class="nav-list-link" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Distributor Notes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">分销商说明</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="../development/index.html" class="nav-list-link" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Development<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">开发</font></font></font></a></li></ul></nav><footer class="site-footer" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> This site uses <a href="https://github.com/just-the-docs/just-the-docs" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">Just the Docs</a>, a documentation theme for Jekyll.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">本站使用 Just the Docs，这是一个适用于 Jekyll 的文档主题。</font></font></font></footer></div><div class="main" id="top" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div id="main-header" class="main-header" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="search" role="search" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="search-input-wrap" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Ignition" aria-label="Search Ignition" autocomplete="off" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"> <label for="search-input" class="search-label" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"></div></div><nav aria-label="Auxiliary" class="aux-nav" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><ul class="aux-nav-list" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><li class="aux-nav-list-item" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"> <a href="https://github.com/coreos/ignition" class="site-button" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> Ignition on GitHub <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 GitHub 上的 Ignition</font></font></font></a></li></ul></nav></div><div class="main-content-wrap" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div id="main-content" class="main-content" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><main data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><h1 class="no_toc" id="upgrading-configs" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#upgrading-configs" class="anchor-heading" aria-labelledby="upgrading-configs" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Upgrading Configs<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">升级配置</font></font></font></h1><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Occasionally, there are changes made to Ignition’s configuration that break backward compatibility. While this is not a concern for running machines (since Ignition only runs one time during first boot), it is a concern for those who maintain configuration files. This document serves to detail each of the breaking changes and tries to provide some reasoning for the change. This does not cover all of the changes to the spec - just those that need to be considered when migrating from one version to the next.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">偶尔，Ignition 的配置会发生变化，破坏向后兼容性。虽然这对于运行中的机器不是问题（因为 Ignition 只在第一次启动时运行一次），但对于那些维护配置文件的人来说是一个问题。本文档旨在详细说明每个破坏性变化，并尝试为更改提供一些理由。这并不涵盖规范的所有更改 - 只涵盖了在从一个版本迁移到下一个版本时需要考虑的更改。</font></font></font></p><ol id="markdown-toc" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#from-version-330-to-340" id="markdown-toc-from-version-330-to-340" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">From Version 3.3.0 to 3.4.0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从版本 3.3.0 到 3.4.0</font></font></font></a><ol data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#offline-tang-provisioning" id="markdown-toc-offline-tang-provisioning" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Offline Tang provisioning<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">离线 Tang 配置</font></font></font></a></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#luks-discard" id="markdown-toc-luks-discard" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">LUKS discard<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">LUKS 丢弃</font></font></font></a></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#luks-open-options" id="markdown-toc-luks-open-options" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">LUKS open options<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">LUKS 打开选项</font></font></font></a></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#special-mode-bits-supported" id="markdown-toc-special-mode-bits-supported" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Special mode bits supported<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">支持特殊模式位</font></font></font></a></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#aws-s3-access-point-arn-support" id="markdown-toc-aws-s3-access-point-arn-support" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">AWS S3 access point ARN support<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">AWS S3 访问点 ARN 支持</font></font></font></a></li></ol></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#from-version-320-to-330" id="markdown-toc-from-version-320-to-330" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">From Version 3.2.0 to 3.3.0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从版本 3.2.0 到 3.3.0</font></font></font></a><ol data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#kernel-arguments" id="markdown-toc-kernel-arguments" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Kernel arguments<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内核参数</font></font></font></a></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#new-filesystem-format-none" id="markdown-toc-new-filesystem-format-none" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">New filesystem format <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">none</code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">新文件系统格式 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">none</code> </font></font></font></a></li></ol></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#from-version-310-to-320" id="markdown-toc-from-version-310-to-320" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">From Version 3.1.0 to 3.2.0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从版本 3.1.0 到 3.2.0</font></font></font></a><ol data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#partition-resizing" id="markdown-toc-partition-resizing" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Partition resizing<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">分区调整大小</font></font></font></a></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#luks-encrypted-storage" id="markdown-toc-luks-encrypted-storage" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">LUKS encrypted storage<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">LUKS 加密存储</font></font></font></a></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#usergroup-deletion" id="markdown-toc-usergroup-deletion" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">User/group deletion<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用户/组删除</font></font></font></a></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#google-cloud-storage-url-support" id="markdown-toc-google-cloud-storage-url-support" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Google Cloud Storage URL support<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Google Cloud 存储 URL 支持</font></font></font></a></li></ol></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#from-version-300-to-310" id="markdown-toc-from-version-300-to-310" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">From Version 3.0.0 to 3.1.0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从版本 3.0.0 到 3.1.0</font></font></font></a><ol data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#sha-256-resource-verification" id="markdown-toc-sha-256-resource-verification" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">SHA-256 resource verification<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">SHA-256 资源验证</font></font></font></a></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#compression-support-for-certificate-authorities-and-merged-configs" id="markdown-toc-compression-support-for-certificate-authorities-and-merged-configs" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Compression support for certificate authorities and merged configs<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">证书颁发机构和合并配置的压缩支持</font></font></font></a></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#filesystem-mount-options" id="markdown-toc-filesystem-mount-options" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Filesystem mount options<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统挂载选项</font></font></font></a></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#custom-http-headers" id="markdown-toc-custom-http-headers" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Custom HTTP headers<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">自定义 HTTP 标头</font></font></font></a></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#http-proxies" id="markdown-toc-http-proxies" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">HTTP proxies<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">HTTP 代理</font></font></font></a></li></ol></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#from-version-230-to-300" id="markdown-toc-from-version-230-to-300" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">From Version 2.3.0 to 3.0.0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从版本 2.3.0 到 3.0.0</font></font></font></a><ol data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#all-deprecated-fields-are-dropped" id="markdown-toc-all-deprecated-fields-are-dropped" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">All deprecated fields are dropped<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">所有弃用的字段都被删除</font></font></font></a></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#filesystems-now-specify-path" id="markdown-toc-filesystems-now-specify-path" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Filesystems now specify path<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统现在指定路径</font></font></font></a></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#files-now-default-to-overwritefalse" id="markdown-toc-files-now-default-to-overwritefalse" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Files now default to overwrite=false<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件现在默认为 overwrite=false</font></font></font></a></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#file-permissions-now-default-to-0644" id="markdown-toc-file-permissions-now-default-to-0644" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">File permissions now default to 0644<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件权限现在默认为 0644</font></font></font></a></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#directories-now-create-leading-directories-with-mode-0755-and-uidgid-0" id="markdown-toc-directories-now-create-leading-directories-with-mode-0755-and-uidgid-0" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Directories now create leading directories with mode 0755 and uid/gid 0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">目录现在使用模式 0755 和 uid/gid 0 创建前导目录</font></font></font></a></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#duplicate-entries-are-no-longer-allowed" id="markdown-toc-duplicate-entries-are-no-longer-allowed" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Duplicate entries are no longer allowed<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不再允许重复条目</font></font></font></a></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#configuration-appending-is-replaced-by-configuration-merging" id="markdown-toc-configuration-appending-is-replaced-by-configuration-merging" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Configuration appending is replaced by configuration merging<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置追加已被配置合并取代</font></font></font></a></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#files-now-have-a-list-of-sources-to-append" id="markdown-toc-files-now-have-a-list-of-sources-to-append" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Files now have a list of sources to append<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件现在有一个要追加的源列表</font></font></font></a></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#networkd-section-is-removed" id="markdown-toc-networkd-section-is-removed" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Networkd section is removed<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">网络部分已移除</font></font></font></a></li></ol></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><a href="#from-2x0-to-230" id="markdown-toc-from-2x0-to-230" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">From 2.x.0 to 2.3.0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从 2.x.0 到 2.3.0</font></font></font></a></li></ol><h2 id="from-version-330-to-340" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#from-version-330-to-340" class="anchor-heading" aria-labelledby="from-version-330-to-340" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> From Version 3.3.0 to 3.4.0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从版本 3.3.0 到 3.4.0</font></font></font></h2><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">There are not any breaking changes between versions 3.3.0 and 3.4.0 of the configuration specification. Any valid 3.3.0 configuration can be updated to a 3.4.0 configuration by simply changing the version string in the config.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在配置规范的 3.3.0 版本和 3.4.0 版本之间没有任何破坏性变化。 任何有效的 3.3.0 配置都可以通过简单地更改配置中的版本字符串来更新为 3.4.0 配置。</font></font></font></p><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">The following is a list of notable new features, deprecations, and changes.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以下是一些值得注意的新功能、弃用功能和更改的列表。</font></font></font></p><h3 id="offline-tang-provisioning" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#offline-tang-provisioning" class="anchor-heading" aria-labelledby="offline-tang-provisioning" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Offline Tang provisioning<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">离线 Tang 配置</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">The <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">tang</code> section gained a new <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">advertisement</code> field. If specified, Ignition will use it to provision the Tang server binding rather than fetching the advertisement from the server at runtime. This allows the server to be unavailable at provisioning time. The advertisement can be obtained from the server with <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">curl http://tang.example.com/adv</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">" <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">tang</code> 部分获得了一个新的 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">advertisement</code> 字段。如果指定，Ignition 将使用它来配置 Tang 服务器绑定，而不是在运行时从服务器获取广告。这允许服务器在配置时不可用。可以使用 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">curl http://tang.example.com/adv</code> 从服务器获取广告。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="highlight" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.4.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"storage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"luks"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"luks-tang"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/dev/sdb"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clevis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"tang"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://tang.example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"thumbprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REPLACE-THIS-WITH-YOUR-TANG-THUMBPRINT"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"advertisement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">payload</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">...</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">protected</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">...</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">signature</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">...</span><span class="se">\"</span><span class="s2">}"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id="luks-discard" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#luks-discard" class="anchor-heading" aria-labelledby="luks-discard" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> LUKS discard<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">LUKS 丢弃</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">The <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">luks</code> section gained a new <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">discard</code> field. If specified and true, the LUKS volume will issue discard commands to the underlying block device when blocks are freed. This improves performance and device longevity on SSDs and space utilization on thinly provisioned SAN devices, but leaks information about which disk blocks contain data.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">luks</code> 部分获得了一个新的 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">discard</code> 字段。如果指定为 true，则 LUKS 卷在释放块时将向底层块设备发出丢弃命令。这可以提高 SSD 的性能和设备寿命，以及在薄利用 SAN 设备上的空间利用率，但会泄露包含数据的磁盘块的信息。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="highlight" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.4.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"storage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"luks"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"luks-tpm"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/dev/sdb"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"discard"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clevis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"tpm2"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id="luks-open-options" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#luks-open-options" class="anchor-heading" aria-labelledby="luks-open-options" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> LUKS open options<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">LUKS 打开选项</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">The <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">luks</code> section gained a new <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">openOptions</code> field. It is a list of options Ignition should pass to <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">cryptsetup luksOpen</code> when unlocking the volume. Ignition also passes <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">--persistent</code>, so any options that support persistence will be saved to the volume and automatically used for future unlocks. Any options that do not support persistence will only be applied to Ignition’s initial unlock of the volume.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">" <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">luks</code> "部分新增了一个" <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">openOptions</code> "字段。这是 Ignition 在解锁卷时应传递给" <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">cryptsetup luksOpen</code> "的选项列表。Ignition 还传递了" <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">--persistent</code> "，因此任何支持持久性的选项都将保存到卷中，并自动用于未来的解锁。不支持持久性的选项只会应用于 Ignition 对卷的初始解锁。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="highlight" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.4.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"storage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"luks"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"luks-tpm"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/dev/sdb"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"openOptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"--perf-no_read_workqueue"</span><span class="p">,</span><span class="w"> </span><span class="s2">"--perf-no_write_workqueue"</span><span class="p">],</span><span class="w">
      </span><span class="nl">"clevis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"tpm2"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id="special-mode-bits-supported" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#special-mode-bits-supported" class="anchor-heading" aria-labelledby="special-mode-bits-supported" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Special mode bits supported<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">支持特殊模式位</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">The <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">mode</code> field of the <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">files</code> and <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">directories</code> sections now respects the setuid, setgid, and sticky bits. Previous spec versions ignore these bits, but will generate a warning on Ignition ≥ 2.14.0.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">mode</code> 字段现在尊重 setuid、setgid 和粘滞位。之前的规范版本忽略这些位，但在 Ignition ≥ 2.14.0 上会生成警告。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="highlight" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.4.0"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"storage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/usr/local/bin/setuid"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://rootkit.example.com/setuid"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">2541</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"directories"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var/local/tmp"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1023</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id="aws-s3-access-point-arn-support" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#aws-s3-access-point-arn-support" class="anchor-heading" aria-labelledby="aws-s3-access-point-arn-support" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> AWS S3 access point ARN support<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">AWS S3 访问点 ARN 支持</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">The sections which allow fetching a remote URL now accept AWS S3 access point ARNs (<code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">arn:aws:s3:&lt;region&gt;:&lt;account&gt;:accesspoint/&lt;accesspoint&gt;/object/&lt;path&gt;</code>) in the <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">source</code> field.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">允许获取远程 URL 的部分现在在 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">source</code> 字段中接受 AWS S3 访问点 ARN（ <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">arn:aws:s3:&lt;region&gt;:&lt;account&gt;:accesspoint/&lt;accesspoint&gt;/object/&lt;path&gt;</code> ）。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="highlight" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.4.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"storage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/etc/example"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">420</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"arn:aws:s3:us-west-1:123456789012:accesspoint/test/object/some/path"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h2 id="from-version-320-to-330" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#from-version-320-to-330" class="anchor-heading" aria-labelledby="from-version-320-to-330" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> From Version 3.2.0 to 3.3.0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从版本 3.2.0 到 3.3.0</font></font></font></h2><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">There are not any breaking changes between versions 3.2.0 and 3.3.0 of the configuration specification. Any valid 3.2.0 configuration can be updated to a 3.3.0 configuration by simply changing the version string in the config.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在配置规范的 3.2.0 版本和 3.3.0 版本之间没有任何破坏性变化。 任何有效的 3.2.0 配置都可以通过简单地更改配置中的版本字符串来更新为 3.3.0 配置。</font></font></font></p><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">The following is a list of notable new features, deprecations, and changes.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以下是一些值得注意的新功能、弃用功能和更改的列表。</font></font></font></p><h3 id="kernel-arguments" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#kernel-arguments" class="anchor-heading" aria-labelledby="kernel-arguments" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Kernel arguments<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内核参数</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">The config gained a new top-level <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">kernelArguments</code> section. It allows specifying arguments that should be included or excluded from the kernel command line.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置增加了一个新的顶层 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">kernelArguments</code> 部分。它允许指定应包含或排除在内核命令行中的参数。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="highlight" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.3.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"kernelArguments"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"shouldExist"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"foobar"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"baz boo"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"shouldNotExist"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"raboof"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">The config above will ensure that the kernel argument <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">foobar</code> is present, and the kernel argument <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">raboof</code> is absent. It will also ensure that the kernel arguments <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">baz boo</code> are present exactly in that order.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">上面的配置将确保内核参数 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">foobar</code> 存在，并且内核参数 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">raboof</code> 不存在。它还将确保内核参数 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">baz boo</code> 以确切的顺序存在。</font></font></font></p><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">This feature requires integration with the distribution where Ignition is used. See the [distributor notes][distributor-notes] for details.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此功能需要与使用 Ignition 的分发进行集成。有关详细信息，请参阅[分发商说明][distributor-notes]。</font></font></font></p><h3 id="new-filesystem-format-none" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#new-filesystem-format-none" class="anchor-heading" aria-labelledby="new-filesystem-format-none" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> New filesystem format <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">none</code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">新文件系统格式 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">none</code> </font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">The <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">format</code> field of the <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">filesystems</code> section can now be set to <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">none</code>. This setting erases an existing filesystem signature without creating a new filesystem (if <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">wipeFilesystem</code> is true), or fails if there is any existing filesystem (if <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">wipeFilesystem</code> is false).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">filesystems</code> 部分的 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">format</code> 字段现在可以设置为 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">none</code> 。此设置会擦除现有文件系统签名，而不会创建新文件系统（如果 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">wipeFilesystem</code> 为真），或者如果存在任何现有文件系统（如果 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">wipeFilesystem</code> 为假）则失败。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="highlight" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.3.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"storage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"filesystems"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/dev/vdb1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"wipeFilesystem"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Refer to the <a href="../operator-notes/index.html#filesystem-reuse-semantics" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">filesystem reuse semantics</a> for more information.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">有关更多信息，请参考文件系统重用语义。</font></font></font></p><h2 id="from-version-310-to-320" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#from-version-310-to-320" class="anchor-heading" aria-labelledby="from-version-310-to-320" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> From Version 3.1.0 to 3.2.0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从版本 3.1.0 到 3.2.0</font></font></font></h2><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">There are not any breaking changes between versions 3.1.0 and 3.2.0 of the configuration specification. Any valid 3.1.0 configuration can be updated to a 3.2.0 configuration by simply changing the version string in the config.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在配置规范的 3.1.0 版本和 3.2.0 版本之间没有任何破坏性变化。可以通过简单地在配置中更改版本字符串，将任何有效的 3.1.0 配置更新为 3.2.0 配置。</font></font></font></p><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">The following is a list of notable new features, deprecations, and changes.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以下是一些值得注意的新功能、弃用功能和更改的列表。</font></font></font></p><h3 id="partition-resizing" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#partition-resizing" class="anchor-heading" aria-labelledby="partition-resizing" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Partition resizing<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">分区调整大小</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">The <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">partition</code> section gained a new <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">resize</code> field. When true, Ignition will resize an existing partition if it matches the config in all respects except the partition size.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">partition</code> 部分新增了一个新的 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">resize</code> 字段。当为 true 时，Ignition 将调整现有分区的大小，如果它在所有方面与配置匹配，除了分区大小。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="highlight" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.2.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"storage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"disks"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/dev/sda"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"partitions"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"root"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sizeMiB"</span><span class="p">:</span><span class="w"> </span><span class="mi">16384</span><span class="p">,</span><span class="w">
        </span><span class="nl">"resize"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}]</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id="luks-encrypted-storage" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#luks-encrypted-storage" class="anchor-heading" aria-labelledby="luks-encrypted-storage" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> LUKS encrypted storage<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">LUKS 加密存储</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Ignition now supports creating LUKS2 encrypted storage volumes. Volumes can be configured to allow unlocking with any combination of a TPM2 device via Clevis, network Tang servers via Clevis, and static key files. Alternatively, the Clevis configuration can be manually specified with a custom PIN and CFG. If a key file is not specified for a device, an ephemeral one will be created.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">点火现在支持创建 LUKS2 加密存储卷。可以配置卷以允许使用 TPM2 设备通过 Clevis、通过 Clevis 的网络 Tang 服务器以及静态密钥文件进行解锁。或者，可以使用自定义 PIN 和 CFG 手动指定 Clevis 配置。如果未为设备指定密钥文件，则将创建一个临时密钥文件。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="highlight" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.2.0"</span><span class="p">},</span><span class="w">
  </span><span class="nl">"storage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"luks"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"static-key-example"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/dev/sdb"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"keyFile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"data:,REPLACE-THIS-WITH-YOUR-KEY-MATERIAL"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tpm-example"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/dev/sdc"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clevis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"tpm2"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tang-example"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/dev/sdd"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clevis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"tang"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://tang.example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"thumbprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REPLACE-THIS-WITH-YOUR-TANG-THUMBPRINT"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"filesystems"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var/lib/static_key_example"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/dev/disk/by-id/dm-name-static-key-example"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ext4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STATIC-EXAMPLE"</span><span class="w">
    </span><span class="p">},{</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var/lib/tpm_example"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/dev/disk/by-id/dm-name-tpm-example"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ext4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TPM-EXAMPLE"</span><span class="w">
    </span><span class="p">},{</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var/lib/tang_example"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/dev/disk/by-id/dm-name-tang-example"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ext4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TANG-EXAMPLE"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"systemd"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"units"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"var-lib-static_key_example.mount"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Mount]</span><span class="se">\n</span><span class="s2">What=/dev/disk/by-label/STATIC-EXAMPLE</span><span class="se">\n</span><span class="s2">Where=/var/lib/static_key_example</span><span class="se">\n</span><span class="s2">Type=ext4</span><span class="se">\n\n</span><span class="s2">[Install]</span><span class="se">\n</span><span class="s2">WantedBy=local-fs.target"</span><span class="w">
    </span><span class="p">},{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"var-lib-tpm_example.mount"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Mount]</span><span class="se">\n</span><span class="s2">What=/dev/disk/by-label/TPM-EXAMPLE</span><span class="se">\n</span><span class="s2">Where=/var/lib/tpm_example</span><span class="se">\n</span><span class="s2">Type=ext4</span><span class="se">\n\n</span><span class="s2">[Install]</span><span class="se">\n</span><span class="s2">WantedBy=local-fs.target"</span><span class="w">
    </span><span class="p">},{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"var-lib-tang_example.mount"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Mount]</span><span class="se">\n</span><span class="s2">What=/dev/disk/by-label/TANG-EXAMPLE</span><span class="se">\n</span><span class="s2">Where=/var/lib/tang_example</span><span class="se">\n</span><span class="s2">Type=ext4</span><span class="se">\n\n</span><span class="s2">[Install]</span><span class="se">\n</span><span class="s2">WantedBy=remote-fs.target"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id="usergroup-deletion" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#usergroup-deletion" class="anchor-heading" aria-labelledby="usergroup-deletion" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> User/group deletion<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用户/组删除</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">The <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">passwd</code> <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">users</code> and <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">groups</code> sections have a new field <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">shouldExist</code>. If specified and false, Ignition will delete the specified user or group if it exists.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">passwd</code> <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">users</code> 和 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">groups</code> 部分新增了一个新字段 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">shouldExist</code> 。如果指定为 false，则 Ignition 将删除指定的用户或组（如果存在）。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="highlight" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.2.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"passwd"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"core"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"shouldExist"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"core"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"shouldExist"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id="google-cloud-storage-url-support" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#google-cloud-storage-url-support" class="anchor-heading" aria-labelledby="google-cloud-storage-url-support" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Google Cloud Storage URL support<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Google Cloud 存储 URL 支持</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">The sections which allow fetching a remote URL now accept Google Cloud Storage (<code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">gs://</code>) URLs in the <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">source</code> field.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">允许获取远程 URL 的部分现在在 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">source</code> 字段中接受 Google Cloud 存储（ <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">gs://</code> ）URL。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="highlight" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.2.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"storage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/etc/example"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">420</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gs://bucket/object"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h2 id="from-version-300-to-310" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#from-version-300-to-310" class="anchor-heading" aria-labelledby="from-version-300-to-310" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> From Version 3.0.0 to 3.1.0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从版本 3.0.0 到 3.1.0</font></font></font></h2><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">There are not any breaking changes between versions 3.0.0 and 3.1.0 of the configuration specification. Any valid 3.0.0 configuration can be updated to a 3.1.0 configuration by simply changing the version string in the config.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在配置规范的 3.0.0 版本和 3.1.0 版本之间没有任何破坏性变化。 任何有效的 3.0.0 配置都可以通过简单地更改配置中的版本字符串来更新为 3.1.0 配置。</font></font></font></p><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">The following is a list of notable new features, deprecations, and changes.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以下是一些值得注意的新功能、弃用功能和更改。</font></font></font></p><h3 id="sha-256-resource-verification" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#sha-256-resource-verification" class="anchor-heading" aria-labelledby="sha-256-resource-verification" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> SHA-256 resource verification<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">SHA-256 资源验证</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">All <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">verification.hash</code> fields now support the <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">sha256</code> hash type.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">所有 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">verification.hash</code> 字段现在支持 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">sha256</code> 哈希类型。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="highlight" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.1.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"storage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/etc/hosts"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">420</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/etc/hosts"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"verification"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id="compression-support-for-certificate-authorities-and-merged-configs" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#compression-support-for-certificate-authorities-and-merged-configs" class="anchor-heading" aria-labelledby="compression-support-for-certificate-authorities-and-merged-configs" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Compression support for certificate authorities and merged configs<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">证书颁发机构和合并配置的压缩支持</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">The config <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">merge</code> and <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">replace</code> sections and the <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">certificateAuthorities</code> section now support gzip-compressed resources via the <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">compression</code> field. <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">gzip</code> compression is supported for all URL schemes except <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">s3</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">merge</code> 和 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">replace</code> 部分以及 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">certificateAuthorities</code> 部分现在通过 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">compression</code> 字段支持 gzip 压缩资源。 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">gzip</code> 压缩支持所有 URL 方案，除了 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">s3</code> 。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="highlight" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.1.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"merge"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://secure.example.com/example.ign.gz"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"compression"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gzip"</span><span class="w">
      </span><span class="p">}]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"security"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"tls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"certificateAuthorities"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/ca.pem.gz"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"compression"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gzip"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id="filesystem-mount-options" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#filesystem-mount-options" class="anchor-heading" aria-labelledby="filesystem-mount-options" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Filesystem mount options<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统挂载选项</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">The <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">filesystems</code> section gained a new <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">mountOptions</code> field. It is a list of options Ignition should pass to <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">mount -o</code> when mounting the specified filesystem. This is useful for mounting btrfs subvolumes. This field only affects mounting performed by Ignition while it is running; it does not affect mounting of the filesystem by the provisioned system.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">filesystems</code> 部分新增了一个 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">mountOptions</code> 字段。这是 Ignition 在挂载指定文件系统时应传递给 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">mount -o</code> 的选项列表。这对于挂载 btrfs 子卷很有用。此字段仅影响 Ignition 运行时执行的挂载；它不影响系统配置的挂载。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="highlight" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.1.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"storage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"filesystems"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var/data"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/dev/vdb1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"wipeFilesystem"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btrfs"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mountOptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"subvolid=5"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id="custom-http-headers" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#custom-http-headers" class="anchor-heading" aria-labelledby="custom-http-headers" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Custom HTTP headers<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">自定义 HTTP 标头</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">The sections which allow fetching a remote URL — config <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">merge</code> and <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">replace</code>, <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">certificateAuthorities</code>, and file <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">contents</code> and <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">append</code> — gained a new field called <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">httpHeaders</code>. This field can be set to an array of HTTP headers which will be added to an HTTP or HTTPS request. Custom headers can override Ignition’s default headers, and will not be retained across HTTP redirects.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">允许获取远程 URL 的部分 — 配置 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">merge</code> 和 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">replace</code> ， <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">certificateAuthorities</code> ，以及文件 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">contents</code> 和 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">append</code> — 增加了一个名为 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">httpHeaders</code> 的新字段。此字段可以设置为一个 HTTP 标头数组，这些标头将被添加到 HTTP 或 HTTPS 请求中。自定义标头可以覆盖 Ignition 的默认标头，并且不会在 HTTP 重定向中保留。</font></font></font></p><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">During config merging, if a child config specifies a header <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">name</code> but not a corresponding <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">value</code>, any header with that <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">name</code> in the parent config will be removed.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在配置合并期间，如果子配置指定了一个标头 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">name</code> ，但没有相应的 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">value</code> ，则父配置中具有该 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">name</code> 的任何标头将被移除。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="highlight" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.1.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"storage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/etc/hosts"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">420</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/etc/hosts"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"httpHeaders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic YWxhZGRpbjpvcGVuc2VzYW1l"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User-Agent"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0 (compatible; MSIE 6.0; Windows NT 5.1)"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id="http-proxies" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#http-proxies" class="anchor-heading" aria-labelledby="http-proxies" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> HTTP proxies<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">HTTP 代理</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">The <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">ignition</code> section gained a new field called <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">proxy</code>. It allows configuring proxies for HTTP and HTTPS requests, as well as exempting certain hosts from proxying.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">" <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">ignition</code> " 部分增加了一个名为 " <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">proxy</code> " 的新字段。它允许配置 HTTP 和 HTTPS 请求的代理，以及豁免某些主机不经过代理。</font></font></font></p><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">The <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">httpsProxy</code> field specifies the proxy URL for HTTPS requests. The <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">httpProxy</code> field specifies the proxy URL for HTTP requests, and also for HTTPS requests if <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">httpsProxy</code> is not specified. The <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">noProxy</code> field lists specifiers of hosts that should not be proxied, in any of several formats:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">" <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">httpsProxy</code> " 字段指定 HTTPS 请求的代理 URL。 " <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">httpProxy</code> " 字段指定 HTTP 请求的代理 URL，并且如果未指定 " <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">httpsProxy</code> "，也用于 HTTPS 请求。 " <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">noProxy</code> " 字段列出了不应被代理的主机的指定符号，可以使用多种格式。</font></font></font></p><ul data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">An IP address prefix (<code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">1.2.3.4</code>)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">IP 地址前缀 ( <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">1.2.3.4</code> )</font></font></font></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">An IP address prefix in CIDR notation (<code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">1.2.3.4/8</code>)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">CIDR 表示法中的 IP 地址前缀 ( <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">1.2.3.4/8</code> )</font></font></font></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">A domain name, matching the domain and its subdomains (<code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">example.com</code>)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">与域名及其子域名匹配的域名 ( <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">example.com</code> )</font></font></font></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">A domain name, matching subdomains only (<code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">.example.com</code>)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一个域名，仅匹配子域 ( <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">.example.com</code> )</font></font></font></li><li data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">A wildcard matching all hosts (<code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">*</code>)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">通配符匹配所有主机 ( <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">*</code> )</font></font></font></li></ul><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">IP addresses and domain names can also include a port number (<code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">1.2.3.4:80</code>).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">IP 地址和域名也可以包括端口号 ( <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">1.2.3.4:80</code> )</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="highlight" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.1.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"proxy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"httpProxy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://proxy.example.net/"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"httpsProxy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://secure.proxy.example.net/"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"noProxy"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"www.example.net"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"storage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/etc/hosts"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">420</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/etc/hosts"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h2 id="from-version-230-to-300" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#from-version-230-to-300" class="anchor-heading" aria-labelledby="from-version-230-to-300" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> From Version 2.3.0 to 3.0.0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从版本 2.3.0 到 3.0.0</font></font></font></h2><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">The 3.0.0 version of the configuration is fully incompatible with prior versions (i.e. v1, v2.x.0) of the config. The previous versions had bugs that are not representable as a 3.0.0 config, so Ignition does not support older versions.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置的 3.0.0 版本与之前版本（即 v1、v2.x.0）完全不兼容。之前的版本存在无法表示为 3.0.0 配置的错误，因此 Ignition 不支持旧版本。</font></font></font></p><h3 id="all-deprecated-fields-are-dropped" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#all-deprecated-fields-are-dropped" class="anchor-heading" aria-labelledby="all-deprecated-fields-are-dropped" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> All deprecated fields are dropped<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">所有已弃用的字段都已删除</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">All deprecated fields have been dropped. Refer to this migration guide in the <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">spec2x</code> branch for how to migrate to their replacements first.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">所有已弃用的字段已被删除。首先参考 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">spec2x</code> 分支中的迁移指南，了解如何迁移到它们的替代项。</font></font></font></p><h3 id="filesystems-now-specify-path" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#filesystems-now-specify-path" class="anchor-heading" aria-labelledby="filesystems-now-specify-path" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Filesystems now specify path<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统现在指定路径</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Ignition now will mount filesystems at the mountpoint specified by <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">path</code> when running. Filesystems no longer have the <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">name</code> field and files, links, and directories no longer specify the filesystem by name. To create a file on a specified filesystem, ensure that the specified <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">path</code> for that filesystem is below the mountpoint for that filesystem. The following two configs are equivalent and both specify <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">/dev/disk/by-label/VAR</code> should be an XFS filesystem with an empty file named <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">example-file</code> at that filesystem’s root. Note the path change in the files section to account for the filesystem’s mountpoint.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当运行时，Ignition 现在将在指定的挂载点 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">path</code> 上挂载文件系统。文件系统不再具有 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">name</code> 字段，文件、链接和目录也不再通过名称指定文件系统。要在指定的文件系统上创建文件，请确保该文件系统的指定 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">path</code> 位于该文件系统的挂载点以下。以下两个配置是等效的，都指定 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">/dev/disk/by-label/VAR</code> 应为一个 XFS 文件系统，该文件系统的根目录中有一个名为 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">example-file</code> 的空文件。请注意文件部分中的路径更改，以考虑文件系统的挂载点。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="highlight" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.3.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"storage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"filesystems"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"var"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/dev/disk/by-label/VAR"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xfs"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wipeFilesystem"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"var"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"filesystem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"var"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/example-file"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">420</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><div class="language-json highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="highlight" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.0.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"storage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"filesystems"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/dev/disk/by-label/VAR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xfs"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"wipeFilesystem"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"var"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var/example-file"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">420</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id="files-now-default-to-overwritefalse" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#files-now-default-to-overwritefalse" class="anchor-heading" aria-labelledby="files-now-default-to-overwritefalse" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Files now default to overwrite=false<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件现在默认为 overwrite=false</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Files do not overwrite existing files by default. If no source is specified, Ignition will simply ensure a file exists at that path, creating an empty file if necessary.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">默认情况下，文件不会覆盖现有文件。如果未指定源，则 Ignition 将简单地确保该路径处存在文件，必要时创建一个空文件。</font></font></font></p><h3 id="file-permissions-now-default-to-0644" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#file-permissions-now-default-to-0644" class="anchor-heading" aria-labelledby="file-permissions-now-default-to-0644" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> File permissions now default to 0644<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件权限现在默认为 0644</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">If file permissions are unspecified, the permissions default to 0644. If Ignition does not need to create or overwrite the file (i.e. <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">overwrite</code> is false, a file exists at that path, and <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">source</code> is nil), it will not change the mode, owner or group.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果文件权限未指定，则权限默认为 0644。如果 Ignition 不需要创建或覆盖文件（即 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">overwrite</code> 为 false，该路径下存在文件，并且 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">source</code> 为 nil），它将不会更改模式、所有者或组。</font></font></font></p><h3 id="directories-now-create-leading-directories-with-mode-0755-and-uidgid-0" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#directories-now-create-leading-directories-with-mode-0755-and-uidgid-0" class="anchor-heading" aria-labelledby="directories-now-create-leading-directories-with-mode-0755-and-uidgid-0" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Directories now create leading directories with mode 0755 and uid/gid 0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">现在，目录会使用模式 0755 和 uid/gid 0 创建前导目录</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">When a file, directory, or link is specified but the parent directory does not exist, Ignition will create the directory(ies) leading up to it. Previously, when a directory was specified, any leading directories were created with the same mode/uid/gid as the specified directory. Now they are created with mode 0755, uid 0, and gid 0. This ensures the behavior is consistent with files and links.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当指定文件、目录或链接但父目录不存在时，Ignition 将创建通往该文件的目录。以前，当指定目录时，任何前导目录都会以与指定目录相同的模式/uid/gid 创建。现在它们将以模式 0755、uid 0 和 gid 0 创建。这确保了行为与文件和链接一致。</font></font></font></p><h3 id="duplicate-entries-are-no-longer-allowed" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#duplicate-entries-are-no-longer-allowed" class="anchor-heading" aria-labelledby="duplicate-entries-are-no-longer-allowed" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Duplicate entries are no longer allowed<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不再允许重复条目</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Configs cannot specify contradictory entries. This means a config cannot contain two file entries with the same <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">path</code>, or specify a path as both a link and a file.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置不能指定矛盾的条目。这意味着配置不能包含两个具有相同 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">path</code> 的文件条目，也不能将路径同时指定为链接和文件。</font></font></font></p><h3 id="configuration-appending-is-replaced-by-configuration-merging" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#configuration-appending-is-replaced-by-configuration-merging" class="anchor-heading" aria-labelledby="configuration-appending-is-replaced-by-configuration-merging" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuration appending is replaced by configuration merging<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置追加已被配置合并所取代</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"><code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">ignition.config.append</code> has been replaced by <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">ignition.config.merge</code>. Instead of appending entries from the child configs, Ignition merges them. Refer to the <a href="../operator-notes/index.html" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">operator notes</a> for more information.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">ignition.config.append</code> 已被 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">ignition.config.merge</code> 替换。Ignition 现在会合并子配置的条目，而不是追加它们。有关更多信息，请参考操作员说明。</font></font></font></p><h3 id="files-now-have-a-list-of-sources-to-append" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#files-now-have-a-list-of-sources-to-append" class="anchor-heading" aria-labelledby="files-now-have-a-list-of-sources-to-append" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Files now have a list of sources to append<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">现在文件有一个要追加的源列表</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Files now have a list of contents to append instead of multiple entries with <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">append=true</code>. The following two configs are equivalent. Since <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">overwrite</code> is false and <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">contents.source</code> is unspecified, Ignition will first ensure a file exists at the path (creating it if necessary) and then append both contents to it.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">现在文件有一个要追加的内容列表，而不是多个带有 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">append=true</code> 的条目。以下两个配置是等效的。由于 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">overwrite</code> 为 false， <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">contents.source</code> 未指定，Ignition 将首先确保路径处存在文件（必要时创建），然后将两个内容追加到其中。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="highlight" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.3.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"storage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"filesystem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"root"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/example-file"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">420</span><span class="p">,</span><span class="w">
      </span><span class="nl">"append"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"data:,hello"</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"filesystem"</span><span class="p">:</span><span class="w"> </span><span class="s2">"root"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/example-file"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">420</span><span class="p">,</span><span class="w">
      </span><span class="nl">"append"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"data:,world"</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><div class="language-json highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><div class="highlight" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.0.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"storage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/example-file"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">420</span><span class="p">,</span><span class="w">
      </span><span class="nl">"append"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w"> </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"data:,hello"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w"> </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"data:,world"</span><span class="w"> </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id="networkd-section-is-removed" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#networkd-section-is-removed" class="anchor-heading" aria-labelledby="networkd-section-is-removed" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Networkd section is removed<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">网络部分已移除</font></font></font></h3><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">The networkd section has been removed. Use the files section instead. Refer to the <a href="https://www.freedesktop.org/software/systemd/man/systemd-networkd.html##" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">networkd documentation</a> for more information.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">网络部分已被移除。请改用文件部分。有关更多信息，请参考网络文档。</font></font></font></p><h2 id="from-2x0-to-230" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1"> <a href="#from-2x0-to-230" class="anchor-heading" aria-labelledby="from-2x0-to-230" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> From 2.x.0 to 2.3.0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从 2.x.0 到 2.3.0</font></font></font></h2><p data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Refer to <a href="https://github.com/coreos/ignition/tree/spec2x/doc/migrating-configs.md" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">this doc in the <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">spec2x</code></a> branch of this repository. That doc also describes specification version 2.4.0, a parallel development which shares some enhancements with spec 3.1.0.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请参考此存储库的 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">spec2x</code> 分支中的文档。该文档还描述了规范版本 2.4.0，这是一个并行开发，与规范 3.1.0 共享一些增强功能。</font></font></font></p></main><hr><footer data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><p class="text-small text-grey-dk-100 mb-0" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Copyright © <a href="https://www.redhat.com" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">Red Hat, Inc.</a> and <a href="https://github.com/coreos" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360">others</a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">版权所有 © 红帽公司及其他。</font></font></font></p><div class="d-flex mt-2" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"><p class="text-small text-grey-dk-000 mb-0" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"> <a href="https://github.com/coreos/ignition/tree/main/docs/migrating-configs.md" id="edit-this-page" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360" data-immersive-translate-paragraph="1">Edit this page on GitHub<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 GitHub 上编辑此页面</font></font></font></a></p></div></footer></div></div><div class="search-overlay" data-immersive-translate-walked="77c47c82-9729-4921-bc12-f795fe294360"></div></div>
</body></html>