<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
</style></head><body data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="stylesheet" href="../assets/css/just-the-docs-default.css"><link rel="stylesheet" href="../assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"><style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(4)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(4) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(4) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(4) > ul.nav-list { display: block; }</style><script src="../assets/js/vendor/lunr.min.js"></script> <script src="../assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="../favicon.ico" type="image/x-icon"><title>Example Configs | Ignition</title><meta name="generator" content="Jekyll v3.9.5"><meta property="og:title" content="Example Configs"><meta property="og:locale" content="en_US"><meta name="description" content="Ignition documentation"><meta property="og:description" content="Ignition documentation"><link rel="canonical" href="index.html"><meta property="og:url" content="https://coreos.github.io/ignition/examples/"><meta property="og:site_name" content="Ignition"><meta property="og:type" content="website"><meta name="twitter:card" content="summary"><meta property="twitter:title" content="Example Configs"> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Ignition documentation","headline":"Example Configs","url":"https://coreos.github.io/ignition/examples/"}</script> <a class="skip-to-main" href="#main-content" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Skip to main content<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">跳转至主要内容</font></font></font></a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><title id="svg-external-link-title">(external link)</title><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-copy" viewBox="0 0 16 16"><title>Copy</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"></path><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"></path> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"><title>Copied</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"><path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"></path><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"></path> </svg> </symbol> </svg><div class="side-bar" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><div class="site-header" role="banner" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"> <a href="../index.html" class="site-title lh-tight" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1"> Ignition <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">点火</font></font></font></a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button></div><nav aria-label="Main" id="site-nav" class="site-nav" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><ul class="nav-list" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><li class="nav-list-item" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="../index.html" class="nav-list-link" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Ignition<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">点火</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="../rationale/index.html" class="nav-list-link" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Rationale<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">理由</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="../getting-started/index.html" class="nav-list-link" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Getting Started<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">入门指南</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="index.html" class="nav-list-link" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Example Configs<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例配置</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><button class="nav-list-expander btn-reset" aria-label="toggle items in Configuration specifications category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="../specs/index.html" class="nav-list-link" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Configuration specifications<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置规格</font></font></font></a><ul class="nav-list" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><li class="nav-list-item" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="../configuration-v3_4/index.html" class="nav-list-link" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Config Spec v3.4.0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置规范 v3.4.0</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="../configuration-v3_3/index.html" class="nav-list-link" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Config Spec v3.3.0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置规范 v3.3.0</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="../configuration-v3_2/index.html" class="nav-list-link" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Config Spec v3.2.0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置规范 v3.2.0</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="../configuration-v3_1/index.html" class="nav-list-link" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Config Spec v3.1.0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置规范 v3.1.0</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="../configuration-v3_0/index.html" class="nav-list-link" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Config Spec v3.0.0<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置规范 v3.0.0</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="../configuration-v3_5_experimental/index.html" class="nav-list-link" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Config Spec v3.5.0-experimental<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置规范 v3.5.0-实验性</font></font></font></a></li></ul></li><li class="nav-list-item" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="../migrating-configs/index.html" class="nav-list-link" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Upgrading Configs<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">升级配置</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="../operator-notes/index.html" class="nav-list-link" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Operator Notes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">操作员备注</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="../supported-platforms/index.html" class="nav-list-link" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Supported Platforms<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">支持的平台</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="../release-notes/index.html" class="nav-list-link" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Release Notes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">发布说明</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="../distributor-notes/index.html" class="nav-list-link" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Distributor Notes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">分销商说明</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="../development/index.html" class="nav-list-link" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Development<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">开发</font></font></font></a></li></ul></nav><footer class="site-footer" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1"> This site uses <a href="https://github.com/just-the-docs/just-the-docs" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">Just the Docs</a>, a documentation theme for Jekyll.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">本站使用 Just the Docs，这是一个适用于 Jekyll 的文档主题。</font></font></font></footer></div><div class="main" id="top" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><div id="main-header" class="main-header" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><div class="search" role="search" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><div class="search-input-wrap" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Ignition" aria-label="Search Ignition" autocomplete="off" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"> <label for="search-input" class="search-label" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"></div></div><nav aria-label="Auxiliary" class="aux-nav" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><ul class="aux-nav-list" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><li class="aux-nav-list-item" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"> <a href="https://github.com/coreos/ignition" class="site-button" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1"> Ignition on GitHub <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 GitHub 上的 Ignition</font></font></font></a></li></ul></nav></div><div class="main-content-wrap" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><div id="main-content" class="main-content" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><main data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><h1 class="no_toc" id="example-configs" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1"> <a href="#example-configs" class="anchor-heading" aria-labelledby="example-configs" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example Configs<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例配置</font></font></font></h1><p data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">These examples are written in version 3.0.0 of the config. Ignition v2.0.0+ understands all configs with version 3.0.0+.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这些示例是在配置的 3.0.0 版本中编写的。Ignition v2.0.0+ 可以理解所有版本为 3.0.0+ 的配置。</font></font></font></p><ol id="markdown-toc" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><li data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="#services" id="markdown-toc-services" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Services<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">服务</font></font></font></a><ol data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><li data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="#start-services" id="markdown-toc-start-services" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Start Services<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">启动服务</font></font></font></a></li><li data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="#modify-services" id="markdown-toc-modify-services" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Modify Services<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">修改服务</font></font></font></a></li></ol></li><li data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="#create-files-on-the-root-filesystem" id="markdown-toc-create-files-on-the-root-filesystem" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Create Files on the Root Filesystem<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在根文件系统上创建文件</font></font></font></a></li><li data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="#reformat-the-var-filesystem" id="markdown-toc-reformat-the-var-filesystem" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Reformat the /var Filesystem<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">重新格式化 /var 文件系统</font></font></font></a><ol data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><li data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="#btrfs" id="markdown-toc-btrfs" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Btrfs</a></li></ol></li><li data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="#create-a-raid-enabled-data-volume" id="markdown-toc-create-a-raid-enabled-data-volume" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Create a RAID-enabled Data Volume<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">创建支持 RAID 的数据卷</font></font></font></a></li><li data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="#replace-the-config-with-a-remote-config" id="markdown-toc-replace-the-config-with-a-remote-config" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Replace the Config with a Remote Config<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用远程配置替换配置</font></font></font></a></li><li data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="#set-the-hostname" id="markdown-toc-set-the-hostname" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Set the Hostname<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置主机名</font></font></font></a></li><li data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="#add-users" id="markdown-toc-add-users" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Add Users<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加用户</font></font></font></a></li><li data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="#create-a-luks-volume" id="markdown-toc-create-a-luks-volume" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Create a LUKS Volume<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">创建一个 LUKS 卷</font></font></font></a></li><li data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><a href="#set-kernel-arguments" id="markdown-toc-set-kernel-arguments" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Set Kernel Arguments<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置内核参数</font></font></font></a></li></ol><h2 id="services" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1"> <a href="#services" class="anchor-heading" aria-labelledby="services" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Services<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">服务</font></font></font></h2><h3 id="start-services" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1"> <a href="#start-services" class="anchor-heading" aria-labelledby="start-services" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Start Services<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">启动服务</font></font></font></h3><p data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">This config will write a single service unit (shown below) with the contents of an example service. This unit will be enabled as a dependency of multi-user.target and therefore start on boot.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这个配置将写入一个单个服务单元（如下所示），其中包含示例服务的内容。此单元将作为 multi-user.target 的依赖项启用，因此会在启动时启动。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><div class="highlight" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.0.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"systemd"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"units"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example.service"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Service]</span><span class="se">\n</span><span class="s2">Type=oneshot</span><span class="se">\n</span><span class="s2">ExecStart=/usr/bin/echo Hello World</span><span class="se">\n\n</span><span class="s2">[Install]</span><span class="se">\n</span><span class="s2">WantedBy=multi-user.target"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><p data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">example.service</code>:</p><div class="language-ini highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><div class="highlight" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><pre class="highlight"><code><span class="nn">[Service]</span>
<span class="py">Type</span><span class="p">=</span><span class="s">oneshot</span>
<span class="py">ExecStart</span><span class="p">=</span><span class="s">/usr/bin/echo Hello World</span>

<span class="nn">[Install]</span>
<span class="py">WantedBy</span><span class="p">=</span><span class="s">multi-user.target</span>
</code></pre></div></div><h3 id="modify-services" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1"> <a href="#modify-services" class="anchor-heading" aria-labelledby="modify-services" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Modify Services<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">修改服务</font></font></font></h3><p data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">This config will add a <a href="https://www.freedesktop.org/software/systemd/man/systemd.unit.html#Description#Description" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">systemd unit drop-in</a> to modify the existing service <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">systemd-journald</code> and sets its environment variable <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">SYSTEMD_LOG_LEVEL</code> to <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">debug</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此配置将添加一个 systemd 单元的附加配置，以修改现有服务 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">systemd-journald</code> 并将其环境变量 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">SYSTEMD_LOG_LEVEL</code> 设置为 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">debug</code> 。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><div class="highlight" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.0.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"systemd"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"units"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"systemd-journald.service"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dropins"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"debug.conf"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Service]</span><span class="se">\n</span><span class="s2">Environment=SYSTEMD_LOG_LEVEL=debug"</span><span class="w">
      </span><span class="p">}]</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><p data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">systemd-journald.service.d/debug.conf</code>:</p><div class="language-ini highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><div class="highlight" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><pre class="highlight"><code><span class="nn">[Service]</span>
<span class="py">Environment</span><span class="p">=</span><span class="s">SYSTEMD_LOG_LEVEL=debug</span>
</code></pre></div></div><h2 id="create-files-on-the-root-filesystem" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1"> <a href="#create-files-on-the-root-filesystem" class="anchor-heading" aria-labelledby="create-files-on-the-root-filesystem" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Create Files on the Root Filesystem<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在根文件系统上创建文件</font></font></font></h2><p data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">In many cases it is useful to write files to the root filesystem. This example writes a single file to <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">/etc/someconfig</code> on the root filesystem. The contents of the file (“example file”) are specified inline in the config using the <a href="http://tools.ietf.org/html/rfc2397" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">data URL scheme</a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在许多情况下，将文件写入根文件系统非常有用。此示例将一个文件写入根文件系统上的 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">/etc/someconfig</code> 。文件的内容（“示例文件”）在配置中使用数据 URL 方案内联指定。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><div class="highlight" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.0.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"storage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/etc/someconfig"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">420</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"data:,example%20file%0A"</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><p data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Paths are specified relative to the root filesystem of the system Ignition is configuring. Symlinks are followed as if Ignition was running from the final system. See the <a href="../operator-notes/index.html" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">operator notes</a> for more information about how Ignition follows symlinks.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">路径是相对于 Ignition 配置的系统的根文件系统指定的。符号链接将被跟随，就好像 Ignition 是从最终系统运行的一样。有关 Ignition 如何跟随符号链接的更多信息，请参阅操作员注意事项。</font></font></font></p><h2 id="reformat-the-var-filesystem" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1"> <a href="#reformat-the-var-filesystem" class="anchor-heading" aria-labelledby="reformat-the-var-filesystem" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Reformat the /var Filesystem<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">重新格式化 /var 文件系统</font></font></font></h2><h3 id="btrfs" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1"> <a href="#btrfs" class="anchor-heading" aria-labelledby="btrfs" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Btrfs</h3><p data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">This example Ignition configuration will locate the device with the “VAR” filesystem label and reformat it to btrfs, recreating the filesystem label. The <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">wipeFilesystem</code> option is set to ensure that Ignition ignores any existing filesystem. This configuration also writes a file to <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">/var/example-asset</code>, fetching its contents from <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">https://example.com/asset</code>. Ignition mounts filesystems it creates at the specified <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">path</code> before creating anything on the filesystems, ensuring <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">/var/example-asset</code> is created on the newly created filesystem. Note that Ignition will not automatically create mount units or <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">/etc/fstab</code> entries for the filesystems it creates. In this case we assume the OS already has a mount unit or <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">/etc/fstab</code> entry for the <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">/var</code> filesystem by label.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这个示例 Ignition 配置将定位带有“VAR”文件系统标签的设备，并将其重新格式化为 btrfs，重新创建文件系统标签。 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">wipeFilesystem</code> 选项被设置为确保 Ignition 忽略任何现有的文件系统。此配置还将一个文件写入到 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">/var/example-asset</code> ，从 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">https://example.com/asset</code> 获取其内容。Ignition 在创建任何文件系统上的内容之前，会将其创建的文件系统挂载到指定的 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">path</code> ，确保 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">/var/example-asset</code> 在新创建的文件系统上创建。请注意，Ignition 不会自动为其创建的文件系统创建挂载单元或 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">/etc/fstab</code> 条目。在这种情况下，我们假设操作系统已经通过标签为 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">/var</code> 的文件系统创建了挂载单元或 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">/etc/fstab</code> 条目。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><div class="highlight" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.0.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"storage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"filesystems"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/dev/disk/by-label/VAR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btrfs"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"wipeFilesystem"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VAR"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var/example-asset"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">420</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com/asset"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"verification"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha512-0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef"</span><span class="w"> </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><p data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">The SHA512 sum of the file can be determined using <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">sha512sum</code>. SHA256 sums are also supported, and can be calculated using <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">sha256sum</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件的 SHA512 校验和可以使用 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">sha512sum</code> 来确定。也支持 SHA256 校验和，可以使用 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">sha256sum</code> 来计算。</font></font></font></p><h2 id="create-a-raid-enabled-data-volume" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1"> <a href="#create-a-raid-enabled-data-volume" class="anchor-heading" aria-labelledby="create-a-raid-enabled-data-volume" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Create a RAID-enabled Data Volume<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">创建一个支持 RAID 的数据卷</font></font></font></h2><p data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">In many scenarios, it may be useful to have an external data volume. This config will set up a RAID0 ext4 volume, <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">data</code>, between two separate disks. It also writes a mount unit (shown below) which will automatically mount the volume to <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">/var/lib/data</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在许多场景中，拥有一个外部数据卷可能非常有用。此配置将在两个独立磁盘之间设置一个 RAID0 ext4 卷 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">data</code> 。它还会写入一个挂载单元（如下所示），该单元将自动将卷挂载到 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">/var/lib/data</code> 。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><div class="highlight" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.0.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"storage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"disks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/dev/sdb"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wipeTable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"partitions"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"raid.1.1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"sizeMiB"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w">
          </span><span class="nl">"startMiB"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/dev/sdc"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wipeTable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"partitions"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"raid.1.2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"sizeMiB"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w">
          </span><span class="nl">"startMiB"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"raid"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"devices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"/dev/disk/by-partlabel/raid.1.1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/dev/disk/by-partlabel/raid.1.2"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stripe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"data"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"filesystems"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/dev/md/data"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var/lib/data"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ext4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DATA"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"systemd"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"units"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"var-lib-data.mount"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Mount]</span><span class="se">\n</span><span class="s2">What=/dev/md/data</span><span class="se">\n</span><span class="s2">Where=/var/lib/data</span><span class="se">\n</span><span class="s2">Type=ext4</span><span class="se">\n\n</span><span class="s2">[Install]</span><span class="se">\n</span><span class="s2">WantedBy=local-fs.target"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><p data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">var-lib-data.mount</code>:</p><div class="language-ini highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><div class="highlight" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><pre class="highlight"><code><span class="nn">[Mount]</span>
<span class="py">What</span><span class="p">=</span><span class="s">/dev/md/data</span>
<span class="py">Where</span><span class="p">=</span><span class="s">/var/lib/data</span>
<span class="py">Type</span><span class="p">=</span><span class="s">ext4</span>

<span class="nn">[Install]</span>
<span class="py">WantedBy</span><span class="p">=</span><span class="s">local-fs.target</span>
</code></pre></div></div><h2 id="replace-the-config-with-a-remote-config" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1"> <a href="#replace-the-config-with-a-remote-config" class="anchor-heading" aria-labelledby="replace-the-config-with-a-remote-config" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Replace the Config with a Remote Config<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用远程配置替换配置</font></font></font></h2><p data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">In some cloud environments, there is a limit on the size of the config which may be provided to a machine. To work around this, Ignition allows configs to be replaced with the contents of an alternate, remote config. The following demonstrates this, using a SHA512 sum to verify the contents of the config.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在某些云环境中，对于可以提供给机器的配置存在限制。为了解决这个问题，Ignition 允许将配置替换为替代的远程配置内容。以下示例演示了如何使用 SHA512 校验和来验证配置的内容。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><div class="highlight" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"replace"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com/config.json"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"verification"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha512-0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef"</span><span class="w"> </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><p data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">The SHA512 sum of the config can be determined using <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">sha512sum</code>. SHA256 sums are also supported, and can be calculated using <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">sha256sum</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可以使用 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">sha512sum</code> 来确定配置的 SHA512 校验和。同时也支持 SHA256 校验和，可以使用 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">sha256sum</code> 来计算。</font></font></font></p><h2 id="set-the-hostname" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1"> <a href="#set-the-hostname" class="anchor-heading" aria-labelledby="set-the-hostname" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Set the Hostname<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置主机名</font></font></font></h2><p data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Setting the hostname of a system is as simple as writing <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">/etc/hostname</code>:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置系统的主机名就像写入 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">/etc/hostname</code> 一样简单：</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><div class="highlight" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.0.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"storage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/etc/hostname"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">420</span><span class="p">,</span><span class="w">
      </span><span class="nl">"overwrite"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"data:,core1"</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h2 id="add-users" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1"> <a href="#add-users" class="anchor-heading" aria-labelledby="add-users" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Add Users<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加用户</font></font></font></h2><p data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Users can be added to an OS with the <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">passwd.users</code> key which takes a list of objects that specify a given user. If you wanted to configure a user “systemUser” and a user “jenkins” you would do that as follows:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用户可以使用 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">passwd.users</code> 密钥将用户添加到操作系统，该密钥接受指定用户的对象列表。如果您想配置用户“systemUser”和用户“jenkins”，可以按照以下步骤操作：</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><div class="highlight" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.0.0"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"passwd"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"systemUser"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"passwordHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$superSecretPasswordHash."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sshAuthorizedKeys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"ssh-rsa veryLongRSAPublicKey"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jenkins"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><p data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">To add more users, configure them within the <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">users</code> list structure (<code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">[...]</code>).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要添加更多用户，请在 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">users</code> 列表结构（ <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">[...]</code> ）中配置它们。</font></font></font></p><h2 id="create-a-luks-volume" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1"> <a href="#create-a-luks-volume" class="anchor-heading" aria-labelledby="create-a-luks-volume" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Create a LUKS Volume<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">创建一个 LUKS 卷</font></font></font></h2><p data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">This config will set up a key-file based LUKS2 volume, <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">data</code>, put a filesystem on the volume, and write a mount unit (shown below) to automatically mount the volume to <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">/var/lib/data</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此配置将设置基于密钥文件的 LUKS2 卷， <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">data</code> ，在卷上放置文件系统，并编写一个挂载单元（如下所示）以自动将卷挂载到 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">/var/lib/data</code> 。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><div class="highlight" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.2.0"</span><span class="p">},</span><span class="w">
  </span><span class="nl">"storage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"luks"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"data"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/dev/sdb"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"filesystems"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var/lib/data"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/dev/disk/by-id/dm-name-data"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ext4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DATA"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"systemd"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"units"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"var-lib-data.mount"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Mount]</span><span class="se">\n</span><span class="s2">What=/dev/disk/by-label/DATA</span><span class="se">\n</span><span class="s2">Where=/var/lib/data</span><span class="se">\n</span><span class="s2">Type=ext4</span><span class="se">\n\n</span><span class="s2">[Install]</span><span class="se">\n</span><span class="s2">WantedBy=local-fs.target"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div><p data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">var-lib-data.mount</code>:</p><div class="language-ini highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><div class="highlight" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><pre class="highlight"><code><span class="nn">[Mount]</span>
<span class="py">What</span><span class="p">=</span><span class="s">/dev/disk/by-label/DATA</span>
<span class="py">Where</span><span class="p">=</span><span class="s">/var/lib/data</span>
<span class="py">Type</span><span class="p">=</span><span class="s">ext4</span>

<span class="nn">[Install]</span>
<span class="py">WantedBy</span><span class="p">=</span><span class="s">local-fs.target</span>
</code></pre></div></div><h2 id="set-kernel-arguments" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1"> <a href="#set-kernel-arguments" class="anchor-heading" aria-labelledby="set-kernel-arguments" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Set Kernel Arguments<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置内核参数</font></font></font></h2><p data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">This config will ensure that the <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">example</code> and <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">foo bar</code> kernel arguments are set and the <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">somekarg</code> kernel argument is not set.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此配置将确保设置 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">example</code> 和 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">foo bar</code> 内核参数，并且未设置 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">somekarg</code> 内核参数。</font></font></font></p><div class="language-json highlighter-rouge" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><div class="highlight" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ignition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.3.0"</span><span class="p">},</span><span class="w">
  </span><span class="nl">"kernelArguments"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"shouldExist"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"example"</span><span class="p">,</span><span class="w"> </span><span class="s2">"foo bar"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"shouldNotExist"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"somekarg"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div></main><hr><footer data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><p class="text-small text-grey-dk-100 mb-0" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Copyright © <a href="https://www.redhat.com" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">Red Hat, Inc.</a> and <a href="https://github.com/coreos" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc">others</a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">版权所有 © 红帽公司及其他。</font></font></font></p><div class="d-flex mt-2" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"><p class="text-small text-grey-dk-000 mb-0" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"> <a href="https://github.com/coreos/ignition/tree/main/docs/examples.md" id="edit-this-page" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc" data-immersive-translate-paragraph="1">Edit this page on GitHub<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 GitHub 上编辑此页面</font></font></font></a></p></div></footer></div></div><div class="search-overlay" data-immersive-translate-walked="96092008-ebf0-4fc6-9c48-28184ad98dcc"></div></div>
</body></html>