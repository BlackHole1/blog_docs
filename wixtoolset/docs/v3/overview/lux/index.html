<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">


<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Unit-testing custom actions with Lux | WiX Toolset</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.bugs.cc/wixtoolset/docs/v3/overview/lux/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="v3"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v3"><meta data-rh="true" name="docsearch:version" content="v3"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v3"><meta data-rh="true" property="og:title" content="Unit-testing custom actions with Lux | WiX Toolset"><meta data-rh="true" name="description" content="Custom actions are a frequent cause of installation failures so it&amp;apos;s important to test them thoroughly."><meta data-rh="true" property="og:description" content="Custom actions are a frequent cause of installation failures so it&amp;apos;s important to test them thoroughly."><link data-rh="true" rel="icon" href="/wixtoolset/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.bugs.cc/wixtoolset/docs/v3/overview/lux/"><link data-rh="true" rel="alternate" href="https://docs.bugs.cc/wixtoolset/docs/v3/overview/lux/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.bugs.cc/wixtoolset/docs/v3/overview/lux/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/wixtoolset/news/rss.xml" title="WiX Toolset RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/wixtoolset/news/atom.xml" title="WiX Toolset Atom Feed"><link rel="stylesheet" href="/wixtoolset/assets/css/styles.f38540a7.css">
<link rel="preload" href="/wixtoolset/assets/js/runtime~main.d4837c13.js" as="script">
<link rel="preload" href="/wixtoolset/assets/js/main.81f55813.js" as="script">


<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">
<div role="region" aria-label="Skip to main content" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Skip to main content<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">跳到主要内容</font></font></font></a></div><div class="announcementBar_mb4j" style="background-color:#C70039;color:#fff" role="banner" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="announcementBarPlaceholder_vyr4" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"></div><div class="content_knG7 announcementBarContent_xLdY" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><span style="font-size:16px" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Get the latest WiX news sent to you. <a style="text-decoration-line:none;border-bottom:1px solid" href="https://www.firegiant.com/subscribe/?utm_source=wixtoolset.org&amp;utm_medium=Display&amp;utm_campaign=subscribe&amp;utm_term=subscribe&amp;utm_content=announcement_bar" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">Subscribe to the FireGiant newsletter.</a><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">获取最新的 WiX 新闻。订阅 FireGiant 通讯。</font></font></font></span></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="navbar__inner" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="navbar__items" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/wixtoolset/" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="navbar__logo" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><img src="/wixtoolset/img/logo-white-hollow-xs.png" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA" width="53.6171875" height="22.5" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><img src="/wixtoolset/img/logo-black-hollow-xs.png" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU" width="53.6171875" height="22.5" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"></div><b class="navbar__title text--truncate" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">WiX Toolset<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">WiX 工具集</font></font></font></b></a></div><div class="navbar__items navbar__items--right" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1"><a class="navbar__item navbar__link" href="/wixtoolset/news/" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">News</a><a class="navbar__item navbar__link" href="/wixtoolset/docs/intro/" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">Docs</a><a href="https://github.com/wixtoolset/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.firegiant.com/services/?utm_source=wixtoolset.org&amp;utm_medium=Display&amp;utm_term=enterprise+support&amp;utm_content=header" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">Enterprise Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">新闻 文档 GitHub 企业支持</font></font></font><div class="toggle_vylO colorModeToggle_DEke" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="dsla-search-wrapper" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="dsla-search-field" data-tags="default,docs-default-v3" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="container padding-top--md padding-bottom--lg" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="row" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="col docItemCol_VOVn" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">This is documentation for <!-- -->WiX Toolset<!-- --> <b data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">v3</b>, which is no longer actively maintained.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这是 WiX Toolsetv3 的文档，不再积极维护。</font></font></font></div><div class="margin-top--md" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">For up-to-date documentation, see the <b data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><a href="/wixtoolset/docs/intro/" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">latest version</a></b> (<!-- -->v4.0<!-- -->).<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">有关最新文档，请参阅最新版本（v4.0）。</font></font></font></div></div><div class="docItemContainer_Djhp" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><article data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><span class="theme-doc-version-badge badge badge--secondary" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Version: v3<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">版本：v3</font></font></font></span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1"><h1 data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Unit-testing custom actions with Lux<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 Lux 进行单元测试自定义操作</font></font></font></h1><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Custom actions are a frequent cause of installation failures so it<!-- -->'<!-- -->s important to test them thoroughly.
Custom actions themselves usually aren<!-- -->'<!-- -->t tested. The traditional testing approach is to run functional
tests on an entire installer and to cover as many scenarios and platform combinations as possible.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">自定义操作是安装失败的常见原因，因此必须彻底测试它们。自定义操作本身通常不会被测试。传统的测试方法是对整个安装程序运行功能测试，并尽可能覆盖多种场景和平台组合。</font></font></font></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="custom-action-patterns" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Custom action patterns<a href="#custom-action-patterns" class="hash-link" aria-label="Direct link to Custom action patterns" title="Direct link to Custom action patterns" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">​</a><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">自定义操作模式</font></font></font></h2><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">WiX compiler extensions provide one way of improving custom action quality: Because compiler extensions
run at build time instead of install time, they can perform all sorts of data validation and conversion
on strongly-typed authoring before converting it to rows and columns of custom tables in the MSI
package.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">WiX 编译器扩展提供了一种提高自定义操作质量的方法：因为编译器扩展在构建时而不是在安装时运行，它们可以在将强类型的编写转换为 MSI 包中的自定义表的行和列之前，执行各种数据验证和转换。</font></font></font></p><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Immediate custom actions then read those custom tables, check current state (for example, component
action state, the state of the machine itself), and serialize the resulting data into a custom action
data property.
Immediate custom actions are the place to do the logic that needs live state and cannot be determined
at build time by a compiler extension.
Because immediate custom actions run in the security context of the installing user
and outside an installation transaction, they generally do not have permissions to modify the machine
and if they fail, the installation simply ends without the need to do any cleanup or rollback.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">即时自定义操作然后读取那些自定义表，检查当前状态（例如，组件操作状态，机器本身的状态），并将结果数据序列化到自定义操作数据属性中。即时自定义操作是执行需要实时状态且无法由编译器扩展在构建时确定的逻辑的地方。因为即时自定义操作在安装用户的安全上下文中运行，并且在安装事务之外运行，它们通常没有权限修改机器，如果它们失败，安装只会结束而不需要进行任何清理或回滚。</font></font></font></p><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Deferred custom actions read the custom action data property set by immediate custom actions to know
what to do. One way to improve custom action reliability is to make as few decisions as possible in
deferred custom actions; instead, implement all the logic in compiler extensions and immediate
custom actions and have deferred custom actions simply read the custom action data property in a
loop to modify the machine.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">延迟自定义操作读取即时自定义操作设置的自定义操作数据属性以知道该做什么。提高自定义操作可靠性的一种方法是在延迟自定义操作中尽可能少做决策；相反，在编译器扩展和即时自定义操作中实现所有逻辑，并让延迟自定义操作只是在循环中读取自定义操作数据属性以修改机器。</font></font></font></p><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">The WiX custom actions that modify the machine use this pattern. For example, XmlConfig authoring
is validated by the WixUtilExtension compiler extension and translated to rows and columns in the
XmlConfig table. The SchedXmlConfig immediate custom action reads the XmlConfig table, constructs
a custom action data property based on the XmlConfig table and machine<!-- -->'<!-- -->s state (including checking
component state and storing existing file data to support rollback), then schedules the
ExecXmlConfig deferred custom action to execute the XML changes and the ExecXmlConfigRollback
rollback custom action to roll back the changes.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">WiX 自定义操作使用这种模式来修改机器。例如，XmlConfig 编写由 WixUtilExtension 编译器扩展验证，并转换为 XmlConfig 表中的行和列。SchedXmlConfig 立即自定义操作读取 XmlConfig 表，根据 XmlConfig 表和机器的状态（包括检查组件状态和存储现有文件数据以支持回滚）构建自定义操作数据属性，然后调度 ExecXmlConfig 延迟自定义操作以执行 XML 更改，并调度 ExecXmlConfigRollback 回滚自定义操作以回滚更改。</font></font></font></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="testing-with-lux" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Testing with Lux<a href="#testing-with-lux" class="hash-link" aria-label="Direct link to Testing with Lux" title="Direct link to Testing with Lux" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">​</a><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 Lux 进行测试</font></font></font></h2><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Lux is a WiX extension (and associated tools) that let you write data-driven unit tests for your custom actions.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Lux 是一个 WiX 扩展（及相关工具），可以让你为自定义操作编写数据驱动的单元测试。</font></font></font></p><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">The executive summary: Lux runs your immediate custom actions then validates they set properties to the values you expect.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">执行摘要：Lux 运行您的即时自定义操作，然后验证它们是否将属性设置为您期望的值。</font></font></font></p><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">While it<!-- -->'<!-- -->s a simple approach, if your custom actions are factored as discussed above, validating
the properties set by immediate custom actions can validate all the interaction between your
custom actions, the MSI package, and MSI itself. <font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">虽然这是一种简单的方法，但如果您的自定义操作如上所述进行分解，通过验证即时自定义操作设置的属性可以验证您的自定义操作、MSI 包和 MSI 本身之间的所有交互。</font></font></font></p><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">If your custom actions aren<!-- -->'<!-- -->t factored as discussed--for example, if your deferred custom actions
expect only an installation directory and have logic to construct file paths from it--then it<!-- -->'<!-- -->s
likely that your immediate custom actions don<!-- -->'<!-- -->t have a lot of logic that<!-- -->'<!-- -->s useful to test.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果您的自定义操作没有如上所述进行分解——例如，如果您的延迟自定义操作仅期望一个安装目录并具有从中构建文件路径的逻辑——那么很可能您的即时自定义操作没有很多有用的测试逻辑。</font></font></font></p><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Lux does not help you test the custom action code that actually modifies the machine;
for that, continue to use other unit-test frameworks and automated tests. By working only with immediate custom
actions, Lux can let MSI run the custom actions as-is, eliminating the need to write custom
<a href="http://xunitpatterns.com/Test%20Double.md" target="_blank" rel="noopener noreferrer" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">test doubles</a> for the MSI API.
Lux runs from a per-user package so unless you run the tests from an elevated command prompt,
none of the custom actions get elevated privileges and therefore cannot modify the machine.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Lux 不会帮助你测试实际修改机器的自定义操作代码；为此，请继续使用其他单元测试框架和自动化测试。通过仅处理即时自定义操作，Lux 可以让 MSI 按原样运行自定义操作，消除了为 MSI API 编写自定义测试替身的需要。Lux 从每用户包运行，因此除非你从提升的命令提示符运行测试，否则没有任何自定义操作会获得提升的权限，因此无法修改机器。</font></font></font></p><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Here<!-- -->'<!-- -->s how Lux works:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Lux 的工作原理如下：</font></font></font></p><ol data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><li data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">You write your unit tests using XML in WiX source files.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">你使用 WiX 源文件中的 XML 编写单元测试。</font></font></font></li><li data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">The Lux extension converts the XML to a table in a test .msi package.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Lux 扩展将 XML 转换为测试.msi 包中的表格。</font></font></font></li><li data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">The Lux custom action runs after all other immediate custom actions and evaluates your unit tests.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Lux 自定义操作在所有其他即时自定义操作之后运行并评估您的单元测试。</font></font></font></li></ol><h1 data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Authoring unit tests<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">编写单元测试</font></font></font></h1><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Lux supports the following unit tests:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Lux 支持以下单元测试：</font></font></font></p><ul data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><li data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Property values<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">属性值</font></font></font></li><li data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Expressions<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">表达式</font></font></font></li><li data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Multi-value properties<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">多值属性</font></font></font></li><li data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Name/value-pair properties<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称/值对属性</font></font></font></li></ul><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Note that you should always author unit tests in fragments separate from your custom action authoring or any other product authoring.
If you mix unit tests with other authoring, WiX includes the unit-test data in your <!-- -->"<!-- -->real<!-- -->"<!-- --> installers.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，您应始终在与自定义操作编写或任何其他产品编写分开的片段中编写单元测试。如果将单元测试与其他编写混合，WiX 会将单元测试数据包含在您的“真实”安装程序中。</font></font></font></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="property-value-tests" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Property value tests<a href="#property-value-tests" class="hash-link" aria-label="Direct link to Property value tests" title="Direct link to Property value tests" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">​</a><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">属性值测试</font></font></font></h2><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">A simple test lets you specify a property to test, a value to test against, and the operator to compare with (which defaults to <!-- -->"<!-- -->equal<!-- -->"<!-- -->).<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一个简单的测试让您指定要测试的属性、要测试的值以及要比较的运算符（默认为“等于”）。</font></font></font></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;Fragment&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;lux:UnitTest CustomAction="TestCustomActionSimple" Property="SIMPLE" Value="[INSTALLFOLDER]" Operator="equal" /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/Fragment&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">When the test runs, Lux compares the value of the SIMPLE property against the (formatted) value <!-- -->[INSTALLFOLDER]<!-- -->.
If the two match (because the operator is <!-- -->"<!-- -->equal<!-- -->"<!-- -->), the test passes. Legal values of the Operator attribute are:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当测试运行时，Lux 将 SIMPLE 属性的值与（格式化的）值 [INSTALLFOLDER] 进行比较。如果两者匹配（因为运算符是“等于”），测试通过。运算符属性的合法值是：</font></font></font></p><dl data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><dt data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><dfn data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">equal<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">相等</font></font></font></dfn></dt><dd data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">(Default) Compares Property to Value and succeeds if they are equal.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">（默认）将属性与值进行比较，如果它们相等则成功。</font></font></font></dd><dt data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><dfn data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">notEqual<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不相等</font></font></font></dfn></dt><dd data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Compares Property to Value and succeeds if they are NOT equal.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将属性与值进行比较，如果它们不相等则成功。</font></font></font></dd><dt data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><dfn data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">caseInsensitiveEqual<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不区分大小写相等</font></font></font></dfn></dt><dd data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Compares Property to Value and succeeds if they are equal (ignoring case).<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将属性与值进行比较，如果它们相等（忽略大小写）则成功。</font></font></font></dd><dt data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><dfn data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">caseInsensitiveNotEqual<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不区分大小写不等于</font></font></font></dfn></dt><dd data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Compares Property to Value and succeeds if they are NOT equal (ignoring case).<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将属性与值进行比较，如果它们不相等（忽略大小写），则成功。</font></font></font></dd></dl>## Test conditions<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">## 测试条件</font></font></font><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Conditions let you validate code paths in your custom action. For example, if your custom action behaves differently on Windows XP than it does on Windows Vista and later,
you can create two tests with mutually exclusive conditions:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">条件允许您验证自定义操作中的代码路径。例如，如果您的自定义操作在 Windows XP 上的行为与在 Windows Vista 及更高版本上的行为不同，您可以创建两个具有互斥条件的测试：</font></font></font></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;Fragment&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;lux:UnitTest CustomAction="TestCustomActionSimple" Property="SIMPLE" Value="[INSTALLFOLDER]"&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;lux:Condition&gt;&lt;![CDATA[VersionNT &lt; 600]]&gt;&lt;/lux:Condition&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/lux:UnitTest&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;lux:UnitTest CustomAction="TestCustomActionSimple" Property="SIMPLE" Value="[INSTALLFOLDER]"&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;lux:Condition&gt;&lt;![CDATA[VersionNT &gt;= 600]]&gt;&lt;/lux:Condition&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/lux:UnitTest&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/Fragment&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">If a test has a condition, the test runs only if its condition is true.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果测试有条件，则仅在其条件为真时运行测试。</font></font></font></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="expression-tests" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Expression tests<a href="#expression-tests" class="hash-link" aria-label="Direct link to Expression tests" title="Direct link to Expression tests" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">​</a><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">表达式测试</font></font></font></h2><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Expression tests let you test any valid MSI expression. If the expression is true, the test passes. If the expression is false or invalid, the test fails.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">表达式测试允许您测试任何有效的 MSI 表达式。如果表达式为真，则测试通过。如果表达式为假或无效，则测试失败。</font></font></font></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;Fragment&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;lux:UnitTest CustomAction="TestCustomActionSimple"&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;lux:Expression&gt;NOT MsiSystemRebootPending AND SIMPLE&lt;/lux:Expression&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/lux:UnitTest&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/Fragment&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="multi-value-property-tests" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Multi-value property tests<a href="#multi-value-property-tests" class="hash-link" aria-label="Direct link to Multi-value property tests" title="Direct link to Multi-value property tests" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">​</a><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">多值属性测试</font></font></font></h2><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Because deferred custom actions can access only a single custom-action data property, custom actions that need more than one piece of data encode it in a single string.
One way is to have the immediate custom action separate multiple elements with a known separator character, then have the deferred custom action split the string at
those separate characters. Lux supports such separators using the ValueSeparator and Index attributes.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">由于延迟的自定义操作只能访问单个自定义操作数据属性，因此需要多个数据的自定义操作将其编码在一个字符串中。一个方法是让即时自定义操作用已知的分隔符字符分隔多个元素，然后让延迟自定义操作在这些分隔符字符处拆分字符串。Lux 支持使用 ValueSeparator 和 Index 属性的此类分隔符。</font></font></font></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;Fragment&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;lux:UnitTest CustomAction="TestCustomActionMultiValue" Property="MULTIVALUE" ValueSeparator="*"&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;lux:Condition&gt;VersionNT&lt;/lux:Condition&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;lux:UnitTest Index="0" Value="1" /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;lux:UnitTest Index="1" Value="[INSTALLFOLDER]"&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;lux:Condition&gt;NOT Installed&lt;/lux:Condition&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/lux:UnitTest&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;lux:UnitTest Index="2" Value="WIXEAST" /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/lux:UnitTest&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/Fragment&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">A condition under the parent UnitTest element applies to all individual unit tests. Override it with a Condition child element.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">父 UnitTest 元素下的条件适用于所有单个单元测试。可以使用 Condition 子元素覆盖它。</font></font></font></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="namevalue-pair-property-tests" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Name/value-pair property tests<a href="#namevalue-pair-property-tests" class="hash-link" aria-label="Direct link to Name/value-pair property tests" title="Direct link to Name/value-pair property tests" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">​</a><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称/值对属性测试</font></font></font></h2><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Another way of providing multiple values to a deferred custom action is to combine name/value pairs into a single string. Lux supports name/value-pair
properties using the NameValueSeparator and Index attributes.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">提供多个值给延迟自定义操作的另一种方法是将名称/值对组合成一个字符串。Lux 支持使用 NameValueSeparator 和 Index 属性的名称/值对属性。</font></font></font></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;Fragment&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;lux:UnitTest CustomAction="TestCustomActionNameValuePairs" Property="NAMEVALUEPAIRS" NameValueSeparator="#"&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;lux:UnitTest Index="InstallationRoot" Value="[INSTALLFOLDER]" /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;lux:UnitTest Index="Developers" Operator="caseInsensitiveNotEqual" Value="WIXEAST" /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/lux:UnitTest&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/Fragment&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1 data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Test mutations<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">测试变异</font></font></font></h1><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Immediate custom actions frequently need to create different custom action data depending
on global machine state. For example, if a component is already installed, a custom action
might have different behavior to upgrade the component, versus installing it for the first
time.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">即时自定义操作通常需要根据全局机器状态创建不同的自定义操作数据。例如，如果组件已经安装，自定义操作可能会有不同的行为来升级组件，而不是第一次安装它。</font></font></font></p><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Because Lux runs only immediate custom actions, it<!-- -->'<!-- -->s not possible to actually update the
global machine state. One approach is to create multiple custom action DLLs, mocking MSI
functions to return hard-coded values. Lux simplifies this model with <i data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">test mutations</i>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">因为 Lux 只运行即时自定义操作，所以实际上不可能更新全局机器状态。一种方法是创建多个自定义操作 DLL，模拟 MSI 函数以返回硬编码值。Lux 通过测试变异简化了这个模型。</font></font></font></p><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Test mutations let you author unit tests with different expected results. The mutation
id is passed as the value of the WIXLUX<!-- -->_<!-- -->RUNNING<!-- -->_<!-- -->MUTATION property. Your custom action,
typically in an <!-- -->'<!-- -->#ifdef DEBUG<!-- -->'<!-- --> block, retrieves the WIXLUX<!-- -->_<!-- -->RUNNING<!-- -->_<!-- -->MUTATION property
and mock different behavior based on the mutation. To author test mutations, use the
Mutation element with UnitTest elements as children. For example:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">测试变异让您编写具有不同预期结果的单元测试。变异 ID 作为 WIXLUX_RUNNING_MUTATION 属性的值传递。您的自定义操作，通常在“#ifdef DEBUG”块中，检索 WIXLUX_RUNNING_MUTATION 属性并根据变异模拟不同的行为。要编写测试变异，请使用 Mutation 元素，并将 UnitTest 元素作为子元素。例如：</font></font></font></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;lux:Mutation Id="SimulateDiskFull"&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;lux:UnitTest ... /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/lux:Mutation&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Nit runs the test package once for each mutation, setting the WIXLUX<!-- -->_<!-- -->RUNNING<!-- -->_<!-- -->MUTATION
property to one mutation id at a time. Tests that aren<!-- -->'<!-- -->t children of a mutation are run
every time.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Nit 为每个变异运行一次测试包，每次将 WIXLUX_RUNNING_MUTATION 属性设置为一个变异 ID。不是变异子元素的测试每次都会运行。</font></font></font></p><h1 data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Building test packages<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">构建测试包</font></font></font></h1><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Lux unit tests run from a minimal package that includes just your unit tests and the resources they need to run. Because Lux runs only immediate
custom actions, it doesn<!-- -->'<!-- -->t need a full, per-machine package that includes all the files and other resources to be installed. Such a minimal package
saves build time but does require that your WiX source code be well modularized with fragments.
For example, you should always author unit tests in fragments separate from any other authoring.
If you mix unit tests with other authoring, WiX includes the unit-test data in your <!-- -->"<!-- -->real<!-- -->"<!-- --> installers.
Likewise, any other WiX authoring included in unit-test fragments is included in test packages.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Lux 单元测试从一个包含仅单元测试及其运行所需资源的最小包运行。因为 Lux 只运行即时自定义操作，所以不需要包含所有文件和其他资源的完整、每台机器的包。这样的最小包节省了构建时间，但确实要求您的 WiX 源代码使用片段进行良好的模块化。例如，您应该始终在与任何其他编写分开的片段中编写单元测试。如果将单元测试与其他编写混合，WiX 会将单元测试数据包含在您的“真实”安装程序中。同样，任何包含在单元测试片段中的其他 WiX 编写也会包含在测试包中。</font></font></font></p><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Lux comes with a tool that simplifies the creation of test packages. Its name is lux.exe. To use lux.exe:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Lux 附带一个简化测试包创建的工具。它的名字是 lux.exe。要使用 lux.exe：</font></font></font></p><ol data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><li data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Compile the source file containing your unit tests.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">编译包含单元测试的源文件。</font></font></font></li><li data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Run lux.exe on the .wixobj file and specify a source file for the test package.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在.wixobj 文件上运行 lux.exe 并指定测试包的源文件。</font></font></font></li><li data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Compile the test package source.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">编译测试包源文件。</font></font></font></li><li data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Link the test package .wixobj with the unit tests .wixobj.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将测试包.wixobj 与单元测试.wixobj 链接。</font></font></font></li></ol><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">For example:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">例如：</font></font></font></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">candle -ext WixLuxExtension CustomActions.wxs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lux CustomActions.wixobj -out LuxSample1_test.wxs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">candle -ext WixLuxExtension LuxSample1_test.wxs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">light -ext WixLuxExtension LuxSample1_test.wixobj CustomActions.wixobj -out LuxSample1_test.msi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Lux also includes an MSBuild task and .targets file to let you build test packages from the same .wixproj you use to build your installers.
To build a test package, build the BuildTestPackage target using MSBuild 3.5:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Lux 还包括一个 MSBuild 任务和 .targets 文件，以便您可以从用于构建安装程序的同一个 .wixproj 构建测试包。要构建测试包，请使用 MSBuild 3.5 构建 BuildTestPackage 目标：</font></font></font></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">%WINDIR%\Microsoft.NET\Framework\v3.5\MSBuild.exe /t:BuildTestPackage</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1 data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Running unit tests<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">运行单元测试</font></font></font></h1><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">After building the test package, you can run it with logging enabled to capture test results:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">构建测试包后，您可以启用日志记录来运行它以捕获测试结果：</font></font></font></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">msiexec /l test1.log /i bin\Debug\LuxSample1_test.msi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Search the log for <b data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">WixRunImmediateUnitTests</b> to see test results and other logging from the Lux custom action.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在日志中搜索 WixRunImmediateUnitTests 以查看测试结果和 Lux 自定义操作的其他日志记录。</font></font></font></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nit-the-lux-test-runner" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Nit: The Lux test runner<a href="#nit-the-lux-test-runner" class="hash-link" aria-label="Direct link to Nit: The Lux test runner" title="Direct link to Nit: The Lux test runner" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">​</a><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">小问题：Lux 测试运行器</font></font></font></h2><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Lux also includes Nit, a console program that monitors the logging messages emitted by unit tests and reports success or failure. To use Nit on your test packages, just specify their filenames as arguments to nit.exe. For example:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Lux 还包括 Nit，这是一个控制台程序，用于监控单元测试发出的日志消息并报告成功或失败。要在测试包上使用 Nit，只需将它们的文件名作为参数传递给 nit.exe。例如：</font></font></font></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nit LuxSample1_test.msi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Lux also lets you run Nit on your test packages from the same .wixproj you use to build your installers.
To run a test package under Nit, build the Test target using MSBuild 3.5:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Lux 还允许您从用于构建安装程序的同一个 .wixproj 中运行测试包上的 Nit。要在 Nit 下运行测试包，请使用 MSBuild 3.5 构建 Test 目标：</font></font></font></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">%WINDIR%\Microsoft.NET\Framework\v3.5\MSBuild.exe /t:Test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">The test package will be built before the tests are run, if necessary. The output looks like the following, with failing tests highlighted in red as build errors:<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果需要，测试包将在运行测试之前构建。输出如下所示，失败的测试以红色突出显示为构建错误：</font></font></font></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Test:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Test luxB21F0D12E0701DBA30FFB92A532A5390 passed: Property 'SIMPLE' matched expected value '[INSTALLFOLDER]'.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Test TestConditionBeforeVista passed: Property 'SIMPLE' matched expected value '[INSTALLFOLDER]'.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Test TestConditionVistaOrLater passed: Property 'SIMPLE' matched expected value '[INSTALLFOLDER]'.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Test TestExpressionTruth passed: Expression 'NOT MsiSystemRebootPending AND SIMPLE' evaluated to true.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nit.exe : error NIT8103: Test luxA6D27EC5903612D7F3786FF71952E314 failed: Property 'MULTIVALUE' expected value '2' but actual value was '1'.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Test lux210257649C16AFA33793F1CDDF575505 passed: Property 'MULTIVALUE' matched expected value '[INSTALLFOLDER]'.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nit.exe : error NIT8103: Test lux402940A90D3ADAD181D599AB8C260FA0 failed: Property 'MULTIVALUE' expected value 'xxxWIXEAST' but actual value was 'WIXEAST'.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Test lux453EC8DB458A8F66F0D22970CFF2AE99 passed: Property 'NAMEVALUEPAIRS' matched expected value '[INSTALLFOLDER]'.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Test lux20CB4F88795F22D15631FD60BA03AFEB passed: Property 'NAMEVALUEPAIRS' matched expected value 'WIXWEST'.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nit.exe : error NIT8102: 2 tests failed. 7 tests passed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Done Building Project "C:\Delivery\Dev\wix35\src\lux\samples\LuxSample1\LuxSample1.wixproj" (Test target(s)) -- FAILED.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Build FAILED.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">"C:\Delivery\Dev\wix35\src\lux\samples\LuxSample1\LuxSample1.wixproj" (Test target) (1) -&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(Test target) -&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  nit.exe : error NIT8103: Test luxA6D27EC5903612D7F3786FF71952E314 failed: Property 'MULTIVALUE' expected value '2' but actual value was '1'.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  nit.exe : error NIT8103: Test lux402940A90D3ADAD181D599AB8C260FA0 failed: Property 'MULTIVALUE' expected value 'xxxWIXEAST' but actual value was 'WIXEAST'.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  nit.exe : error NIT8102: 2 tests failed. 7 tests passed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    0 Warning(s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3 Error(s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Time Elapsed 00:00:07.87</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1 data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">FAQ</h1><dl data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><dt data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Are these really unit tests? They look a lot like <a href="http://fit.c2.com/" target="_blank" rel="noopener noreferrer" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">Fit tests</a>.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这些真的是单元测试吗？它们看起来很像 Fit 测试。</font></font></font></dt><dd data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Fit tests are tabular and data-driven, so they have a lot in common with Lux's unit tests. But fit tests are focused on high-level outputs, whereas unit tests are low-level developer tests.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Fit 测试是表格化和数据驱动的，所以它们与 Lux 的单元测试有很多共同点。但 Fit 测试专注于高层次的输出，而单元测试是低层次的开发者测试。</font></font></font></dd><dt data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Using the custom action code as-is sounds good, but are there any limitations with that approach?<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">直接使用自定义操作代码听起来不错，但这种方法有任何限制吗？</font></font></font></dt><dd data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Yes. Because you are running the actual custom action, any code paths that rely on machine state reflect the state of the machine you run the tests on. For example, code that has different behavior on different versions of Windows runs only one way, just like it does in a normal installer. You can add debug code that looks for the presence of the WIXLUXTESTPACKAGE property; it's set to 1 in a test package.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">是的。因为您正在运行实际的自定义操作，任何依赖于机器状态的代码路径都会反映您运行测试的机器的状态。例如，在不同版本的 Windows 上具有不同行为的代码只会以一种方式运行，就像在正常安装程序中一样。您可以添加调试代码来查找 WIXLUXTESTPACKAGE 属性的存在；在测试包中它被设置为 1。</font></font></font></dd><dt data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">I have unit tests that fail because directory properties are being returned as empty strings. Why?<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">我有一些单元测试失败了，因为目录属性被返回为空字符串。为什么？</font></font></font></dt><dd data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">The most likely cause is that your directories are defined as children of your installer's Product element. Lux.exe builds its own Product element to product a minimal test package, so none of the resources defined in your Product are available to the unit tests. The simplest solution is to move those resources to their own Fragment.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">最可能的原因是您的目录被定义为安装程序的 Product 元素的子元素。Lux.exe 构建了自己的 Product 元素以生成一个最小的测试包，因此在您的 Product 中定义的任何资源都无法用于单元测试。最简单的解决方案是将这些资源移动到它们自己的 Fragment 中。</font></font></font></dd><dt data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Do I have to write my custom actions in C++?<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">我必须用 C++编写我的自定义操作吗？</font></font></font></dt><dd data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">No, Lux works with any immediate custom actions, regardless of the language they're written in, including MSI type 51 property-setting custom actions.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不，Lux 可以处理任何即时自定义操作，无论它们是用什么语言编写的，包括 MSI 类型 51 属性设置自定义操作。</font></font></font></dd></dl></div><footer class="theme-doc-footer docusaurus-mt-lg" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="theme-doc-footer-edit-meta-row row" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="col" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><a href="https://github.com/wixtoolset/web/tree/master/src/Docusaurus/versioned_docs/version-v3/overview/lux.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">编辑此页面</font></font></font></a></div><div class="col lastUpdated_vwxv" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"></nav></div></div><div class="col col--3" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><ul class="table-of-contents table-of-contents__left-border" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><li data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><a href="#custom-action-patterns" class="table-of-contents__link toc-highlight" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Custom action patterns<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">自定义操作模式</font></font></font></a></li><li data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><a href="#testing-with-lux" class="table-of-contents__link toc-highlight" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Testing with Lux<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 Lux 进行测试</font></font></font></a></li><li data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><a href="#property-value-tests" class="table-of-contents__link toc-highlight" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Property value tests<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">属性值测试</font></font></font></a></li><li data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><a href="#expression-tests" class="table-of-contents__link toc-highlight" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Expression tests<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">表达式测试</font></font></font></a></li><li data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><a href="#multi-value-property-tests" class="table-of-contents__link toc-highlight" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Multi-value property tests<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">多值属性测试</font></font></font></a></li><li data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><a href="#namevalue-pair-property-tests" class="table-of-contents__link toc-highlight" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Name/value-pair property tests<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称/值对属性测试</font></font></font></a></li><li data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><a href="#nit-the-lux-test-runner" class="table-of-contents__link toc-highlight" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Nit: The Lux test runner<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">氮：Lux 测试运行器</font></font></font></a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="container container-fluid" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="row footer__links" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="col footer__col" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="footer__title" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"></div><ul class="footer__items clean-list" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><li class="footer__item" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">
                  <p class="footer_label" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Support provided by<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">提供的支持</font></font></font></p>
                  <a href="https://www.firegiant.com/?utm_source=wixtoolset.org&amp;utm_medium=Display&amp;utm_content=footer" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">
                    <img src="/img/firegiant.png" alt="FireGiant" width="83.6875" height="22.5" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20">
                  </a>
                </li></ul></div><div class="col footer__col" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="footer__title" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Community<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">社区</font></font></font></div><ul class="footer__items clean-list" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><li class="footer__item" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><a href="https://stackoverflow.com/questions/tagged/wix" target="_blank" rel="noopener noreferrer" class="footer__link-item" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Stack Overflow<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Stack 溢出</font></font></font><svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><a href="https://www.youtube.com/wixtoolset" target="_blank" rel="noopener noreferrer" class="footer__link-item" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><a href="https://twitter.com/wixtoolset" target="_blank" rel="noopener noreferrer" class="footer__link-item" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Twitter<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">推特</font></font></font><svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="footer__title" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">More<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">更多</font></font></font></div><ul class="footer__items clean-list" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><li class="footer__item" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><a class="footer__link-item" href="/wixtoolset/news/" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">News<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">新闻</font></font></font></a></li><li class="footer__item" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><a href="https://www.firegiant.com/services/" target="_blank" rel="noopener noreferrer" class="footer__link-item" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Enterprise<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">企业</font></font></font><svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><a href="https://github.com/wixtoolset/web" target="_blank" rel="noopener noreferrer" class="footer__link-item" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20"><div class="footer__copyright" data-immersive-translate-walked="12adbdb3-a0a0-4ecd-93a0-6b468922cd20" data-immersive-translate-paragraph="1">Copyright © 2024 .NET Foundation and contributors.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">版权所有 © 2024 .NET 基金会及贡献者。</font></font></font></div></div></div></footer></div>
<script src="/wixtoolset/assets/js/runtime~main.d4837c13.js"></script>
<script src="/wixtoolset/assets/js/main.81f55813.js"></script>

</body></html>