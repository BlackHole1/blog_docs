"use strict";(self.webpackChunkwixweb=self.webpackChunkwixweb||[]).push([[10968],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var r=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=r.createContext({}),s=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=s(e.components);return r.createElement(l.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),p=s(n),f=i,m=p["".concat(l,".").concat(f)]||p[f]||d[f]||o;return n?r.createElement(m,a(a({ref:t},u),{},{components:n})):r.createElement(m,a({ref:t},u))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,a=new Array(o);a[0]=f;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c[p]="string"==typeof e?e:i,a[1]=c;for(var s=2;s<o;s++)a[s]=n[s];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},4369:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>m,frontMatter:()=>c,metadata:()=>s,toc:()=>p});n(67294);var r=n(3905);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const c={title:"WixDirectXExtension",layout:"documentation",after:"using_standard_customactions"},l="WixDirectXExtension",s={unversionedId:"customactions/wixdirectxextension",id:"version-v3/customactions/wixdirectxextension",title:"WixDirectXExtension",description:"The WixDirectXExtension includes a custom action named WixQueryDirectXCaps that sets properties you can use to check the DirectX capabilities of the installing user&apos;s video card.",source:"@site/versioned_docs/version-v3/customactions/wixdirectxextension.md",sourceDirName:"customactions",slug:"/customactions/wixdirectxextension",permalink:"/wixtoolset/docs/v3/customactions/wixdirectxextension",draft:!1,editUrl:"https://github.com/wixtoolset/web/tree/master/src/Docusaurus/versioned_docs/version-v3/customactions/wixdirectxextension.md",tags:[],version:"v3",frontMatter:{title:"WixDirectXExtension",layout:"documentation",after:"using_standard_customactions"}},u={},p=[],d={toc:p},f="wrapper";function m(e){var{components:t}=e,n=a(e,["components"]);return(0,r.kt)(f,o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},d,n),{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"wixdirectxextension"},"WixDirectXExtension"),(0,r.kt)("p",null,"The WixDirectXExtension includes a custom action named WixQueryDirectXCaps that sets properties you can use to check the DirectX capabilities of the installing user","'","s video card."),(0,r.kt)("table",{cellspacing:"0",cellpadding:"4",class:"style1"},(0,r.kt)("tr",null,(0,r.kt)("td",{valign:"top"},(0,r.kt)("p",null,(0,r.kt)("b",null,"WixDirectXExtension properties"))),(0,r.kt)("td",null)),(0,r.kt)("tr",null,(0,r.kt)("td",{valign:"top"},(0,r.kt)("p",null,"WIX_DIRECTX_PIXELSHADERVERSION")),(0,r.kt)("td",null,(0,r.kt)("p",null,"Pixel shader version capability, expressed as ",(0,r.kt)("i",null,"major"),"*100 + ",(0,r.kt)("i",null,"minor"),". For example, a shader model 3.0-compliant system would have a WIX_DIRECTX_PIXELSHADERVERSION value of 300."))),(0,r.kt)("tr",null,(0,r.kt)("td",{valign:"top"},(0,r.kt)("p",null,"WIX_DIRECTX_VERTEXSHADERVERSION")),(0,r.kt)("td",null,(0,r.kt)("p",null,"Vertex shader version capability, expressed as ",(0,r.kt)("i",null,"major"),"*100 + ",(0,r.kt)("i",null,"minor"),". For example, a shader model 3.0-compliant system would have a WIX_DIRECTX_VERTEXSHADERVERSION value of 300.")))),(0,r.kt)("p",null,"To use the WixDirectXExtension properties in an MSI, use the following steps:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Add PropertyRef elements for items listed above that you want to use in your MSI."),(0,r.kt)("li",{parentName:"ul"},"Add the -ext ","<","path to WixDirectXExtension.dll",">"," command line parameter when calling light.exe to include the WixDirectXExtension in the MSI linking process."),(0,r.kt)("li",{parentName:"ul"},"Or, using an MSBuild-based .wixproj project, add ","<","path to WixDirectXExtension.dll",">"," to the WixExtension item group. When using Votive in Visual Studio, this can be done by right-clicking on the References node in a WiX project, choosing Add Reference... then browsing for WixDirectXExtension.dll and adding a reference.")),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'    <PropertyRef Id="WIX_DIRECTX_PIXELSHADERVERSION" />\n    \n    <CustomAction Id="CA_CheckPixelShaderVersion" Error="[ProductName] requires pixel shader version 3.0 or greater." />\n    \n    <InstallExecuteSequence>\n    <Custom Action="CA_CheckPixelShaderVersion" After="WixQueryDirectXCaps">\n      <![CDATA[WIX_DIRECTX_PIXELSHADERVERSION < 300]]>\n    </Custom>\n    </InstallExecuteSequence>\n    \n    <InstallUISequence>\n    <Custom Action="CA_CheckPixelShaderVersion" After="WixQueryDirectXCaps">\n      <![CDATA[WIX_DIRECTX_PIXELSHADERVERSION < 300]]>\n    </Custom>\n    </InstallUISequence>\n')),(0,r.kt)("p",null,"Note that the WixDirectXExtension properties are set to the value ",(0,r.kt)("b",null,"NotSet")," by default. The WixDirectXExtension custom action is configured to not fail if it encounters any errors when trying to determine DirectX capabilities. In this type of scenario, the properties will be set to their ",(0,r.kt)("b",null,"NotSet")," default values. In your setup authoring, you can compare the property values to the ",(0,r.kt)("b",null,"NotSet")," value or to a specific value to determine whether WixDirectXExtension was able to query DirectX capabilities and if so, what they are."))}m.isMDXComponent=!0}}]);