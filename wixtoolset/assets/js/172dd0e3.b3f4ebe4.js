"use strict";(self.webpackChunkwixweb=self.webpackChunkwixweb||[]).push([[52050],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>x});var r=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,u=a(e,["components","mdxType","originalType","parentName"]),p=c(n),h=i,x=p["".concat(s,".").concat(h)]||p[h]||d[h]||o;return n?r.createElement(x,l(l({ref:t},u),{},{components:n})):r.createElement(x,l({ref:t},u))}));function x(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,l=new Array(o);l[0]=h;var a={};for(var s in t)hasOwnProperty.call(t,s)&&(a[s]=t[s]);a.originalType=e,a[p]="string"==typeof e?e:i,l[1]=a;for(var c=2;c<o;c++)l[c]=n[c];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},83929:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>x,frontMatter:()=>a,metadata:()=>c,toc:()=>p});n(67294);var r=n(3905);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const a={title:"Localized Extensions",layout:"documentation"},s="Localizing Extensions",c={unversionedId:"wixdev/extensions/localized_extensions",id:"version-v3/wixdev/extensions/localized_extensions",title:"Localized Extensions",description:"You can create your own localized extensions like WixUIExtension using lit.exe. Localized extensions can even contain multiple languages. Products using these extensions can pass the -cultures switch to light.exe along with the -ext switch to reference the extension.",source:"@site/versioned_docs/version-v3/wixdev/extensions/localized_extensions.md",sourceDirName:"wixdev/extensions",slug:"/wixdev/extensions/localized_extensions",permalink:"/wixtoolset/docs/v3/wixdev/extensions/localized_extensions",draft:!1,editUrl:"https://github.com/wixtoolset/web/tree/master/src/Docusaurus/versioned_docs/version-v3/wixdev/extensions/localized_extensions.md",tags:[],version:"v3",frontMatter:{title:"Localized Extensions",layout:"documentation"}},u={},p=[{value:"Step 1: Author a WiX Fragment",id:"step-1-author-a-wix-fragment",level:2},{value:"Step 2: Author the Localization File",id:"step-2-author-the-localization-file",level:2},{value:"Step 3: Build the library",id:"step-3-build-the-library",level:2},{value:"Using the Libraries",id:"using-the-libraries",level:2}],d={toc:p},h="wrapper";function x(e){var{components:t}=e,n=l(e,["components"]);return(0,r.kt)(h,o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},d,n),{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"localizing-extensions"},"Localizing Extensions"),(0,r.kt)("p",null,"You can create your own localized extensions like ",(0,r.kt)("a",{parentName:"p",href:"/wixtoolset/docs/v3/wixui/wixui_dialog_library"},"WixUIExtension")," using lit.exe. Localized extensions can even contain multiple languages. Products using these extensions can pass the -cultures switch to ",(0,r.kt)("a",{parentName:"p",href:"/wixtoolset/docs/v3/overview/light"},"light.exe")," along with the -ext switch to reference the extension."),(0,r.kt)("p",null,"WiX extensions contain libraries comprised of fragments. These fragments may contain properties, search properties, dialogs, and more. Just like when localizing products, replace any localizable fields with variables in the format !(loc.",(0,r.kt)("i",null,"variableName"),"). Product would be authored to reference elements in this library, and when compiled would themselves contain the localization variables.\nThe following shows an example on how to localize an extension"),(0,r.kt)("h2",{id:"step-1-author-a-wix-fragment"},"Step 1: Author a WiX Fragment"),(0,r.kt)("p",null,"Create a .wxs file named example.wxs and add the following content:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'<?xml version="1.0" encoding="utf-8"?>\n<Fragment>\n    <Error Id="50000">!(loc.errormsg)</Error>\n</Fragment>\n')),(0,r.kt)("p",null,"You have just authored a Fragment that will be compiled into a WiX library. It\ncontains an error message that references a localized string."),(0,r.kt)("h2",{id:"step-2-author-the-localization-file"},"Step 2: Author the Localization File"),(0,r.kt)("p",null,"The WiX localization files, or .wxl files, are a collection of strings. For\nlibraries, extension developers can choose whether or not those strings can be\noverwritten by .wxl files specified during linkage of the product. Create a .wxl\nfile named en-us.wxl and add the following content:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'<?xml version="1.0" encoding="utf-8"?>\n<WixLocalization Culture="en-us" xmlns="http://schemas.microsoft.com/wix/2006/localization">\n  <String Id="errormsg" Overridable="yes">General Failure</String>\n</WixLocalization>\n')),(0,r.kt)("p",null,"These ",(0,r.kt)("a",{parentName:"p",href:"/wixtoolset/docs/v3/xsd/wixloc/string"},"String")," elements are attributed as @Overridable=",'"',"yes",'"'," to allow for product developers to override these strings with their own values if they so choose. For example, a product developer may wish to use ",'"',"Previous",'"'," instead of ",'"',"Back",'"',", so they can define the same String/@Id in their own .wxl while still linking to the extension where that string is used. This offers product developers the benefits of the library while allowing for customizations. Extension developers can also choose to disallow overriding certain strings if it makes sense to do so."),(0,r.kt)("h2",{id:"step-3-build-the-library"},"Step 3: Build the library"),(0,r.kt)("p",null,"When both the fragment authoring and localization file are complete, they can be compiled and linked together using candle.exe and lit.exe."),(0,r.kt)("p",null,"First compile the .wxs source."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"candle.exe example.wxs -out example1.wixobj\n")),(0,r.kt)("p",null,"Now link together the .wixobj file and the .wxl file in the extension library."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"lit.exe example.wixobj -loc en-us.wxl -out example.wixlib\n")),(0,r.kt)("p",null,"You can add more than one .wxl file for each culture you want available. To be useful, the .wixlib should be embedded into a managed assembly and returned by WixExtension.GetLibrary()."),(0,r.kt)("h2",{id:"using-the-libraries"},"Using the Libraries"),(0,r.kt)("p",null,"Product developers reference elements within your .wixlib, as shown in the ",(0,r.kt)("a",{parentName:"p",href:"/wixtoolset/docs/v3/wixui/wixui_dialog_library"},"WixUIExtension")," example. When compiling and linking, the extension is specified on the command line using the -ext switch. If any additional localization variables are used in the product authoring or would override localization variables in the library, those .wxl files are passed to the -loc switch as shown in the example below."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"candle.exe example.wxs -ext WixUIExtension -out example.wixobj\nlight.exe example.wixobj -ext WixUIExtension -cultures:en-us -loc en-us.wxl -out example.msi\n")))}x.isMDXComponent=!0}}]);