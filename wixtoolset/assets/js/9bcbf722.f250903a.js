"use strict";(self.webpackChunkwixweb=self.webpackChunkwixweb||[]).push([[84580],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var r=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},p="mdxType",b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=c(n),d=i,f=p["".concat(s,".").concat(d)]||p[d]||b[d]||o;return n?r.createElement(f,a(a({ref:t},u),{},{components:n})):r.createElement(f,a({ref:t},u))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,a=new Array(o);a[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:i,a[1]=l;for(var c=2;c<o;c++)a[c]=n[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},53763:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>f,frontMatter:()=>l,metadata:()=>c,toc:()=>p});n(67294);var r=n(3905);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const l={},s="How To: Optimize build speed",c={unversionedId:"howtos/general/optimizing_builds",id:"version-v3/howtos/general/optimizing_builds",title:"How To: Optimize build speed",description:"WiX provides two ways of speeding up the creation of cabinets for compressing files:",source:"@site/versioned_docs/version-v3/howtos/general/optimizing_builds.md",sourceDirName:"howtos/general",slug:"/howtos/general/optimizing_builds",permalink:"/wixtoolset/docs/v3/howtos/general/optimizing_builds",draft:!1,editUrl:"https://github.com/wixtoolset/web/tree/master/src/Docusaurus/versioned_docs/version-v3/howtos/general/optimizing_builds.md",tags:[],version:"v3",frontMatter:{}},u={},p=[{value:"Multithreaded cabinet creation",id:"multithreaded-cabinet-creation",level:2},{value:"Cabinet reuse",id:"cabinet-reuse",level:2}],b={toc:p},d="wrapper";function f(e){var{components:t}=e,n=a(e,["components"]);return(0,r.kt)(d,o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},b,n),{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"how-to-optimize-build-speed"},"How To: Optimize build speed"),(0,r.kt)("p",null,"WiX provides two ways of speeding up the creation of cabinets for compressing files:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Multithreaded cabinet creation."),(0,r.kt)("li",{parentName:"ul"},"Cabinet reuse.")),(0,r.kt)("h2",{id:"multithreaded-cabinet-creation"},"Multithreaded cabinet creation"),(0,r.kt)("p",null,"Light uses multiple threads to build multiple cabinets in a single package. Unfortunately, because the CAB API itself isn't multithreaded, a single cabinet is built with one thread. Light uses multiple threads when there are multiple cabinets, so each cabinet is built on one thread."),(0,r.kt)("p",null,"By default, Light uses the number of processors/cores in the system as the number of threads to use when creating cabinets. You can override the default using Light's -ct switch or the CabinetCreationThreadCount property in a .wixproj project."),(0,r.kt)("p",null,"You can use multiple cabinets both externally and embedded in the .msi package (using the ",(0,r.kt)("a",{parentName:"p",href:"/wixtoolset/docs/v3/xsd/wix/media"},"Media/@EmbedCab")," attribute)."),(0,r.kt)("h2",{id:"cabinet-reuse"},"Cabinet reuse"),(0,r.kt)("p",null,"If you build setups with files that don't change often, you can generate cabinets for those files once, then reuse them without spending the CPU time to re-build and re-compress them."),(0,r.kt)("p",null,"There are two Light.exe switches involved in cabinet reuse:"),(0,r.kt)("dl",null,(0,r.kt)("dt",null,(0,r.kt)("dfn",null,"-cc (CabinetCachePath property in .wixproj projects)"),(0,r.kt)("dd",null,"The value is the path to use to both write new cabinets and, when -reusecab/ReuseCabinetCache is specified, look for cached cabinets.")),(0,r.kt)("dt",null,(0,r.kt)("dfn",null,"-reusecab (ReuseCabinetCache property in .wixproj projects)"),(0,r.kt)("dd",null,"When -cc/CabinetCachePath is also specified, WiX reuses cabinets that don't need to be rebuilt."))),(0,r.kt)("p",null,"WiX automatically validates that a cached cabinet is still valid by ensuring that:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The number of files in the cached cabinet matches the number of files being built."),(0,r.kt)("li",{parentName:"ul"},"The names of the files are all identical."),(0,r.kt)("li",{parentName:"ul"},"The order of files is identical."),(0,r.kt)("li",{parentName:"ul"},"The timestamps for all files all identical.")))}f.isMDXComponent=!0}}]);