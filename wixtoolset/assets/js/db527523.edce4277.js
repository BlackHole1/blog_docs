"use strict";(self.webpackChunkwixweb=self.webpackChunkwixweb||[]).push([[22777],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>h});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var m=r.createContext({}),s=function(e){var t=r.useContext(m),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},p=function(e){var t=s(e.components);return r.createElement(m.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,m=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),c=s(a),u=n,h=c["".concat(m,".").concat(u)]||c[u]||d[u]||i;return a?r.createElement(h,l(l({ref:t},p),{},{components:a})):r.createElement(h,l({ref:t},p))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,l=new Array(i);l[0]=u;var o={};for(var m in t)hasOwnProperty.call(t,m)&&(o[m]=t[m]);o.originalType=e,o[c]="string"==typeof e?e:n,l[1]=o;for(var s=2;s<i;s++)l[s]=a[s];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},9552:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>m,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});a(67294);var r=a(3905);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})),e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}const o={custom_edit_url:null,toc_max_heading_level:2},m="IPackStreamContext Interface",s={unversionedId:"api/wixtoolset.dtf.compression/ipackstreamcontext",id:"api/wixtoolset.dtf.compression/ipackstreamcontext",title:"IPackStreamContext Interface",description:"This interface provides the methods necessary for the \xabsee T:WixToolset.Dtf.Compression.CompressionEngine\xbb to open and close streams for archives and files. The implementor of this interface can use any kind of logic to determine what kind of streams to open and where.",source:"@site/docs/api/wixtoolset.dtf.compression/ipackstreamcontext.md",sourceDirName:"api/wixtoolset.dtf.compression",slug:"/api/wixtoolset.dtf.compression/ipackstreamcontext",permalink:"/wixtoolset/docs/api/wixtoolset.dtf.compression/ipackstreamcontext",draft:!1,editUrl:null,tags:[],version:"current",frontMatter:{custom_edit_url:null,toc_max_heading_level:2},sidebar:"docsSidebar",previous:{title:"DuplicateStream Class",permalink:"/wixtoolset/docs/api/wixtoolset.dtf.compression/duplicatestream"},next:{title:"IUnpackStreamContext Interface",permalink:"/wixtoolset/docs/api/wixtoolset.dtf.compression/iunpackstreamcontext"}},p={},c=[{value:"Methods",id:"methods",level:2},{value:"CloseArchiveWriteStream(archiveNumber, archiveName, stream) Method",id:"closearchivewritestream_archivenumber_archivename_stream",level:2},{value:"Declaration",id:"declaration",level:3},{value:"Parameters",id:"parameters",level:3},{value:"Remarks",id:"remarks",level:3},{value:"CloseFileReadStream(path, stream) Method",id:"closefilereadstream_path_stream",level:2},{value:"Declaration",id:"declaration-1",level:3},{value:"Parameters",id:"parameters-1",level:3},{value:"GetArchiveName(archiveNumber) Method",id:"getarchivename_archivenumber",level:2},{value:"Declaration",id:"declaration-2",level:3},{value:"Parameters",id:"parameters-2",level:3},{value:"Return value",id:"return-value",level:3},{value:"Remarks",id:"remarks-1",level:3},{value:"GetOption(optionName, parameters) Method",id:"getoption_optionname_parameters",level:2},{value:"Declaration",id:"declaration-3",level:3},{value:"Parameters",id:"parameters-3",level:3},{value:"Return value",id:"return-value-1",level:3},{value:"Remarks",id:"remarks-2",level:3},{value:"OpenArchiveWriteStream(archiveNumber, archiveName, truncate, compressionEngine) Method",id:"openarchivewritestream_archivenumber_archivename_truncate_compressionengine",level:2},{value:"Declaration",id:"declaration-4",level:3},{value:"Parameters",id:"parameters-4",level:3},{value:"Return value",id:"return-value-2",level:3},{value:"Remarks",id:"remarks-3",level:3}],d={toc:c},u="wrapper";function h(e){var{components:t}=e,a=l(e,["components"]);return(0,r.kt)(u,i(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),r.forEach((function(t){n(e,t,a[t])}))}return e}({},d,a),{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"ipackstreamcontext-interface"},"IPackStreamContext Interface"),(0,r.kt)("p",null,"This interface provides the methods necessary for the \xabsee T:WixToolset.Dtf.Compression.CompressionEngine\xbb to open and close streams for archives and files. The implementor of this interface can use any kind of logic to determine what kind of streams to open and where."),(0,r.kt)("h2",{id:"methods"},"Methods"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Method"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#closearchivewritestream_archivenumber_archivename_stream"},"CloseArchiveWriteStream(archiveNumber, archiveName, stream)")),(0,r.kt)("td",{parentName:"tr",align:null},"Closes a stream where an archive package was written.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#closefilereadstream_path_stream"},"CloseFileReadStream(path, stream)")),(0,r.kt)("td",{parentName:"tr",align:null},"Closes a stream that has been used to read a file.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#getarchivename_archivenumber"},"GetArchiveName(archiveNumber)")),(0,r.kt)("td",{parentName:"tr",align:null},"Gets the name of the archive with a specified number.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#getoption_optionname_parameters"},"GetOption(optionName, parameters)")),(0,r.kt)("td",{parentName:"tr",align:null},"Gets extended parameter information specific to the compression format being used.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#openarchivewritestream_archivenumber_archivename_truncate_compressionengine"},"OpenArchiveWriteStream(archiveNumber, archiveName, truncate, compressionEngine)")),(0,r.kt)("td",{parentName:"tr",align:null},"Opens a stream for writing an archive package.")))),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"WixToolset.Dtf.Compression.dll")," version ",(0,r.kt)("inlineCode",{parentName:"p"},"5.0.0+41e11442b2ca93e444b60213b5ae99dcbab787d8")),(0,r.kt)("h2",{id:"closearchivewritestream_archivenumber_archivename_stream"},"CloseArchiveWriteStream(archiveNumber, archiveName, stream) Method"),(0,r.kt)("p",null,"Closes a stream where an archive package was written."),(0,r.kt)("h3",{id:"declaration"},"Declaration"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs"},"public void CloseArchiveWriteStream(\n  int archiveNumber,\n  string archiveName,\n  System.IO.Stream stream\n)\n")),(0,r.kt)("h3",{id:"parameters"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"archiveNumber"),(0,r.kt)("td",{parentName:"tr",align:null},"int"),(0,r.kt)("td",{parentName:"tr",align:null},"The 0-based index of the archive within the chain.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"archiveName"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the archive that was previously returned by .")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"stream"),(0,r.kt)("td",{parentName:"tr",align:null},"System.IO.Stream"),(0,r.kt)("td",{parentName:"tr",align:null},"A stream that was previously returned by and is now ready to be closed.")))),(0,r.kt)("h3",{id:"remarks"},"Remarks"),(0,r.kt)("p",null,"If there is another archive package in the chain, then after this stream is closed a new stream will be opened."),(0,r.kt)("h2",{id:"closefilereadstream_path_stream"},"CloseFileReadStream(path, stream) Method"),(0,r.kt)("p",null,"Closes a stream that has been used to read a file."),(0,r.kt)("h3",{id:"declaration-1"},"Declaration"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs"},"public void CloseFileReadStream(\n  string path,\n  System.IO.Stream stream\n)\n")),(0,r.kt)("h3",{id:"parameters-1"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"path"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The path of the file within the archive; the same as the path provided when the stream was opened.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"stream"),(0,r.kt)("td",{parentName:"tr",align:null},"System.IO.Stream"),(0,r.kt)("td",{parentName:"tr",align:null},"A stream that was previously returned by and is now ready to be closed.")))),(0,r.kt)("h2",{id:"getarchivename_archivenumber"},"GetArchiveName(archiveNumber) Method"),(0,r.kt)("p",null,"Gets the name of the archive with a specified number."),(0,r.kt)("h3",{id:"declaration-2"},"Declaration"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs"},"public string GetArchiveName(\n  int archiveNumber\n)\n")),(0,r.kt)("h3",{id:"parameters-2"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"archiveNumber"),(0,r.kt)("td",{parentName:"tr",align:null},"int"),(0,r.kt)("td",{parentName:"tr",align:null},"The 0-based index of the archive within the chain.")))),(0,r.kt)("h3",{id:"return-value"},"Return value"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"string")," The name of the requested archive. May be an empty string for non-chained archives, but may never be null."),(0,r.kt)("h3",{id:"remarks-1"},"Remarks"),(0,r.kt)("p",null,"The archive name is the name stored within the archive, used for identification of the archive especially among archive chains. That name is often, but not necessarily the same as the filename of the archive package."),(0,r.kt)("h2",{id:"getoption_optionname_parameters"},"GetOption(optionName, parameters) Method"),(0,r.kt)("p",null,"Gets extended parameter information specific to the compression format being used."),(0,r.kt)("h3",{id:"declaration-3"},"Declaration"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs"},"public System.Object GetOption(\n  string optionName,\n  System.Object[] parameters\n)\n")),(0,r.kt)("h3",{id:"parameters-3"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"optionName"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Name of the option being requested.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"parameters"),(0,r.kt)("td",{parentName:"tr",align:null},"System.Object[]"),(0,r.kt)("td",{parentName:"tr",align:null},"Parameters for the option; for per-file options, the first parameter is typically the internal file path.")))),(0,r.kt)("h3",{id:"return-value-1"},"Return value"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"System.Object")," Option value, or null to use the default behavior."),(0,r.kt)("h3",{id:"remarks-2"},"Remarks"),(0,r.kt)("p",null,"This method provides a way to set uncommon options during packaging, or a way to handle aspects of compression formats not supported by the base library.For example, this may be used by the zip compression library to specify different compression methods/levels on a per-file basis.\nThe available option names, parameters, and expected return values should be documented by each compression library."),(0,r.kt)("h2",{id:"openarchivewritestream_archivenumber_archivename_truncate_compressionengine"},"OpenArchiveWriteStream(archiveNumber, archiveName, truncate, compressionEngine) Method"),(0,r.kt)("p",null,"Opens a stream for writing an archive package."),(0,r.kt)("h3",{id:"declaration-4"},"Declaration"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs"},"public System.IO.Stream OpenArchiveWriteStream(\n  int archiveNumber,\n  string archiveName,\n  bool truncate,\n  CompressionEngine compressionEngine\n)\n")),(0,r.kt)("h3",{id:"parameters-4"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"archiveNumber"),(0,r.kt)("td",{parentName:"tr",align:null},"int"),(0,r.kt)("td",{parentName:"tr",align:null},"The 0-based index of the archive within the chain.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"archiveName"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the archive that was returned by .")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"truncate"),(0,r.kt)("td",{parentName:"tr",align:null},"bool"),(0,r.kt)("td",{parentName:"tr",align:null},"True if the stream should be truncated when opened (if it already exists); false if an existing stream is being re-opened for writing additional data.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"compressionEngine"),(0,r.kt)("td",{parentName:"tr",align:null},"CompressionEngine"),(0,r.kt)("td",{parentName:"tr",align:null},"Instance of the compression engine doing the operations.")))),(0,r.kt)("h3",{id:"return-value-2"},"Return value"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"System.IO.Stream")," A writable Stream where the compressed archive bytes will be written, or null to cancel the archive creation."),(0,r.kt)("h3",{id:"remarks-3"},"Remarks"),(0,r.kt)("p",null,"If this method returns null, the archive engine will throw a FileNotFoundException."))}h.isMDXComponent=!0}}]);