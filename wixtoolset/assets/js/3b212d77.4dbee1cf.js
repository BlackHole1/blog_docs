"use strict";(self.webpackChunkwixweb=self.webpackChunkwixweb||[]).push([[69141],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>h});var n=r(67294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=n.createContext({}),p=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},c=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(r),m=o,h=u["".concat(s,".").concat(m)]||u[m]||d[m]||i;return r?n.createElement(h,a(a({ref:t},c),{},{components:r})):n.createElement(h,a({ref:t},c))}));function h(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=r.length,a=new Array(i);a[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:o,a[1]=l;for(var p=2;p<i;p++)a[p]=r[p];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},33909:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>l,metadata:()=>p,toc:()=>u});r(67294);var n=r(3905);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const l={wip:4149,type:"Feature",by:"Sean Hall (rseanhall at gmail.com)",title:"thmutil variable support",draft:!1},s=void 0,p={unversionedId:"development/wips/thmutil-variable-support",id:"development/wips/thmutil-variable-support",title:"thmutil variable support",description:"User stories",source:"@site/docs/development/wips/4149-thmutil-variable-support.md",sourceDirName:"development/wips",slug:"/development/wips/thmutil-variable-support",permalink:"/wixtoolset/docs/development/wips/thmutil-variable-support",draft:!1,editUrl:"https://github.com/wixtoolset/web/tree/master/src/Docusaurus/docs/development/wips/4149-thmutil-variable-support.md",tags:[],version:"current",sidebarPosition:4149,frontMatter:{wip:4149,type:"Feature",by:"Sean Hall (rseanhall at gmail.com)",title:"thmutil variable support",draft:!1},sidebar:"docsSidebar",previous:{title:"Allow BA to Run Elevated Async Process Through the Engine",permalink:"/wixtoolset/docs/development/wips/allow-ba-to-run-elevated-aync-process-through-engine"},next:{title:"Allow More Than One MBA Prerequisite",permalink:"/wixtoolset/docs/development/wips/allow-more-than-one-mbaprereq"}},c={},u=[{value:"User stories",id:"user-stories",level:2},{value:"Proposal - Part 1",id:"proposal---part-1",level:2},{value:"Proposal - Part 2",id:"proposal---part-2",level:2},{value:"Considerations",id:"considerations",level:2},{value:"See Also",id:"see-also",level:2}],d={toc:u},m="wrapper";function h(e){var{components:t}=e,r=a(e,["components"]);return(0,n.kt)(m,i(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}({},d,r),{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"user-stories"},"User stories"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"As a setup developer I can conditionally hide thmutil controls such that wixstdba messages can be customized based on context.")),(0,n.kt)("h2",{id:"proposal---part-1"},"Proposal - Part 1"),(0,n.kt)("p",null,"Add callbacks to thmutil so that it can do operations with variables and conditions.\nAdd EnableCondition and VisibleCondition attribute on all of the controls."),(0,n.kt)("p",null,'When showing a page, thmutil will disable a control if the EnableCondition evaluates to false.  Otherwise, it will enable the control.\nthmutil will hide a control if Visible="no", the control is disabled and HideWhenDisabled="yes", or if Visible="yes" and the VisibleCondition evaluates to false.  Otherwise, it will show the control.'),(0,n.kt)("p",null,"Remove the code in wixstdba that looked for the ","[ControlName]","State variable to do roughly the same thing."),(0,n.kt)("h2",{id:"proposal---part-2"},"Proposal - Part 2"),(0,n.kt)("p",null,"Overhaul the thmutil schema by moving all elements except ",(0,n.kt)("inlineCode",{parentName:"p"},"Font")," under the ",(0,n.kt)("inlineCode",{parentName:"p"},"Window")," element, since that's conceptually where they are.\nRemove all undocumented aliases in the parsing implementation.\nCreate a new ",(0,n.kt)("inlineCode",{parentName:"p"},"Text")," element that has a ",(0,n.kt)("inlineCode",{parentName:"p"},"Condition")," attribute.\nThis element goes inside of a control element, which makes customizing a control's text much easier\n(without this you would have to have multiple overlapping controls, where only one control is visible at a time).  Rename the old ",(0,n.kt)("inlineCode",{parentName:"p"},"Text")," control to ",(0,n.kt)("inlineCode",{parentName:"p"},"Label"),"."),(0,n.kt)("h2",{id:"considerations"},"Considerations"),(0,n.kt)("p",null,"There was a lot of discussion on wix-devs about this.\nIn WiX v3.10, WixStdBA was hard coded to hide and show specific controls on the Success and Failure page in order to display different messages based on which operation was being done."),(0,n.kt)("h2",{id:"see-also"},"See Also"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"http://windows-installer-xml-wix-toolset.687559.n2.nabble.com/WIXFEAT-4149-Add-UninstallSuccess-page-to-WixStdBA-td7594480.html"},"Discussion on wix-devs"),"\n",(0,n.kt)("a",{parentName:"p",href:"http://wixtoolset.org/issues/4149/"},"WIXFEAT:4149")))}h.isMDXComponent=!0}}]);