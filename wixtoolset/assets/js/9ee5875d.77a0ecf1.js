"use strict";(self.webpackChunkwixweb=self.webpackChunkwixweb||[]).push([[50220],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>m});var n=r(67294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var s=n.createContext({}),p=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},u=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},b=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=p(r),b=i,m=c["".concat(s,".").concat(b)]||c[b]||d[b]||a;return r?n.createElement(m,o(o({ref:t},u),{},{components:r})):n.createElement(m,o({ref:t},u))}));function m(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=r.length,o=new Array(a);o[0]=b;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:i,o[1]=l;for(var p=2;p<a;p++)o[p]=r[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}b.displayName="MDXCreateElement"},61736:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>m,frontMatter:()=>l,metadata:()=>p,toc:()=>c});r(67294);var n=r(3905);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function o(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}const l={wip:4863,type:"Feature",by:"Sean Hall (r sean hall at gmail.com)",title:"Literal Variables in ThmUtil",draft:!1},s=void 0,p={unversionedId:"development/wips/thmutil-literal-variables",id:"development/wips/thmutil-literal-variables",title:"Literal Variables in ThmUtil",description:"User stories",source:"@site/docs/development/wips/4863-thmutil-literal-variables.md",sourceDirName:"development/wips",slug:"/development/wips/thmutil-literal-variables",permalink:"/wixtoolset/docs/development/wips/thmutil-literal-variables",draft:!1,editUrl:"https://github.com/wixtoolset/web/tree/master/src/Docusaurus/docs/development/wips/4863-thmutil-literal-variables.md",tags:[],version:"current",sidebarPosition:4863,frontMatter:{wip:4863,type:"Feature",by:"Sean Hall (r sean hall at gmail.com)",title:"Literal Variables in ThmUtil",draft:!1},sidebar:"docsSidebar",previous:{title:"Don't Write ARP Entry",permalink:"/wixtoolset/docs/development/wips/dont-write-arp-entry"},next:{title:"SWID Tag 2015 Support",permalink:"/wixtoolset/docs/development/wips/swidtag-2015-support"}},u={},c=[{value:"User stories",id:"user-stories",level:2},{value:"Required Functionality",id:"required-functionality",level:2},{value:"Proposal",id:"proposal",level:2},{value:"Considerations",id:"considerations",level:2},{value:"See Also",id:"see-also",level:2}],d={toc:c},b="wrapper";function m(e){var{components:t}=e,r=o(e,["components"]);return(0,n.kt)(b,a(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){i(e,t,r[t])}))}return e}({},d,r),{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"user-stories"},"User stories"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"As a Setup developer I can create a thmutil based UI that prompts for paths such that the value can be passed on to packages unaltered.")),(0,n.kt)("h2",{id:"required-functionality"},"Required Functionality"),(0,n.kt)("p",null,"In v3, wixstdba's \"variable magic\" for editbox controls was simple but couldn't properly handle escape characters. It populated the editbox with the raw value, and then saved the editbox's contents directly into the variable. In v4, thmutil needs to save the editbox's contents as a literal string. When populating the editbox, it needs to format the variable's value first."),(0,n.kt)("h2",{id:"proposal"},"Proposal"),(0,n.kt)("p",null,"Add a new Variable/@Type called ",(0,n.kt)("inlineCode",{parentName:"p"},"formatted"),".\nThis corresponds to a new variant type: ",(0,n.kt)("inlineCode",{parentName:"p"},"BURN_VARIANT_TYPE_FORMATTED_STRING"),".\nThese work the same as the ",(0,n.kt)("inlineCode",{parentName:"p"},"string")," type in v3."),(0,n.kt)("p",null,"The existing ",(0,n.kt)("inlineCode",{parentName:"p"},"string"),' type in v4 will represent a literal string value.\nThis replaces the internal Burn functionality in v3 where a Variable could be set as "literal".\nAs in that case, when Burn tries to format a variable with a literal string value then the result is the string value unformatted.'),(0,n.kt)("p",null,"Change the ",(0,n.kt)("inlineCode",{parentName:"p"},"SetVariableString")," method on Burn's interface to"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"STDMETHOD(SetVariableString)(\n    __in_z LPCWSTR wzVariable,\n    __in_z_opt LPCWSTR wzValue,\n    __in BOOL fFormatted\n    )\n")),(0,n.kt)("h2",{id:"considerations"},"Considerations"),(0,n.kt)("p",null,"Some Setup developers may want to allow the users to specify Variables while using wixstdba.\nThis was possible in v3 but isn't under this proposal.\nHowever, this should be possible with BAFunctions now that they are much more powerful in v4."),(0,n.kt)("p",null,"There were some questions about whether there is a need to be able to tell what the underlying type of a variable is.\nThere doesn't seem to be a valid scenario for this, the BA should already know the types of its variables."),(0,n.kt)("h2",{id:"see-also"},"See Also"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/wixtoolset/issues/issues/4863"},"WIXFEAT:4863")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/wixtoolset/issues/issues/4763"},"WIXFEAT:4763"))))}m.isMDXComponent=!0}}]);