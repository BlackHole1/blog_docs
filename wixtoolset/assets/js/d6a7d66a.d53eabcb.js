"use strict";(self.webpackChunkwixweb=self.webpackChunkwixweb||[]).push([[72268],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=p(n),m=r,h=u["".concat(s,".").concat(m)]||u[m]||d[m]||o;return n?a.createElement(h,l(l({ref:t},c),{},{components:n})):a.createElement(h,l({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[u]="string"==typeof e?e:r,l[1]=i;for(var p=2;p<o;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},73142:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>p,toc:()=>u});n(67294);var a=n(3905);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const i={sidebar_position:10},s="Burn bundles",p={unversionedId:"tools/burn/index",id:"tools/burn/index",title:"Burn bundles",description:"The Bundle element is the top-level element for a Burn bundle. It contains child elements that let you specify the chain of packages to be installed, the bootstrapper application that provides the user experience, custom and built-in variables, system searches, and all the other goodies that let you define a bundle.",source:"@site/docs/tools/burn/index.md",sourceDirName:"tools/burn",slug:"/tools/burn/",permalink:"/wixtoolset/docs/tools/burn/",draft:!1,editUrl:"https://github.com/wixtoolset/web/tree/master/src/Docusaurus/docs/tools/burn/index.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10},sidebar:"docsSidebar",previous:{title:"WiX tools and concepts",permalink:"/wixtoolset/docs/tools/"},next:{title:"Burn built-in variables",permalink:"/wixtoolset/docs/tools/burn/builtin-variables"}},c={},u=[{value:"Bundle package chains",id:"chain",level:2},{value:"Bootstrapper applications",id:"burnux",level:2}],d={toc:u},m="wrapper";function h(e){var{components:t}=e,n=l(e,["components"]);return(0,a.kt)(m,o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}({},d,n),{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"burn-bundles"},"Burn bundles"),(0,a.kt)("p",null,"The ",(0,a.kt)("a",{parentName:"p",href:"/wixtoolset/docs/schema/wxs/bundle"},(0,a.kt)("inlineCode",{parentName:"a"},"Bundle")," element")," is the top-level element for a Burn bundle. It contains child elements that let you specify the ",(0,a.kt)("a",{parentName:"p",href:"#chain"},"chain of packages to be installed"),", the ",(0,a.kt)("a",{parentName:"p",href:"#burnux"},"bootstrapper application")," that provides the user experience, custom and ",(0,a.kt)("a",{parentName:"p",href:"/wixtoolset/docs/tools/burn/builtin-variables"},"built-in variables"),", ",(0,a.kt)("a",{parentName:"p",href:"/wixtoolset/docs/tools/burn/searches"},"system searches"),", and all the other goodies that let you define a bundle."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<Wix\n    xmlns="http://wixtoolset.org/schemas/v4/wxs"\n    xmlns:bal="http://wixtoolset.org/schemas/v4/wxs/bal">\n\n    <Bundle\n        Name="$(BundleName)"\n        Version="$(Version)"\n        UpgradeCode="$(UpgradeCode)"\n        Compressed="no"\n        SplashScreenSourceFile="splashscreen.bmp">\n\n        <BootstrapperApplication>\n            <bal:WixStandardBootstrapperApplication\n                LicenseUrl=""\n                Theme="hyperlinkLicense" />\n        </BootstrapperApplication>\n\n        <Chain>\n            <PackageGroupRef Id="BundlePackages" />\n        </Chain>\n    </Bundle>\n</Wix>\n')),(0,a.kt)("h2",{id:"chain"},"Bundle package chains"),(0,a.kt)("p",null,"Burn supports the following kinds of packages:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Package"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"/wixtoolset/docs/schema/wxs/bundlepackage"},"BundlePackage")),(0,a.kt)("td",{parentName:"tr",align:null},"Another Burn bundle .exe")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"/wixtoolset/docs/schema/wxs/exepackage"},"ExePackage")),(0,a.kt)("td",{parentName:"tr",align:null},"An executable .exe installer")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"/wixtoolset/docs/schema/wxs/msipackage"},"MsiPackage")),(0,a.kt)("td",{parentName:"tr",align:null},"A Windows Installer .msi package")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"/wixtoolset/docs/schema/wxs/msppackage"},"MspPackage")),(0,a.kt)("td",{parentName:"tr",align:null},"A Windows Installer .msp patch package")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"/wixtoolset/docs/schema/wxs/msupackage"},"MsuPackage")),(0,a.kt)("td",{parentName:"tr",align:null},"A Windows update .msu package")))),(0,a.kt)("p",null,"To include a package in a bundle's chain of packages:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Include the package element as a child of the ",(0,a.kt)("a",{parentName:"li",href:"/wixtoolset/docs/schema/wxs/chain"},(0,a.kt)("inlineCode",{parentName:"a"},"Chain")," element"),"."),(0,a.kt)("li",{parentName:"ul"},"Include the package element as a child of a ",(0,a.kt)("a",{parentName:"li",href:"/wixtoolset/docs/schema/wxs/packagegroup"},(0,a.kt)("inlineCode",{parentName:"a"},"PackageGroup")," element")," and include that package group in the chain with a ",(0,a.kt)("a",{parentName:"li",href:"/wixtoolset/docs/schema/wxs/packagegroupref"},(0,a.kt)("inlineCode",{parentName:"a"},"PackageGroupRef")," element")," as a child of the ",(0,a.kt)("a",{parentName:"li",href:"/wixtoolset/docs/schema/wxs/chain"},(0,a.kt)("inlineCode",{parentName:"a"},"Chain")," element"),".")),(0,a.kt)("p",null,"For example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<Wix xmlns="http://wixtoolset.org/schemas/v4/wxs">\n    <Bundle>\n        <Chain>\n            <PackageGroupRef Id="BundlePackages" />\n\n            <ExePackage\n                DetectCondition="DetectedSomethingVariable"\n                UninstallArguments="-uninstall"\n                SourceFile="EndOfChain.exe" />\n        </Chain>\n    </Bundle>\n\n    <Fragment>\n        <PackageGroup Id="BundlePackages">\n            <PackageGroupRef Id="PrereqPackages" />\n            <MsiPackage Id="PackageA" SourceFile="PackageA.msi" />\n            <MsiPackage Id="PackageB" SourceFile="PackageB.msi" />\n        </PackageGroup>\n    </Fragment>\n\n    <Fragment>\n        <PackageGroup Id="PrereqPackages">\n            <MsiPackage SourceFile="Prereqs.msi">\n                <MsiProperty Name="PREREQSONLY" Value="1" />\n            </MsiPackage>\n        </PackageGroup>\n    </Fragment>\n</Wix>\n')),(0,a.kt)("h2",{id:"burnux"},"Bootstrapper applications"),(0,a.kt)("p",null,"Each bundle needs a bootstrapper application to implement the user experience, including business logic and UI. WiX includes two BAs:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/wixtoolset/docs/tools/burn/wixstdba"},(0,a.kt)("inlineCode",{parentName:"a"},"WixStandardBootstrapperApplication")," (WixStdBA)")," provides a simple, wizard-like UI and typical BA behavior. The UI is provided by XML files that let you change the appearance without needing to change the code of the BA. WixStdBA is written in C++, so has no additional system requirements."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"WixInternalUIBootstrapperApplication")," (WixIUIBA) provides typical BA behavior and defers the UI to the UI defined in the primary MSI package. WixIUIBA is useful when you have a complex UI defined in an MSI package and don't want to convert it to a BA. WixIUIBA is written in C++, so has no additional system requirements.")),(0,a.kt)("p",null,"Here's how you might add a built-in BA to a bundle:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<Wix\n    xmlns="http://wixtoolset.org/schemas/v4/wxs"\n    xmlns:bal="http://wixtoolset.org/schemas/v4/wxs/bal">\n\n    <Bundle>\n\n        <BootstrapperApplication>\n            <bal:WixStandardBootstrapperApplication\n                LicenseUrl=""\n                Theme="hyperlinkLicense" />\n        </BootstrapperApplication>\n')),(0,a.kt)("p",null,"You can also create an entirely custom bootstrapper application, either in native code or managed code. Here's how you might reference a custom native-code BA in WiX v4:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<Wix xmlns="http://wixtoolset.org/schemas/v4/wxs">\n    <Bundle>\n        <BootstrapperApplication>\n            <BootstrapperApplicationDll\n                Id="MyStandardBootstrapperApplication"\n                SourceFile="bobstdba.dll" />\n            <PayloadGroupRef\n                Id="MyStandardBootstrapperApplicationPayloads" />\n        </BootstrapperApplication>\n')),(0,a.kt)("p",null,"...or in WiX v5:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<Wix xmlns="http://wixtoolset.org/schemas/v4/wxs">\n    <Bundle>\n        <BootstrapperApplication SourceFile="bobstdba.exe">\n            <PayloadGroupRef\n                Id="MyStandardBootstrapperApplicationPayloads" />\n        </BootstrapperApplication>\n')),(0,a.kt)("p",null,"Here's how you might reference a custom managed-code BA written in .NET 6:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<Wix\n    xmlns="http://wixtoolset.org/schemas/v4/wxs"\n    xmlns:bal="http://wixtoolset.org/schemas/v4/wxs/bal">\n\n    <Bundle>\n        <BootstrapperApplication>\n            <Payload SourceFile="MyBA.EarliestCoreMBA.deps.json" />\n            <Payload SourceFile="MyBA.EarliestCoreMBA.dll"\n                bal:BAFactoryAssembly="yes" />\n            <Payload SourceFile="MyBA.EarliestCoreMBA.runtimeconfig.json" />\n            <Payload SourceFile="mbanative.dll" />\n            <Payload SourceFile="WixToolset.Mba.Core.dll" />\n            <bal:WixDotNetCoreBootstrapperApplicationHost />\n        </BootstrapperApplication>\n')),(0,a.kt)("p",null,"...or in WiX v5:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<Wix\n    xmlns="http://wixtoolset.org/schemas/v4/wxs"\n    xmlns:bal="http://wixtoolset.org/schemas/v4/wxs/bal">\n\n    <Bundle>\n        <BootstrapperApplication SourceFile="MyBA.EarliestCoreMBA.exe">\n            <Payload SourceFile="MyBA.EarliestCoreMBA.deps.json" />\n            <Payload SourceFile="MyBA.EarliestCoreMBA.dll" />\n            <Payload SourceFile="MyBA.EarliestCoreMBA.runtimeconfig.json" />\n            <Payload SourceFile="mbanative.dll" />\n            <Payload SourceFile="WixToolset.Mba.Core.dll" />\n        </BootstrapperApplication>\n')))}h.isMDXComponent=!0}}]);