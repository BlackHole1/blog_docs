"use strict";(self.webpackChunkwixweb=self.webpackChunkwixweb||[]).push([[28622],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var r=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=c(n),f=i,h=m["".concat(l,".").concat(f)]||m[f]||u[f]||a;return n?r.createElement(h,o(o({ref:t},p),{},{components:n})):r.createElement(h,o({ref:t},p))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=f;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[m]="string"==typeof e?e:i,o[1]=s;for(var c=2;c<a;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},63340:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>m});n(67294);var r=n(3905);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const s={custom_edit_url:null,sidebar_position:9},l="NativeImage element (Netfx extension)",c={unversionedId:"schema/netfx/nativeimage",id:"schema/netfx/nativeimage",title:"NativeImage element (Netfx extension)",description:"Improves the performance of managed applications by creating native images.",source:"@site/docs/schema/netfx/nativeimage.md",sourceDirName:"schema/netfx",slug:"/schema/netfx/nativeimage",permalink:"/wixtoolset/docs/schema/netfx/nativeimage",draft:!1,editUrl:null,tags:[],version:"current",sidebarPosition:9,frontMatter:{custom_edit_url:null,sidebar_position:9},sidebar:"docsSidebar",previous:{title:"DotNetCoreSearchRef element (Netfx extension)",permalink:"/wixtoolset/docs/schema/netfx/dotnetcoresearchref"},next:{title:"NativeImagePlatformType type (Netfx extension)",permalink:"/wixtoolset/docs/schema/netfx/nativeimageplatformtype"}},p={},m=[{value:"Parents",id:"parents",level:2},{value:"Remarks",id:"remarks",level:2},{value:"Attributes",id:"attributes",level:2}],u={toc:m},f="wrapper";function h(e){var{components:t}=e,n=o(e,["components"]);return(0,r.kt)(f,a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},u,n),{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"nativeimage-element-netfx-extension"},"NativeImage element (Netfx extension)"),(0,r.kt)("p",null,"Improves the performance of managed applications by creating native images.\nRequires the .NET Framework 2.0 or newer to be installed on the target machine since\nit runs ",(0,r.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/dotnet/framework/tools/ngen-exe-native-image-generator"},"NGen"),"."),(0,r.kt)("h2",{id:"parents"},"Parents"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/wixtoolset/docs/schema/wxs/file"},"File")),(0,r.kt)("h2",{id:"remarks"},"Remarks"),(0,r.kt)("p",null,"Native images are files containing compiled processor-specific machine code, which\nare installed into the native image cache on the local computer. The runtime\ncan use native images from the cache instead using the just-in-time (JIT)\ncompiler to compile the original assembly."),(0,r.kt)("p",null," The native image custom actions are configured to ignore failures so that failing\nto generate or remove a native image will not cause setup to fail and roll back."),(0,r.kt)("h2",{id:"attributes"},"Attributes"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"AppBaseDirectory")," (String)\n: The directory to use for locating dependent assemblies.\nFor DLL assemblies and assemblies installed to the Global Assembly Cache (GAC),\nthis attribute should be set to the directory of the application which loads this\nassembly. For EXE assemblies, this attribute does not need to be set because NGen\nwill use the directory of the assembly file by default."),(0,r.kt)("p",null," The value can be in the form of a directory identifier, or a formatted string\nthat resolves to either a directory identifier or a full path to a directory."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"AssemblyApplication")," (String)\n: The application which will load this assembly.\nFor DLL assemblies which are loaded via reflection, this attribute should\nbe set to indicate the application which will load this assembly.\nThe configuration of the application (usually specified via an exe.config file) will be used\nto determine how to resolve dependencies for this assembly."),(0,r.kt)("p",null," The value can be in the form of a file identifier, or a formatted string\nthat resolves to either a file identifier or a full path to a file."),(0,r.kt)("p",null,' When a shared component is loaded at run time, using the Load method, the\napplication\'s configuration file determines the dependencies that are loaded\nfor the shared component \u2014 for example, the version of a dependency that is loaded.\nThis attribute gives guidance on which dependencies would be loaded at run time in order\nto figure out which dependency assemblies will also need to have native images generated\n(assuming the Dependency attribute is not set to "no").'),(0,r.kt)("p",null," This attribute cannot be set if the AssemblyApplication attribute is set on the parent\nFile element (please note that these attributes both refer to the same application\nassembly but do very different things: specifiying File/@AssemblyApplication will force\nan assembly to install to a private location next to the indicated application, whereas\nthis AssemblyApplication attribute will be used to help resolve dependent assemblies\nwhile generating native images for this assembly)."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Debug"),' (wxs:YesNoTypeUnion)\n: Set to "yes" to generate native images that can be used under a debugger.\nThe default value is "no".'),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Dependencies"),' (wxs:YesNoTypeUnion)\n: Set to "no" to generate the minimum number of native images.\nThe default value is "yes".'),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Id")," (String)\n: Identifier for the native image in the output database. If the Id is not specified, one will be generated."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Platform")," (",(0,r.kt)("a",{parentName:"p",href:"/wixtoolset/docs/schema/netfx/nativeimagepreprocessorplatformtype",title:"Platform referencing the machine architecture."},"NativeImagePreprocessorPlatformType"),")\n: Sets the platform(s) for which native images will be generated."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Priority")," (enumeration)\n: Sets the priority of generating the native images for this assembly. This attribute's value must be one of the following:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"0"),": This is the highest priority, it means that image generation occurs\nand completes during setup. This option ensures images are generated\nby the time setup is complete."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"1"),": This will queue image generation to the NGen service to occur immediately.\nThis option will slow down setup performance."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"2"),": This will queue image generation to the NGen service to occur after all priority 1\nassemblies have completed.\nThis option will slow down setup performance."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"3"),": This is the lowest priority, it will queue image generation to occur when the\nmachine is idle.\nThis option should not slow down setup performance.\nThis is the default value.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Profile"),' (wxs:YesNoTypeUnion)\n: Set to "yes" to generate native images that can be used under a profiler.\nThe default value is "no".'),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/wixtoolset/web/blob/master/src/xsd4/netfx.xsd"},"Edit the schema for this page")))}h.isMDXComponent=!0}}]);