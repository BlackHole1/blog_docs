"use strict";(self.webpackChunkwixweb=self.webpackChunkwixweb||[]).push([[69365],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=p(n),m=o,f=c["".concat(l,".").concat(m)]||c[m]||d[m]||i;return n?r.createElement(f,a(a({ref:t},u),{},{components:n})):r.createElement(f,a({ref:t},u))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:o,a[1]=s;for(var p=2;p<i;p++)a[p]=n[p];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},45273:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>f,frontMatter:()=>s,metadata:()=>p,toc:()=>c});n(67294);var r=n(3905);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const s={wip:6204,type:"Feature",by:"Sean Hall (r sean hall at gmail.com)",title:"High-DPI support for Bundles",draft:!1},l=void 0,p={unversionedId:"development/wips/burn-high-dpi",id:"development/wips/burn-high-dpi",title:"High-DPI support for Bundles",description:"User stories",source:"@site/docs/development/wips/6204-burn-high-dpi.md",sourceDirName:"development/wips",slug:"/development/wips/burn-high-dpi",permalink:"/wixtoolset/docs/development/wips/burn-high-dpi",draft:!1,editUrl:"https://github.com/wixtoolset/web/tree/master/src/Docusaurus/docs/development/wips/6204-burn-high-dpi.md",tags:[],version:"current",sidebarPosition:6204,frontMatter:{wip:6204,type:"Feature",by:"Sean Hall (r sean hall at gmail.com)",title:"High-DPI support for Bundles",draft:!1},sidebar:"docsSidebar",previous:{title:"Create ExePackage Log",permalink:"/wixtoolset/docs/development/wips/create-exepackage-log"},next:{title:"Multi-arch BalExtension BAs",permalink:"/wixtoolset/docs/development/wips/multi-architecture-bal"}},u={},c=[{value:"User stories",id:"user-stories",level:2},{value:"Proposal",id:"proposal",level:2},{value:"Considerations",id:"considerations",level:2},{value:"See Also",id:"see-also",level:2}],d={toc:c},m="wrapper";function f(e){var{components:t}=e,n=a(e,["components"]);return(0,r.kt)(m,i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({},d,n),{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"user-stories"},"User stories"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"As a Setup developer I can create DPI aware bundles such that my UI can look crisp and clear on all devices.")),(0,r.kt)("h2",{id:"proposal"},"Proposal"),(0,r.kt)("p",null,"Remove the static .exe manifest from the Burn stub.\nGet the Burn backend to generate the .exe manifest and embed it into the Bundle.\nAdd new ",(0,r.kt)("inlineCode",{parentName:"p"},"DpiAwareness")," attribute to the ",(0,r.kt)("inlineCode",{parentName:"p"},"BootstrapperApplication")," element to allow the Bundle to declare its supported DPI awareness mode(s)."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"<xs:attribute name=\"DpiAwareness\" default=\"perMonitorV2\">\n    <xs:annotation>\n        <xs:documentation>The DPI awareness of the BootstrapperApplication. The default is 'perMonitorV2'. Microsoft High DPI documentation is at https://docs.microsoft.com/en-us/windows/win32/hidpi/high-dpi-desktop-application-development-on-windows.</xs:documentation>\n    </xs:annotation>\n    <xs:simpleType>\n        <xs:restriction base=\"xs:NMTOKEN\">\n            <xs:enumeration value=\"gdiScaled\">\n                <xs:annotation>\n                    <xs:documentation>Corresponds to the .exe manifest element 'gdiScaling' with content of 'true'. Windows does not support combining this with other DPI awareness modes.</xs:documentation>\n                </xs:annotation>\n            </xs:enumeration>\n            <xs:enumeration value=\"perMonitor\">\n                <xs:annotation>\n                    <xs:documentation>Corresponds to the .exe manifest element 'dpiAware' with content of 'true/pm'.</xs:documentation>\n                </xs:annotation>\n            </xs:enumeration>\n            <xs:enumeration value=\"perMonitorV2\">\n                <xs:annotation>\n                    <xs:documentation>Corresponds to the .exe manifest element 'dpiAwareness' with content of 'PerMonitorV2, PerMonitor' and the manifest element 'dpiAware' with content of 'true/pm'.</xs:documentation>\n                </xs:annotation>\n            </xs:enumeration>\n            <xs:enumeration value=\"system\">\n                <xs:annotation>\n                    <xs:documentation>Corresponds to the .exe manifest element 'dpiAware' with content of 'true'.</xs:documentation>\n                </xs:annotation>\n            </xs:enumeration>\n            <xs:enumeration value=\"unaware\" />\n        </xs:restriction>\n    </xs:simpleType>\n</xs:attribute>\n")),(0,r.kt)("h2",{id:"considerations"},"Considerations"),(0,r.kt)("p",null,"Declaring a single enum attribute for the DPI awareness mode prevents some possible configurations, such as declaring support for ",(0,r.kt)("inlineCode",{parentName:"p"},"PerMonitorV2")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"System")," but not ",(0,r.kt)("inlineCode",{parentName:"p"},"PerMonitor"),".\nThese configurations don't really make sense."),(0,r.kt)("p",null,"The other way of implementing dynamic DPI awareness modes is for the Burn engine to set the DPI awareness programmatically.\nAlthough this is supported by Microsoft, they do not recommend it due to Windows requiring this be done before creating any windows. "),(0,r.kt)("h2",{id:"see-also"},"See Also"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/wixtoolset/issues/issues/6204"},"WIXFEAT:6204"))))}f.isMDXComponent=!0}}]);