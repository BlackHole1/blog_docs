"use strict";(self.webpackChunkwixweb=self.webpackChunkwixweb||[]).push([[54669],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>h});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),m=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},p=function(e){var t=m(e.components);return r.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),c=m(a),u=n,h=c["".concat(s,".").concat(u)]||c[u]||d[u]||i;return a?r.createElement(h,l(l({ref:t},p),{},{components:a})):r.createElement(h,l({ref:t},p))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,l=new Array(i);l[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[c]="string"==typeof e?e:n,l[1]=o;for(var m=2;m<i;m++)l[m]=a[m];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},96242:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>m,toc:()=>c});a(67294);var r=a(3905);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})),e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}const o={custom_edit_url:null,toc_max_heading_level:2},s="IUnpackStreamContext Interface",m={unversionedId:"api/wixtoolset.dtf.compression/iunpackstreamcontext",id:"api/wixtoolset.dtf.compression/iunpackstreamcontext",title:"IUnpackStreamContext Interface",description:"This interface provides the methods necessary for the \xabsee T:WixToolset.Dtf.Compression.CompressionEngine\xbb to open and close streams for archives and files. The implementor of this interface can use any kind of logic to determine what kind of streams to open and where",source:"@site/docs/api/wixtoolset.dtf.compression/iunpackstreamcontext.md",sourceDirName:"api/wixtoolset.dtf.compression",slug:"/api/wixtoolset.dtf.compression/iunpackstreamcontext",permalink:"/wixtoolset/docs/api/wixtoolset.dtf.compression/iunpackstreamcontext",draft:!1,editUrl:null,tags:[],version:"current",frontMatter:{custom_edit_url:null,toc_max_heading_level:2},sidebar:"docsSidebar",previous:{title:"IPackStreamContext Interface",permalink:"/wixtoolset/docs/api/wixtoolset.dtf.compression/ipackstreamcontext"},next:{title:"OffsetStream Class",permalink:"/wixtoolset/docs/api/wixtoolset.dtf.compression/offsetstream"}},p={},c=[{value:"Methods",id:"methods",level:2},{value:"CloseArchiveReadStream(archiveNumber, archiveName, stream) Method",id:"closearchivereadstream_archivenumber_archivename_stream",level:2},{value:"Declaration",id:"declaration",level:3},{value:"Parameters",id:"parameters",level:3},{value:"CloseFileWriteStream(path, stream, attributes, lastWriteTime) Method",id:"closefilewritestream_path_stream_attributes_lastwritetime",level:2},{value:"Declaration",id:"declaration-1",level:3},{value:"Parameters",id:"parameters-1",level:3},{value:"Remarks",id:"remarks",level:3},{value:"OpenArchiveReadStream(archiveNumber, archiveName, compressionEngine) Method",id:"openarchivereadstream_archivenumber_archivename_compressionengine",level:2},{value:"Declaration",id:"declaration-2",level:3},{value:"Parameters",id:"parameters-2",level:3},{value:"Return value",id:"return-value",level:3},{value:"Remarks",id:"remarks-1",level:3},{value:"OpenFileWriteStream(path, fileSize, lastWriteTime) Method",id:"openfilewritestream_path_filesize_lastwritetime",level:2},{value:"Declaration",id:"declaration-3",level:3},{value:"Parameters",id:"parameters-3",level:3},{value:"Return value",id:"return-value-1",level:3},{value:"Remarks",id:"remarks-2",level:3}],d={toc:c},u="wrapper";function h(e){var{components:t}=e,a=l(e,["components"]);return(0,r.kt)(u,i(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),r.forEach((function(t){n(e,t,a[t])}))}return e}({},d,a),{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"iunpackstreamcontext-interface"},"IUnpackStreamContext Interface"),(0,r.kt)("p",null,"This interface provides the methods necessary for the \xabsee T:WixToolset.Dtf.Compression.CompressionEngine\xbb to open and close streams for archives and files. The implementor of this interface can use any kind of logic to determine what kind of streams to open and where"),(0,r.kt)("h2",{id:"methods"},"Methods"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Method"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#closearchivereadstream_archivenumber_archivename_stream"},"CloseArchiveReadStream(archiveNumber, archiveName, stream)")),(0,r.kt)("td",{parentName:"tr",align:null},"Closes a stream where an archive package was read.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#closefilewritestream_path_stream_attributes_lastwritetime"},"CloseFileWriteStream(path, stream, attributes, lastWriteTime)")),(0,r.kt)("td",{parentName:"tr",align:null},"Closes a stream where an extracted file was written.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#openarchivereadstream_archivenumber_archivename_compressionengine"},"OpenArchiveReadStream(archiveNumber, archiveName, compressionEngine)")),(0,r.kt)("td",{parentName:"tr",align:null},"Opens the archive stream for reading.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#openfilewritestream_path_filesize_lastwritetime"},"OpenFileWriteStream(path, fileSize, lastWriteTime)")),(0,r.kt)("td",{parentName:"tr",align:null},"Opens a stream for writing extracted file bytes.")))),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"WixToolset.Dtf.Compression.dll")," version ",(0,r.kt)("inlineCode",{parentName:"p"},"5.0.0+41e11442b2ca93e444b60213b5ae99dcbab787d8")),(0,r.kt)("h2",{id:"closearchivereadstream_archivenumber_archivename_stream"},"CloseArchiveReadStream(archiveNumber, archiveName, stream) Method"),(0,r.kt)("p",null,"Closes a stream where an archive package was read."),(0,r.kt)("h3",{id:"declaration"},"Declaration"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs"},"public void CloseArchiveReadStream(\n  int archiveNumber,\n  string archiveName,\n  System.IO.Stream stream\n)\n")),(0,r.kt)("h3",{id:"parameters"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"archiveNumber"),(0,r.kt)("td",{parentName:"tr",align:null},"int"),(0,r.kt)("td",{parentName:"tr",align:null},"The archive number of the stream to close.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"archiveName"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the archive being closed.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"stream"),(0,r.kt)("td",{parentName:"tr",align:null},"System.IO.Stream"),(0,r.kt)("td",{parentName:"tr",align:null},"The stream that was previously returned by and is now ready to be closed.")))),(0,r.kt)("h2",{id:"closefilewritestream_path_stream_attributes_lastwritetime"},"CloseFileWriteStream(path, stream, attributes, lastWriteTime) Method"),(0,r.kt)("p",null,"Closes a stream where an extracted file was written."),(0,r.kt)("h3",{id:"declaration-1"},"Declaration"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs"},"public void CloseFileWriteStream(\n  string path,\n  System.IO.Stream stream,\n  System.IO.FileAttributes attributes,\n  System.DateTime lastWriteTime\n)\n")),(0,r.kt)("h3",{id:"parameters-1"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"path"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The path of the file within the archive.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"stream"),(0,r.kt)("td",{parentName:"tr",align:null},"System.IO.Stream"),(0,r.kt)("td",{parentName:"tr",align:null},"The stream that was previously returned by and is now ready to be closed.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"attributes"),(0,r.kt)("td",{parentName:"tr",align:null},"System.IO.FileAttributes"),(0,r.kt)("td",{parentName:"tr",align:null},"The attributes of the extracted file.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"lastWriteTime"),(0,r.kt)("td",{parentName:"tr",align:null},"System.DateTime"),(0,r.kt)("td",{parentName:"tr",align:null},"The last write time of the file.")))),(0,r.kt)("h3",{id:"remarks"},"Remarks"),(0,r.kt)("p",null,"The implementor may wish to apply the attributes and date to the newly-extracted file."),(0,r.kt)("h2",{id:"openarchivereadstream_archivenumber_archivename_compressionengine"},"OpenArchiveReadStream(archiveNumber, archiveName, compressionEngine) Method"),(0,r.kt)("p",null,"Opens the archive stream for reading."),(0,r.kt)("h3",{id:"declaration-2"},"Declaration"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs"},"public System.IO.Stream OpenArchiveReadStream(\n  int archiveNumber,\n  string archiveName,\n  CompressionEngine compressionEngine\n)\n")),(0,r.kt)("h3",{id:"parameters-2"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"archiveNumber"),(0,r.kt)("td",{parentName:"tr",align:null},"int"),(0,r.kt)("td",{parentName:"tr",align:null},"The zero-based index of the archive to open.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"archiveName"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the archive being opened.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"compressionEngine"),(0,r.kt)("td",{parentName:"tr",align:null},"CompressionEngine"),(0,r.kt)("td",{parentName:"tr",align:null},"Instance of the compression engine doing the operations.")))),(0,r.kt)("h3",{id:"return-value"},"Return value"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"System.IO.Stream")," A stream from which archive bytes are read, or null to cancel extraction of the archive."),(0,r.kt)("h3",{id:"remarks-1"},"Remarks"),(0,r.kt)("p",null,"When the first archive in a chain is opened, the name is not yet known, so the provided value will be an empty string. When opening further archives, the provided value is the next-archive name stored in the previous archive. This name is often, but not necessarily, the same as the filename of the archive package to be opened.If this method returns null, the archive engine will throw a FileNotFoundException."),(0,r.kt)("h2",{id:"openfilewritestream_path_filesize_lastwritetime"},"OpenFileWriteStream(path, fileSize, lastWriteTime) Method"),(0,r.kt)("p",null,"Opens a stream for writing extracted file bytes."),(0,r.kt)("h3",{id:"declaration-3"},"Declaration"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs"},"public System.IO.Stream OpenFileWriteStream(\n  string path,\n  System.Int64 fileSize,\n  System.DateTime lastWriteTime\n)\n")),(0,r.kt)("h3",{id:"parameters-3"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"path"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"The path of the file within the archive. This is often, but not necessarily, the same as the relative path of the file outside the archive.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"fileSize"),(0,r.kt)("td",{parentName:"tr",align:null},"System.Int64"),(0,r.kt)("td",{parentName:"tr",align:null},"The uncompressed size of the file to be extracted.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"lastWriteTime"),(0,r.kt)("td",{parentName:"tr",align:null},"System.DateTime"),(0,r.kt)("td",{parentName:"tr",align:null},"The last write time of the file to be extracted.")))),(0,r.kt)("h3",{id:"return-value-1"},"Return value"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"System.IO.Stream")," A stream where extracted file bytes are to be written, or null to skip extraction of the file and continue to the next file."),(0,r.kt)("h3",{id:"remarks-2"},"Remarks"),(0,r.kt)("p",null,"The implementor may use the path, size and date information to dynamically decide whether or not the file should be extracted."))}h.isMDXComponent=!0}}]);