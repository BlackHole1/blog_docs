"use strict";(self.webpackChunkwixweb=self.webpackChunkwixweb||[]).push([[17548],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>f});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),c=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},p=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},u="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=c(r),m=a,f=u["".concat(s,".").concat(m)]||u[m]||h[m]||i;return r?n.createElement(f,l(l({ref:t},p),{},{components:r})):n.createElement(f,l({ref:t},p))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,l=new Array(i);l[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[u]="string"==typeof e?e:a,l[1]=o;for(var c=2;c<i;c++)l[c]=r[c];return n.createElement.apply(null,l)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},93723:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>f,frontMatter:()=>o,metadata:()=>c,toc:()=>u});r(67294);var n=r(3905);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const o={custom_edit_url:null,sidebar_position:208},s="RegistrySearch element",c={unversionedId:"schema/wxs/registrysearch",id:"schema/wxs/registrysearch",title:"RegistrySearch element",description:"Searches for file, directory or registry key and assigns to value of parent Property",source:"@site/docs/schema/wxs/registrysearch.md",sourceDirName:"schema/wxs",slug:"/schema/wxs/registrysearch",permalink:"/wixtoolset/docs/schema/wxs/registrysearch",draft:!1,editUrl:null,tags:[],version:"current",sidebarPosition:208,frontMatter:{custom_edit_url:null,sidebar_position:208},sidebar:"docsSidebar",previous:{title:"RegistryKey element",permalink:"/wixtoolset/docs/schema/wxs/registrykey"},next:{title:"RegistrySearchRef element",permalink:"/wixtoolset/docs/schema/wxs/registrysearchref"}},p={},u=[{value:"Windows Installer references",id:"windows-installer-references",level:2},{value:"Parents",id:"parents",level:2},{value:"Children",id:"children",level:2},{value:"Remarks",id:"remarks",level:2},{value:"Attributes",id:"attributes",level:2},{value:"See also",id:"see-also",level:2}],h={toc:u},m="wrapper";function f(e){var{components:t}=e,r=l(e,["components"]);return(0,n.kt)(m,i(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}({},h,r),{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"registrysearch-element"},"RegistrySearch element"),(0,n.kt)("p",null,"Searches for file, directory or registry key and assigns to value of parent Property"),(0,n.kt)("h2",{id:"windows-installer-references"},"Windows Installer references"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/windows/win32/msi/reglocator-table"},"RegLocator Table"),", ",(0,n.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/windows/win32/msi/signature-table"},"Signature Table")),(0,n.kt)("h2",{id:"parents"},"Parents"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"/wixtoolset/docs/schema/wxs/compliancecheck"},"ComplianceCheck"),", ",(0,n.kt)("a",{parentName:"p",href:"/wixtoolset/docs/schema/wxs/property"},"Property")),(0,n.kt)("h2",{id:"children"},"Children"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/wixtoolset/docs/schema/wxs/directorysearch"},"DirectorySearch")," (no more than 1) "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/wixtoolset/docs/schema/wxs/directorysearchref"},"DirectorySearchRef")," (no more than 1) "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/wixtoolset/docs/schema/wxs/filesearch"},"FileSearch")," (no more than 1) "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/wixtoolset/docs/schema/wxs/filesearchref"},"FileSearchRef")," (no more than 1) ")),(0,n.kt)("h2",{id:"remarks"},"Remarks"),(0,n.kt)("p",null,"When the Type attribute value is 'directory' the registry value must specify the path to a directory excluding the file name.\nWhen the Type attribute value is 'file' the registry value must specify the path to a file including the file name;\nhowever, if there is no child FileSearch element the parent directory of the file is returned. The FileSearch element requires\nthat you author the name of the file you are searching for. If you do not know the file name\nyou must set the Type attribute to 'raw' to return the full file path including the file name."),(0,n.kt)("h2",{id:"attributes"},"Attributes"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Bitness")," (",(0,n.kt)("a",{parentName:"p",href:"/wixtoolset/docs/schema/wxs/bitnesstype",title:'Values of this type will be "default", "always32" or "always64".'},"BitnessTypeUnion"),")\n: Overrides the default registry to search. The value ",(0,n.kt)("inlineCode",{parentName:"p"},"always64")," will force\nthe search to look in the 64-bit registry even when building for 32-bit.\nSimliarly, the value ",(0,n.kt)("inlineCode",{parentName:"p"},"always32")," will force the search to look in the 32-bit\nregistry even when building for 64-bit.\nThe default value is ",(0,n.kt)("inlineCode",{parentName:"p"},"default")," where the search will look in the same registry\nas the bitness of the package."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Id")," (String)\n: Signature to be used for the file, directory or registry key being searched for. If omitted, WiX generates a suitable id."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Key")," (String, required)\n: Key for the registry value."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Name")," (String)\n: Registry value name. If this value is null, then the value from the key's unnamed or default value, if any, is retrieved."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Root")," (enumeration, required)\n: Root key for the registry value. This attribute's value must be one of the following:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"HKCR"),": HKEY_CLASSES_ROOT"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"HKCU"),": HKEY_CURRENT_USER"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"HKLM"),": HKEY_LOCAL_MACHINE"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"HKU"),": HKEY_USERS")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Type")," (enumeration, required)\n: The value must be 'file' if the child is a FileSearch element, and must be 'directory' if child is a DirectorySearch element. This attribute's value must be one of the following:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("em",{parentName:"p"},"directory"),": The registry value contains the path to a directory.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("em",{parentName:"p"},"file"),": The registry value contains the path to a file. To return the full file path you must add a FileSearch element as a child of this element; otherwise, the parent directory of the file path is returned.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("em",{parentName:"p"},"raw"),": Sets the raw value from the registry value. Please note that this value will contain a prefix as follows:")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"DWORD: Starts with ",(0,n.kt)("inlineCode",{parentName:"p"},"#")," optionally followed by ",(0,n.kt)("inlineCode",{parentName:"p"},"+")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"-"),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"REG_BINARY: Starts with ",(0,n.kt)("inlineCode",{parentName:"p"},"#x")," and the installer converts and saves each hexadecimal digit (nibble) as an ASCII character prefixed by ",(0,n.kt)("inlineCode",{parentName:"p"},"#x"),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"REG_EXPAND_SZ: Starts with ",(0,n.kt)("inlineCode",{parentName:"p"},"#%"),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"REG_MULTI_SZ: Starts with ",(0,n.kt)("inlineCode",{parentName:"p"},"[~]")," and ends with ",(0,n.kt)("inlineCode",{parentName:"p"},"[~]"),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"REG_SZ: No prefix, but if the first character of the registry value is ",(0,n.kt)("inlineCode",{parentName:"p"},"#"),", the installer escapes the character by prefixing it with another ",(0,n.kt)("inlineCode",{parentName:"p"},"#"),"."))),(0,n.kt)("h2",{id:"see-also"},"See also"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"/wixtoolset/docs/schema/wxs/componentsearch"},"ComponentSearch"),", ",(0,n.kt)("a",{parentName:"p",href:"/wixtoolset/docs/schema/wxs/inifilesearch"},"IniFileSearch")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/wixtoolset/web/blob/master/src/xsd4/wix.xsd"},"Edit the schema for this page")))}f.isMDXComponent=!0}}]);