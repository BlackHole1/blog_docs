<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="stylesheet" href="../assets/css/just-the-docs-default.css"><link rel="stylesheet" href="../assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"><style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(3)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(3) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(3) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(3) > ul.nav-list { display: block; }</style><script src="../assets/js/vendor/lunr.min.js"></script> <script src="../assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="../favicon.ico" type="image/x-icon"><title>Client administration | rpm-ostree</title><meta name="generator" content="Jekyll v3.9.5"><meta property="og:title" content="Client administration"><meta property="og:locale" content="en_US"><meta name="description" content="rpm-ostree documentation"><meta property="og:description" content="rpm-ostree documentation"><link rel="canonical" href="index.html"><meta property="og:url" content="https://coreos.github.io/rpm-ostree/administrator-handbook/"><meta property="og:site_name" content="rpm-ostree"><meta property="og:type" content="website"><meta name="twitter:card" content="summary"><meta property="twitter:title" content="Client administration"> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"rpm-ostree documentation","headline":"Client administration","url":"https://coreos.github.io/rpm-ostree/administrator-handbook/"}</script> <a class="skip-to-main" href="#main-content" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Skip to main content<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">跳转至主要内容</font></font></font></a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><title id="svg-external-link-title">(external link)</title><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-copy" viewBox="0 0 16 16"><title>Copy</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"></path><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"></path> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"><title>Copied</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"><path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"></path><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"></path> </svg> </symbol> </svg><div class="side-bar" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><div class="site-header" role="banner" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"> <a href="../index.html" class="site-title lh-tight" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1"> rpm-ostree </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button></div><nav aria-label="Main" id="site-nav" class="site-nav" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><ul class="nav-list" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><li class="nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="../index.html" class="nav-list-link" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">A true hybrid image/package system<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一个真正的混合镜像/软件包系统</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="../background/index.html" class="nav-list-link" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Background<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">背景</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="index.html" class="nav-list-link" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Client administration<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">客户端管理</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="../countme/index.html" class="nav-list-link" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">DNF Count Me support<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">DNF 计数我支持</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><button class="nav-list-expander btn-reset" aria-label="toggle items in Composing images category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="../compose/index.html" class="nav-list-link" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Composing images<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">撰写图像</font></font></font></a><ul class="nav-list" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><li class="nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="../compose-server/index.html" class="nav-list-link" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Compose server<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">组合服务器</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="../treefile/index.html" class="nav-list-link" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Treefile reference<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">Treefile 参考</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="../extensions/index.html" class="nav-list-link" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Extensions<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">扩展</font></font></font></a></li></ul></li><li class="nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="../container/index.html" class="nav-list-link" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">ostree native containers<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">ostree 本地容器</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><button class="nav-list-expander btn-reset" aria-label="toggle items in Architecture category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="../architecture/index.html" class="nav-list-link" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Architecture<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">架构</font></font></font></a><ul class="nav-list" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><li class="nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="../architecture-core/index.html" class="nav-list-link" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">RPM packages, ostree commits<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">RPM 软件包，ostree 提交</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="../architecture-daemon/index.html" class="nav-list-link" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Daemon model<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">守护程序模型</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="../apply-live/index.html" class="nav-list-link" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Architecture of apply-live<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">应用实时架构</font></font></font></a></li></ul></li><li class="nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><button class="nav-list-expander btn-reset" aria-label="toggle items in Contributing category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="../CONTRIBUTING/index.html" class="nav-list-link" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Contributing<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">贡献</font></font></font></a><ul class="nav-list" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><li class="nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="../HACKING/index.html" class="nav-list-link" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Hacking on rpm-ostree<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 rpm-ostree 上进行黑客攻击</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="../repo_structure/index.html" class="nav-list-link" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Repository structure<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">仓库结构</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="../RELEASE/index.html" class="nav-list-link" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Releasing rpm-ostree<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">发布 rpm-ostree</font></font></font></a></li></ul></li><li class="nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><button class="nav-list-expander btn-reset" aria-label="toggle items in Experimental features category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="../experimental/index.html" class="nav-list-link" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Experimental features<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">实验性功能</font></font></font></a><ul class="nav-list" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><li class="nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="../cliwrap/index.html" class="nav-list-link" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Wrapping other CLI entrypoints<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">封装其他 CLI 入口点</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="../ex-rebuild/index.html" class="nav-list-link" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Declarative system changes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">声明性系统更改</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="../ex-replace/index.html" class="nav-list-link" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">override replace --experimental<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">覆盖替换 --实验性</font></font></font></a></li><li class="nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="../layering/index.html" class="nav-list-link" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Applying a new package using CoreOS layering<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 CoreOS 分层应用新包</font></font></font></a></li></ul></li></ul></nav><footer class="site-footer" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1"> This site uses <a href="https://github.com/just-the-docs/just-the-docs" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">Just the Docs</a>, a documentation theme for Jekyll.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">本站使用 Just the Docs，这是一个适用于 Jekyll 的文档主题。</font></font></font></footer></div><div class="main" id="top" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><div id="main-header" class="main-header" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><div class="search" role="search" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><div class="search-input-wrap" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search rpm-ostree" aria-label="Search rpm-ostree" autocomplete="off" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"> <label for="search-input" class="search-label" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"></div></div><nav aria-label="Auxiliary" class="aux-nav" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><ul class="aux-nav-list" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><li class="aux-nav-list-item" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"> <a href="https://github.com/coreos/rpm-ostree" class="site-button" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1"> rpm-ostree on GitHub <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 GitHub 上的 rpm-ostree</font></font></font></a></li></ul></nav></div><div class="main-content-wrap" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><div id="main-content" class="main-content" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><main data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><h1 class="no_toc" id="client-administration" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1"> <a href="#client-administration" class="anchor-heading" aria-labelledby="client-administration" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Client administration<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">客户端管理</font></font></font></h1><ol id="markdown-toc" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="#administering-an-rpm-ostree-based-system" id="markdown-toc-administering-an-rpm-ostree-based-system" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Administering an rpm-ostree based system<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">管理基于 rpm-ostree 的系统</font></font></font></a><ol data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="#hybrid-imagepackaging-via-package-layering" id="markdown-toc-hybrid-imagepackaging-via-package-layering" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Hybrid image/packaging via package layering<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">通过软件包层实现混合镜像/打包</font></font></font></a></li><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="#override-rpm-files" id="markdown-toc-override-rpm-files" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Override rpm files<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">覆盖 rpm 文件</font></font></font></a></li><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="#rebasing" id="markdown-toc-rebasing" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Rebasing<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">变基</font></font></font></a></li><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="#other-local-state-changes" id="markdown-toc-other-local-state-changes" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Other local state changes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">其他本地状态更改</font></font></font></a></li><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="#experimental-interface" id="markdown-toc-experimental-interface" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Experimental interface<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">实验性接口</font></font></font></a></li></ol></li><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="#using-overrides-and-usroverlay" id="markdown-toc-using-overrides-and-usroverlay" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Using overrides and <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">usroverlay</code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用覆盖和 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">usroverlay</code> </font></font></font></a><ol data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="#resetting-overrides" id="markdown-toc-resetting-overrides" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Resetting overrides<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">重置覆盖</font></font></font></a></li><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="#inactive-overrides" id="markdown-toc-inactive-overrides" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Inactive overrides<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">未激活的覆盖</font></font></font></a></li><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="#applying-overrides-live" id="markdown-toc-applying-overrides-live" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Applying overrides live<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">应用实时覆盖</font></font></font></a></li><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="#using-usroverlay" id="markdown-toc-using-usroverlay" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Using <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">usroverlay</code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">usroverlay</code> </font></font></font></a></li><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="#removing-a-base-package" id="markdown-toc-removing-a-base-package" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Removing a base package<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">移除基础包</font></font></font></a></li></ol></li><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="#filesystem-layout" id="markdown-toc-filesystem-layout" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Filesystem layout<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统布局</font></font></font></a></li><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><a href="#operating-system-changes" id="markdown-toc-operating-system-changes" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Operating system changes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">操作系统更改</font></font></font></a></li></ol><h2 id="administering-an-rpm-ostree-based-system" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1"> <a href="#administering-an-rpm-ostree-based-system" class="anchor-heading" aria-labelledby="administering-an-rpm-ostree-based-system" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Administering an rpm-ostree based system<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">管理基于 rpm-ostree 的系统</font></font></font></h2><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">At the moment, there are four primary commands to be familiar with on an <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree</code> based system.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">目前，在基于 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree</code> 的系统上有四个主要命令需要熟悉。</font></font></font></p><div class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><div class="highlight" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><pre class="highlight"><code># rpm-ostree status
</code></pre></div></div><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Will show you your deployments in the order in which they will appear in the bootloader, the first deployment in the list being the current default one. The <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">●</code> shows the currently booted deployment.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将按照它们在引导加载程序中出现的顺序显示您的部署，列表中的第一个部署是当前默认的部署。 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">●</code> 显示当前引导的部署。</font></font></font></p><div class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><div class="highlight" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><pre class="highlight"><code># rpm-ostree upgrade
</code></pre></div></div><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Will prepare a system upgrade offline, creating a <em data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">new</em> deployment (root filesystem) and set it as the default for the next boot. The update will be “finalized” at shutdown and a new bootloader entry prepared. Hence, use <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">reboot</code> to apply the update.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将离线准备系统升级，创建一个新的部署（根文件系统）并将其设置为下一次引导的默认部署。更新将在关机时“完成”，并准备一个新的引导加载程序条目。因此，请使用 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">reboot</code> 应用更新。</font></font></font></p><div class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><div class="highlight" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><pre class="highlight"><code># rpm-ostree rollback
</code></pre></div></div><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">This rolls back to the previous state, i.e. the default deployment changes places with the non-default one. By default, the <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree upgrade</code> will keep at most two bootable “deployments”, though the underlying technology supports more.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这将回滚到先前的状态，即默认部署更改与非默认部署交换位置。默认情况下， <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree upgrade</code> 最多保留两个可引导的“部署”，尽管底层技术支持更多。</font></font></font></p><div class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><div class="highlight" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><pre class="highlight"><code># rpm-ostree deploy &lt;version&gt;
</code></pre></div></div><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">This command makes use of the server-side history feature of OSTree. It will search the history of the current branch for a commit with the specified version, and deploy it. This can be used in scripts to ensure consistent updates. For example, if the upstream OS vendor provides an update online, you might not want to deploy it until you’ve tested it. This helps ensure that when you upgrade, you are getting exactly what you asked for.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此命令利用 OSTree 的服务器端历史功能。它将搜索当前分支的历史记录，查找具有指定版本的提交，并部署它。这可用于脚本中以确保一致的更新。例如，如果上游操作系统供应商在线提供更新，您可能不希望在测试之前部署它。这有助于确保升级时获得您要求的内容。</font></font></font></p><h3 id="hybrid-imagepackaging-via-package-layering" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1"> <a href="#hybrid-imagepackaging-via-package-layering" class="anchor-heading" aria-labelledby="hybrid-imagepackaging-via-package-layering" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Hybrid image/packaging via package layering<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">通过软件包分层进行混合镜像/打包</font></font></font></h3><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">It is possible to dynamically add more packages onto the system that are not part of the commit composed on the server. These additional “layered” packages are persistent across upgrades, rebases, and deploys (contrast with the ostree <a href="https://manned.org/man/fedora/ostree-admin-unlock" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">unlocking</a> mechanism).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可以动态地向系统添加更多不属于在服务器上组合的提交的软件包。这些额外的“分层”软件包在升级、重基和部署时是持久的（与 ostree 解锁机制形成对比）。</font></font></font></p><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">This is where the true hybrid image/package nature of rpm-ostree comes into play; you get a combination of the benefits of images and packages. The package updates are still fully transactional and offline.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这就是 rpm-ostree 真正的混合镜像/软件包特性发挥作用的地方；您将获得镜像和软件包的好处结合体。软件包更新仍然是完全事务性和离线的。</font></font></font></p><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">For example, you can use package layering to install 3rd party kernel modules, or userspace driver daemons such as <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">pcsc-lite-ccid</code>. While most software should go into a container, you have full flexibilty to use packages where it suits.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">例如，您可以使用软件包分层来安装第三方内核模块，或用户空间驱动程序守护程序，如 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">pcsc-lite-ccid</code> 。虽然大多数软件应该放入容器中，但您完全可以根据需要使用软件包。</font></font></font></p><div class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><div class="highlight" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><pre class="highlight"><code># rpm-ostree install &lt;pkg&gt;
</code></pre></div></div><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Will download the target package, its dependencies, and create a new deployment with those packages installed. It is also possible to specify a local package which is not part of a repository.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将下载目标软件包、其依赖项，并创建一个安装了这些软件包的新部署。也可以指定一个不在存储库中的本地软件包。</font></font></font></p><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">To remove layered packages, use:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要删除分层软件包，请使用：</font></font></font></p><div class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><div class="highlight" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><pre class="highlight"><code># rpm-ostree uninstall &lt;pkg&gt;
</code></pre></div></div><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">By default, every <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree</code> operation is “offline” - it has no effect on your running system, and will only take effect when you reboot. This “pending” state is called the “pending deployment”. Operations can be chained; for example, if you invoke <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree upgrade</code> after installing a package, your new root will upgraded with the package also installed.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">默认情况下，每个 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree</code> 操作都是“脱机”的 - 它不会影响您正在运行的系统，并且只有在重新启动时才会生效。这种“挂起”状态称为“挂起部署”。操作可以链接；例如，如果在安装软件包后调用 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree upgrade</code> ，您的新根目录将升级，并安装了该软件包。</font></font></font></p><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">As a special case, it is supported to live-apply just package additions, assuming that there are not other pending changes:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">作为一个特例，支持仅应用软件包的添加，假设没有其他待处理的更改：</font></font></font></p><div class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><div class="highlight" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><pre class="highlight"><code># rpm-ostree install -yA &lt;pkg&gt;
</code></pre></div></div><h3 id="override-rpm-files" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1"> <a href="#override-rpm-files" class="anchor-heading" aria-labelledby="override-rpm-files" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Override rpm files<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">覆盖 rpm 文件</font></font></font></h3><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Normally, RPM does not allow one package to overwrite files from another. But it can make sense to relax this restriction in some cases; for example, where one just wants to overwrite one kernel module without rebuilding the whole kernel package. The install --force-replacefiles option allows this.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">通常情况下，RPM 不允许一个软件包覆盖另一个软件包中的文件。但在某些情况下放宽这一限制是有意义的；例如，当只想要覆盖一个内核模块而不重新构建整个内核软件包时。安装 --force-replacefiles 选项允许这样做。</font></font></font></p><div class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><div class="highlight" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><pre class="highlight"><code># rpm-ostree install --force-replacefiles &lt;pkg&gt;
</code></pre></div></div><h3 id="rebasing" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1"> <a href="#rebasing" class="anchor-heading" aria-labelledby="rebasing" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Rebasing<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">变基</font></font></font></h3><div class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><div class="highlight" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><pre class="highlight"><code># rpm-ostree rebase -b $branchname
</code></pre></div></div><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Your operating system vendor may provide multiple base branches. For example, Fedora Atomic Host has branches of the form:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">您的操作系统供应商可能提供多个基本分支。例如，Fedora Atomic Host 具有以下形式的分支：</font></font></font></p><ul data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">fedora/27/aarch64/atomic-host</code></li><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">fedora/27/aarch64/testing/atomic-host</code></li><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">fedora/27/aarch64/updates/atomic-host</code></li><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">fedora/27/ppc64le/atomic-host</code></li><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">fedora/27/ppc64le/testing/atomic-host</code></li><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">fedora/27/ppc64le/updates/atomic-host</code></li><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">fedora/27/x86_64/atomic-host</code></li><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">fedora/27/x86_64/testing/atomic-host</code></li><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">fedora/27/x86_64/updates/atomic-host</code></li></ul><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">You can use the <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rebase</code> command to switch between these; this can represent a major version upgrade, or logically switching between different “testing” streams within the same release. Like every other <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree</code> operation, All layered packages and local state will be carried across.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">您可以使用 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rebase</code> 命令在这些分支之间切换；这可以表示主要版本升级，或在同一版本中逻辑地在不同的“测试”流之间切换。与其他 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree</code> 操作一样，所有分层包和本地状态都将被保留。</font></font></font></p><h3 id="other-local-state-changes" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1"> <a href="#other-local-state-changes" class="anchor-heading" aria-labelledby="other-local-state-changes" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Other local state changes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">其他本地状态更改</font></font></font></h3><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">See <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">man rpm-ostree</code> for more. For example, there is an <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree initramfs</code> command that enables local initramfs generation by rerunning dracut.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">查看 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">man rpm-ostree</code> 以获取更多信息。例如，有一个 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree initramfs</code> 命令，通过重新运行 dracut 启用本地 initramfs 生成。</font></font></font></p><h3 id="experimental-interface" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1"> <a href="#experimental-interface" class="anchor-heading" aria-labelledby="experimental-interface" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Experimental interface<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">实验性接口</font></font></font></h3><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">There is a generic <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree ex</code> command that offers experimental features.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">有一个通用的 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree ex</code> 命令，提供实验性功能。</font></font></font></p><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">See <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">man rpm-ostree</code> for more information.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">查看 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">man rpm-ostree</code> 获取更多信息。</font></font></font></p><h2 id="using-overrides-and-usroverlay" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1"> <a href="#using-overrides-and-usroverlay" class="anchor-heading" aria-labelledby="using-overrides-and-usroverlay" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using overrides and <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">usroverlay</code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用覆盖和 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">usroverlay</code> 。</font></font></font></h2><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">While some people talk about “immutability” when referring to image-based systems like rpm-ostree, in fact a top level goal of rpm-ostree is to <em data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">empower</em> users and system administrators. When something goes wrong, you are root on your own computer and should have the ability to apply overrides locally.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">尽管一些人在谈论像 rpm-ostree 这样的基于镜像的系统时提到“不可变性”，但实际上 rpm-ostree 的一个最高级目标是赋予用户和系统管理员权力。当出现问题时，您是自己计算机上的 root 用户，应该有能力在本地应用覆盖。</font></font></font></p><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">First, there is the <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree override replace</code> command, which will replace an RPM, and apply that change persistently for the <em data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">next</em> boot - this is symmetric with how <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree install</code> works.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">首先，有 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree override replace</code> 命令，它将替换一个 RPM，并在下一次启动时持久应用该更改 - 这与 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree install</code> 的工作方式是对称的。</font></font></font></p><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">For example, suppose you want to test a fix to <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">podman</code>. You can pass both direct HTTP URLs as well as local files:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">例如，假设您想测试对 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">podman</code> 的修复。您可以传递直接的 HTTP URL 和本地文件：</font></font></font></p><div class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><div class="highlight" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><pre class="highlight"><code>$ sudo rpm-ostree override replace https://kojipkgs.fedoraproject.org//packages/podman/3.3.1/1.fc34/x86_64/podman-3.3.1-1.fc34.x86_64.rpm
</code></pre></div></div><div class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><div class="highlight" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><pre class="highlight"><code>$ curl https://rpmfind.net/linux/fedora/linux/updates/testing/38/Everything/x86_64/Packages/p/podman-4.5.1-1.fc38.x86_64.rpm --output podman.rpm
$ sudo rpm-ostree override replace ./podman.rpm
</code></pre></div></div><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">It is also supported to pull from the Fedora Koji/Bodhi systems. The following two examples override <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">podman</code> to a previous build listed in <a href="https://koji.fedoraproject.org/koji/" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">Koji</a> and <a href="https://bodhi.fedoraproject.org/updates/" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">Bodhi</a>:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">也支持从 Fedora Koji/Bodhi 系统拉取。以下两个示例将 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">podman</code> 覆盖为 Koji 和 Bodhi 中列出的先前构建：</font></font></font></p><div class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><div class="highlight" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><pre class="highlight"><code>$ sudo rpm-ostree override replace https://koji.fedoraproject.org/koji/buildinfo?buildID=2150598
$ sudo rpm-ostree override replace https://bodhi.fedoraproject.org/updates/FEDORA-2023-130f786970
</code></pre></div></div><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Another example with the kernel package; note you need to override exactly the set of installed packages:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">另一个使用内核包的示例；请注意，您需要准确覆盖已安装软件包的集合：</font></font></font></p><div class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><div class="highlight" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><pre class="highlight"><code>$ ls -al kernel*.rpm
-rw-r--r--. 1 root root  8085596 Jan 27 22:02 kernel-4.18.0-123.el8.x86_64.rpm
-rw-r--r--. 1 root root 40709632 Jan 27 22:02 kernel-core-4.18.0-123.el8.x86_64.rpm
-rw-r--r--. 1 root root 32533504 Jan 27 22:02 kernel-modules-4.18.0-123.el8.x86_64.rpm
-rw-r--r--. 1 root root  8790996 Jan 27 22:02 kernel-modules-extra-4.18.0-123.el8.x86_64.rpm
$ rpm-ostree override replace ./kernel*.rpm
</code></pre></div></div><h3 id="resetting-overrides" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1"> <a href="#resetting-overrides" class="anchor-heading" aria-labelledby="resetting-overrides" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Resetting overrides<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">重置覆盖</font></font></font></h3><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Use e.g. <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree override reset podman</code> to undo the previous change. If invoked now, nothing will have happened to the booted filesystem tree.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用例如 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree override reset podman</code> 来撤销上一个更改。如果现在调用，引导文件系统树将不会发生任何变化。</font></font></font></p><h3 id="inactive-overrides" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1"> <a href="#inactive-overrides" class="anchor-heading" aria-labelledby="inactive-overrides" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Inactive overrides<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">未激活的覆盖</font></font></font></h3><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">It can happen (especially in a “fast-tracking” workflow) that an override for a package version becomes redundant (i.e. the package version provided in the override is the exact same as the one in the base image). In this case, the override becomes <em data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">inactive</em>. Inactive overrides will appear in the output of <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">status -v</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可能会发生（特别是在“快速跟踪”工作流中）覆盖包版本变得多余的情况（即，覆盖中提供的包版本与基础镜像中的版本完全相同）。在这种情况下，覆盖将变为未激活状态。未激活的覆盖将出现在 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">status -v</code> 的输出中。</font></font></font></p><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Inactive overrides become active again once the base changes again and the package versions differ. They can be reset as described in the previous section just like active overrides. There is currently no way to have rpm-ostree automatically ‘drop out’ inactive overrides once the base “catches up”.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一旦基础再次更改并且软件包版本不同时，非活动覆盖将再次变为活动状态。它们可以像活动覆盖一样按照前一节中描述的方式进行重置。目前没有办法让 rpm-ostree 在基础“赶上”后自动“退出”非活动覆盖。</font></font></font></p><h3 id="applying-overrides-live" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1"> <a href="#applying-overrides-live" class="anchor-heading" aria-labelledby="applying-overrides-live" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Applying overrides live<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">应用实时覆盖</font></font></font></h3><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Now, suppose that you want to test this change <em data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">live</em>. There are two choices. The first choice is to run the <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree override replace</code> command above to stage the deployment, and then run<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">现在，假设您想要实时测试此更改。有两种选择。第一种选择是运行上面的 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree override replace</code> 命令来分阶段部署，然后运行</font></font></font></p><div class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><div class="highlight" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><pre class="highlight"><code>$ rpm-ostree apply-live --allow-replacement
</code></pre></div></div><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">This will pull the pending changes and apply them live. You can <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree apply-live --reset</code> to revert back to the booted tree.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这将拉取待处理的更改并实时应用它们。您可以 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree apply-live --reset</code> 以恢复到引导树。</font></font></font></p><h3 id="using-usroverlay" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1"> <a href="#using-usroverlay" class="anchor-heading" aria-labelledby="using-usroverlay" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">usroverlay</code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">usroverlay</code> </font></font></font></h3><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">The second choice is <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree usroverlay</code> which creates a transient writable <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">overlayfs</code> over <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">/usr</code> where you can do anything, such as e.g. copying in a <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">podman</code> binary generated on a build server somewhere that may not be in an RPM even.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">第二个选择是 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree usroverlay</code> ，它在 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">/usr</code> 上创建一个瞬态可写的 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">overlayfs</code> ，您可以在其中执行任何操作，例如复制在构建服务器上生成的 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">podman</code> 二进制文件，这些文件可能不在 RPM 中。</font></font></font></p><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">The changes here will not persist across reboots, which makes this a great choice for testing.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这里的更改不会在重新启动后保留，这使得它成为测试的一个很好的选择。</font></font></font></p><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">One downside though is it does not currently work to <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree apply-live --reset</code> today when <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree usroverlay</code> is in place. It’s possible to find the original binaries in a previous deployment, or via <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">ostree checkout</code> of the base commit, etc.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不过一个缺点是，当 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree usroverlay</code> 存在时，它目前无法在 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree apply-live --reset</code> 中工作。可以在先前的部署中找到原始二进制文件，或通过基本提交的 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">ostree checkout</code> 等方式找到。</font></font></font></p><h3 id="removing-a-base-package" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1"> <a href="#removing-a-base-package" class="anchor-heading" aria-labelledby="removing-a-base-package" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Removing a base package<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">移除基本包</font></font></font></h3><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">You can also just simply remove a base package with <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree override remove &lt;pkg&gt;</code>. It will still be present in the underlying OSTree repository in <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">/ostree/repo</code>, but it will not be visible in the generated derived commit.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">您也可以使用 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree override remove &lt;pkg&gt;</code> 简单地移除基础包。它仍然存在于底层的 OSTree 存储库中 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">/ostree/repo</code> ，但在生成的派生提交中不可见。</font></font></font></p><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Similar to the <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">override replace</code> case, using <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree override reset</code> will undo the change.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">与 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">override replace</code> 情况类似，使用 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">rpm-ostree override reset</code> 将撤消更改。</font></font></font></p><h2 id="filesystem-layout" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1"> <a href="#filesystem-layout" class="anchor-heading" aria-labelledby="filesystem-layout" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Filesystem layout<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">文件系统布局</font></font></font></h2><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">The only writable directories are <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">/etc</code> and <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">/var</code>. In particular, <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">/usr</code> has a read-only bind mount at all times. Any data in <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">/var</code> is never touched, and is shared across upgrades.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">唯一可写的目录是 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">/etc</code> 和 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">/var</code> 。特别是， <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">/usr</code> 始终具有只读绑定挂载。 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">/var</code> 中的任何数据都不会被触及，并且在升级过程中保持共享。</font></font></font></p><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">At upgrade time, the process takes the <em data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">new default</em> <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">/etc</code>, and adds your changes on top. This means that upgrades will receive new default files in <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">/etc</code>, which is quite a critical feature.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在升级时，该过程采用新的默认 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">/etc</code> ，并在其上添加您的更改。这意味着升级将在 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">/etc</code> 中接收新的默认文件，这是一个非常关键的功能。</font></font></font></p><p data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">For more information, see <a href="https://ostreedev.github.io/ostree/adapting-existing/" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">OSTree: Adapting</a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">欲了解更多信息，请参阅 OSTree: Adapting。</font></font></font></p><h2 id="operating-system-changes" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1"> <a href="#operating-system-changes" class="anchor-heading" aria-labelledby="operating-system-changes" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Operating system changes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">操作系统更改</font></font></font></h2><ul data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">The RPM database is stored in <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">/usr/share/rpm</code>, and is immutable.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">RPM 数据库存储在 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">/usr/share/rpm</code> 中，且不可变。</font></font></font></li><li data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">A package <a href="https://github.com/aperezdc/nss-altfiles" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">nss-altfiles</a> is required, and the system password database is stored in <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">/usr/lib/passwd</code>. Similar for the group database. This might change in the future; see <a href="https://github.com/projectatomic/rpm-ostree/issues/49" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">this issue</a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">需要一个包 nss-altfiles，并且系统密码数据库存储在 <code class="language-plaintext highlighter-rouge" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">/usr/lib/passwd</code> 中。组数据库类似。这可能会在将来更改；请参阅此问题。</font></font></font></li></ul></main><hr><footer data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><p class="text-small text-grey-dk-100 mb-0" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Copyright © <a href="https://www.redhat.com" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">Red Hat, Inc.</a> and <a href="https://github.com/coreos" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0">others</a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">版权所有 © 红帽公司及其他。</font></font></font></p><div class="d-flex mt-2" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"><p class="text-small text-grey-dk-000 mb-0" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"> <a href="https://github.com/coreos/rpm-ostree/tree/main/docs/administrator-handbook.md" id="edit-this-page" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0" data-immersive-translate-paragraph="1">Edit this page on GitHub<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 GitHub 上编辑此页面</font></font></font></a></p></div></footer></div></div><div class="search-overlay" data-immersive-translate-walked="c6893716-9fd4-461d-8d87-ae1379081bc0"></div></div>
</body></html>