<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>sd_bus_message_append_array</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><a name="sd_bus_message_append_array" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"></a><div class="titlepage" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"></div><div class="refnamediv" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><h2 data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1">sd_bus_message_append_array, sd_bus_message_append_array_memfd, sd_bus_message_append_array_iovec, sd_bus_message_append_array_space — Append an array of fields to a D-Bus
    message<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">sd_bus_message_append_array，sd_bus_message_append_array_memfd，sd_bus_message_append_array_iovec，sd_bus_message_append_array_space — 将一组字段附加到 D-Bus 消息</font></font></font></p></div><div class="refsynopsisdiv" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><h2 data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">概要</font></font></font></h2><div class="funcsynopsis"><pre class="funcsynopsisinfo">#include &lt;systemd/sd-bus.h&gt;</pre><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int sd_bus_message_append_array(</code></td><td>sd_bus_message *<var class="pdparam">m</var>, </td></tr><tr><td>&nbsp;</td><td>char <var class="pdparam">type</var>, </td></tr><tr><td>&nbsp;</td><td>void *<var class="pdparam">ptr</var>, </td></tr><tr><td>&nbsp;</td><td>size_t <var class="pdparam">size</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int sd_bus_message_append_array_memfd(</code></td><td>sd_bus_message *<var class="pdparam">m</var>, </td></tr><tr><td>&nbsp;</td><td>char <var class="pdparam">type</var>, </td></tr><tr><td>&nbsp;</td><td>int <var class="pdparam">memfd</var>, </td></tr><tr><td>&nbsp;</td><td>uint64_t <var class="pdparam">offset</var>, </td></tr><tr><td>&nbsp;</td><td>uint64_t <var class="pdparam">size</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int sd_bus_message_append_array_iovec(</code></td><td>sd_bus_message *<var class="pdparam">m</var>, </td></tr><tr><td>&nbsp;</td><td>char <var class="pdparam">type</var>, </td></tr><tr><td>&nbsp;</td><td>const struct iovec *<var class="pdparam">iov</var>, </td></tr><tr><td>&nbsp;</td><td>unsigned <var class="pdparam">n</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int sd_bus_message_append_array_space(</code></td><td>sd_bus_message *<var class="pdparam">m</var>, </td></tr><tr><td>&nbsp;</td><td>char <var class="pdparam">type</var>, </td></tr><tr><td>&nbsp;</td><td>size_t <var class="pdparam">size</var>, </td></tr><tr><td>&nbsp;</td><td>void **<var class="pdparam">ptr</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div></div></div><div class="refsect1" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><a name="id-1.5" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"></a><h2 id="Description" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1">The <code class="function" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">sd_bus_message_append_array()</code>
    function appends an array to a D-Bus message
    <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">m</code></em>. A container will be opened, the array
    contents appended, and the container closed. The parameter
    <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">type</code></em> determines how the pointer
    <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">p</code></em> is interpreted.
    <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">type</code></em> must be one of the "trivial" types
    "<code class="literal" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">y</code>", "<code class="literal" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">n</code>", "<code class="literal" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">q</code>",
    "<code class="literal" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">i</code>", "<code class="literal" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">u</code>", "<code class="literal" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">x</code>",
    "<code class="literal" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">t</code>", "<code class="literal" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">d</code>" (but not
    "<code class="literal" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">b</code>"), as defined by the <a class="ulink" href="https://dbus.freedesktop.org/doc/dbus-specification.html#basic-types#basic-types" target="_top" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">Basic
    D-Bus Types</a> section of the D-Bus specification, and listed in
    <a href="sd_bus_message_append_basic.html#" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><span class="citerefentry" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><span class="refentrytitle" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">sd_bus_message_append_basic</span>(3)</span></a>.
    Pointer <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">p</code></em> must point to an array of size
    <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">size</code></em> bytes containing items of the
    respective type. Size <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">size</code></em> must be a
    multiple of the size of the type <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">type</code></em>. As a
    special case, <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">p</code></em> may be
    <code class="constant" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">NULL</code>, if <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">size</code></em> is 0.
    The memory pointed to by <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">p</code></em> is copied into
    the memory area containing the message and stays in possession of
    the caller. The caller may hence freely change the data after this
    call without affecting the message the array was appended
    to.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">函数 <code class="function" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">sd_bus_message_append_array()</code> 将一个数组附加到 D-Bus 消息 <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">m</code> 。将打开一个容器，附加数组内容，然后关闭容器。参数 <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">type</code> 确定指针 <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">p</code> 的解释方式。 <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">type</code> 必须是“trivial”类型之一“ <code class="literal" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">y</code> ”，“ <code class="literal" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">n</code> ”，“ <code class="literal" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">q</code> ”，“ <code class="literal" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">i</code> ”，“ <code class="literal" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">u</code> ”，“ <code class="literal" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">x</code> ”，“ <code class="literal" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">t</code> ”，“ <code class="literal" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">d</code> ”（但不是“ <code class="literal" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">b</code> ”），如 D-Bus 规范的基本 D-Bus 类型部分中定义的，并在 sd_bus_message_append_basic(3) 中列出。指针 <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">p</code> 必须指向一个大小为 <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">size</code> 字节的数组，其中包含相应类型的项。大小 <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">size</code> 必须是类型 <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">type</code> 的大小的倍数。作为特例， <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">p</code> 可以是 <code class="constant" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">NULL</code> ，如果 <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">size</code> 为 0。指针 <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">p</code> 指向的内存被复制到包含消息的内存区域中，并由调用者拥有。因此，在此调用之后，调用者可以自由更改数据，而不会影响附加到数组的消息。</font></font></font></p><p data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1">The <code class="function" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">sd_bus_message_append_array_memfd()</code>
    function appends an array of a trivial type to message
    <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">m</code></em>, similar to
    <code class="function" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">sd_bus_message_append_array()</code>. The contents
    of the memory file descriptor <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">memfd</code></em>
    starting at the specified offset and of the specified size is
    used as the contents of the array. The offset and size must be a
    multiple of the size of the type
    <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">type</code></em>. However, as a special exception, if
    the offset is specified as zero and the size specified as
    UINT64_MAX the full memory file descriptor contents is used. The
    memory file descriptor is sealed by this call if it has not been
    sealed yet, and cannot be modified after this call. See
    <a href="https://man7.org/linux/man-pages/man2/memfd_create.2.html" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><span class="citerefentry" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><span class="refentrytitle" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">memfd_create</span>(2)</span></a>
    for details about memory file descriptors. Appending arrays with
    memory file descriptors enables efficient zero-copy data transfer,
    as the memory file descriptor may be passed as-is to the
    destination, without copying the memory in it to the destination
    process. Not all protocol transports support passing memory file
    descriptors between participants, in which case this call will
    automatically fall back to copying. Also, as memory file
    descriptor passing is inefficient for smaller amounts of data,
    copying might still be enforced even where memory file descriptor
    passing is supported.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">sd_bus_message_append_array_memfd()</code> 函数将一个微不足道类型的数组附加到消息 <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">m</code> ，类似于 <code class="function" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">sd_bus_message_append_array()</code> 。从指定偏移和指定大小开始使用内存文件描述符 <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">memfd</code> 的内容作为数组的内容。偏移和大小必须是类型 <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">type</code> 的大小的倍数。然而，作为特殊例外，如果将偏移指定为零并将大小指定为 UINT64_MAX，则将使用完整的内存文件描述符内容。如果尚未封存内存文件描述符，则通过此调用封存，并且此调用后无法修改。有关内存文件描述符的详细信息，请参阅 memfd_create(2)。使用内存文件描述符附加数组可实现高效的零拷贝数据传输，因为内存文件描述符可以原样传递到目的地，而无需将其中的内存复制到目的进程。并非所有协议传输都支持在参与者之间传递内存文件描述符，在这种情况下，此调用将自动退回到复制。此外，对于较小量的数据，内存文件描述符传递效率低下，即使支持内存文件描述符传递，复制仍可能被强制执行。</font></font></font></p><p data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1">The <code class="function" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">sd_bus_message_append_array_iovec()</code>
    function appends an array of a trivial type to the message
    <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">m</code></em>, similar to
    <code class="function" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">sd_bus_message_append_array()</code>. Contents of
    the I/O vector array <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">iov</code></em> are used as the
    contents of the array. The total size of
    <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">iov</code></em> payload (the sum of
    <em class="structfield" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">iov_len</code></em> fields) must be a multiple of
    the size of the type <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">type</code></em>. The
    <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">iov</code></em> argument must point to
    <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">n</code></em> I/O vector structures. Each structure may
    have the <span class="structname" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">iov_base</span> field set, in which
    case the memory pointed to will be copied into the message, or
    unset (set to zero), in which case a block of zeros of length
    <span class="structname" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">iov_len</span> bytes will be inserted. The
    memory pointed at by <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">iov</code></em> may be changed
    after this call.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">sd_bus_message_append_array_iovec()</code> 函数将一个平凡类型的数组附加到消息 <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">m</code> ，类似于 <code class="function" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">sd_bus_message_append_array()</code> 。I/O 向量数组 <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">iov</code> 的内容将用作数组的内容。有效负载 <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">iov</code> 的总大小（ <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">iov_len</code> 字段的总和）必须是类型 <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">type</code> 的大小的倍数。 <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">iov</code> 参数必须指向 <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">n</code> 个 I/O 向量结构。每个结构可能已设置 iov_base 字段，此时指向的内存将被复制到消息中，或未设置（设置为零），此时将插入长度为 iov_len 字节的零块。 <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">iov</code> 指向的内存在此调用后可能会更改。</font></font></font></p><p data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1">The <code class="function" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">sd_bus_message_append_array_space()</code>
    function appends space for an array of a trivial type to message
    <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">m</code></em>.  It behaves the same as
    <code class="function" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">sd_bus_message_append_array()</code>, but instead of
    copying items to the message, it returns a pointer to the
    destination area to the caller in pointer
    <em class="parameter" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">p</code></em>. The caller should subsequently write the
    array contents to this memory. Modifications to the memory
    pointed to should only occur until the next operation on the bus
    message is invoked. Most importantly, the memory should not be
    altered anymore when another field has been added to the message
    or the message has been sealed.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">" <code class="function" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">sd_bus_message_append_array_space()</code> 函数为消息 <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">m</code> 附加一个平凡类型的数组的空间。它的行为与 <code class="function" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">sd_bus_message_append_array()</code> 相同，但不是将项目复制到消息中，而是将目的地区域的指针返回给调用者，指针为 <code data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">p</code> 。调用者应随后将数组内容写入此内存。指向的内存的修改应仅发生在调用总线消息的下一个操作之前。最重要的是，当消息添加了另一个字段或消息已被封装时，不应再更改内存。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><a name="id-1.6" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"></a><h2 id="Return Value" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1">Return Value<a class="headerlink" title="Permalink to this headline" href="#Return%20Value" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">返回值</font></font></font></h2><p data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1">On success, these calls return 0 or a positive integer. On failure, they return a negative
    errno-style error code.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">成功时，这些调用返回 0 或正整数。失败时，它们返回负的 errno 风格的错误代码。</font></font></font></p><div class="refsect2" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><a name="errors" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"></a><h3 id="Errors" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1">Errors<a class="headerlink" title="Permalink to this headline" href="#Errors" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">错误</font></font></font></h3><p data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1">Returned errors may indicate the following problems:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">返回的错误可能表示以下问题：</font></font></font></p><div class="variablelist" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><dl class="variablelist" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><dt id="-EINVAL" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code class="constant" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">-EINVAL</code></span><a class="headerlink" title="Permalink to this term" href="#-EINVAL" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">¶</a></dt><dd data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><p data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1">Specified parameter is invalid.
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定的参数无效。</font></font></font></p></dd><dt id="-EPERM" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code class="constant" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">-EPERM</code></span><a class="headerlink" title="Permalink to this term" href="#-EPERM" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">¶</a></dt><dd data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><p data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1">Message has been sealed.
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">消息已被封存。</font></font></font></p></dd><dt id="-ESTALE" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code class="constant" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">-ESTALE</code></span><a class="headerlink" title="Permalink to this term" href="#-ESTALE" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">¶</a></dt><dd data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><p data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1">Message is in invalid state.
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">消息处于无效状态。</font></font></font></p></dd><dt id="-ENXIO" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code class="constant" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">-ENXIO</code></span><a class="headerlink" title="Permalink to this term" href="#-ENXIO" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">¶</a></dt><dd data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><p data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1">Message cannot be appended to.
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">无法追加消息。</font></font></font></p></dd><dt id="-ENOMEM" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><code class="constant" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">-ENOMEM</code></span><a class="headerlink" title="Permalink to this term" href="#-ENOMEM" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">¶</a></dt><dd data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><p data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1">Memory allocation failed.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内存分配失败。</font></font></font></p></dd></dl></div></div></div><div class="refsect1" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><a name="id-1.7" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"></a><h2 id="Notes" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1">Notes<a class="headerlink" title="Permalink to this headline" href="#Notes" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">笔记 ¶</font></font></font></h2><p data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1"><a name="pkgconfig-text" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"></a>Functions described here are available as a shared
  library, which can be compiled against and linked to with the
  <code class="constant" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">libsystemd</code>&nbsp;<a href="http://linux.die.net/man/1/pkg-config" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><span class="citerefentry" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><span class="refentrytitle" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">pkg-config</span>(1)</span></a>
  file.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处描述的函数可作为共享库使用，可以与 <code class="constant" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">libsystemd</code> pkg-config(1) 文件一起编译并链接。</font></font></font></p><p data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1"><a name="getenv" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"></a>The code described here uses
<a href="https://man7.org/linux/man-pages/man3/getenv.3.html" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><span class="citerefentry" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><span class="refentrytitle" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">getenv</span>(3)</span></a>,
which is declared to be not multi-thread-safe. This means that the code calling the functions described
here must not call
<a href="https://man7.org/linux/man-pages/man3/setenv.3.html" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><span class="citerefentry" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><span class="refentrytitle" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">setenv</span>(3)</span></a>
from a parallel thread. It is recommended to only do calls to <code class="function" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">setenv()</code>
from an early phase of the program when no other threads have been started.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处描述的代码使用了 getenv(3)，该函数被声明为不支持多线程安全。这意味着调用此处描述的函数的代码不能从并行线程中调用 setenv(3)。建议仅在程序的早期阶段（没有启动其他线程时）调用 <code class="function" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">setenv()</code> 。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><a name="id-1.8" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"></a><h2 id="See Also" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">另请参阅 ¶</font></font></font></h2><p data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c" data-immersive-translate-paragraph="1">
      <a href="systemd.html#" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><span class="citerefentry" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><span class="refentrytitle" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">systemd</span>(1)</span></a>,
      <a href="sd-bus.html#" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><span class="citerefentry" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><span class="refentrytitle" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">sd-bus</span>(3)</span></a>,
      <a href="sd_bus_message_append.html#" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><span class="citerefentry" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><span class="refentrytitle" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">sd_bus_message_append</span>(3)</span></a>,
      <a href="sd_bus_message_append_basic.html#" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><span class="citerefentry" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><span class="refentrytitle" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">sd_bus_message_append_basic</span>(3)</span></a>,
      <a href="https://man7.org/linux/man-pages/man2/memfd_create.2.html" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><span class="citerefentry" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c"><span class="refentrytitle" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">memfd_create</span>(2)</span></a>,
      <a class="ulink" href="https://dbus.freedesktop.org/doc/dbus-specification.html" target="_top" data-immersive-translate-walked="040d7484-3c4e-45bd-86e7-b36f84c8084c">The D-Bus specification</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">systemd(1), sd-bus(3), sd_bus_message_append(3), sd_bus_message_append_basic(3), memfd_create(2), D-Bus 规范</font></font></font>
    </p></div></div>
</body></html>