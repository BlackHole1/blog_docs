<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>sd_notify</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><a name="sd_notify" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a><div class="titlepage" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></div><div class="refnamediv" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><h2 data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">sd_notify, sd_notifyf, sd_pid_notify, sd_pid_notifyf, sd_pid_notify_with_fds, sd_pid_notifyf_with_fds, sd_notify_barrier, sd_pid_notify_barrier — Notify service manager about start-up completion and other service status changes<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">sd_notify，sd_notifyf，sd_pid_notify，sd_pid_notifyf，sd_pid_notify_with_fds，sd_pid_notifyf_with_fds，sd_notify_barrier，sd_pid_notify_barrier — 通知服务管理器有关启动完成和其他服务状态更改</font></font></font></p></div><div class="refsynopsisdiv" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><h2 data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">概要</font></font></font></h2><div class="funcsynopsis"><pre class="funcsynopsisinfo">#include &lt;systemd/sd-daemon.h&gt;</pre><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_notify</b>(</code></td><td>int <var class="pdparam">unset_environment</var>, </td></tr><tr><td>&nbsp;</td><td>const char *<var class="pdparam">state</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_notifyf</b>(</code></td><td>int <var class="pdparam">unset_environment</var>, </td></tr><tr><td>&nbsp;</td><td>const char *<var class="pdparam">format</var>, </td></tr><tr><td>&nbsp;</td><td>…<code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_pid_notify</b>(</code></td><td>pid_t <var class="pdparam">pid</var>, </td></tr><tr><td>&nbsp;</td><td>int <var class="pdparam">unset_environment</var>, </td></tr><tr><td>&nbsp;</td><td>const char *<var class="pdparam">state</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_pid_notifyf</b>(</code></td><td>pid_t <var class="pdparam">pid</var>, </td></tr><tr><td>&nbsp;</td><td>int <var class="pdparam">unset_environment</var>, </td></tr><tr><td>&nbsp;</td><td>const char *<var class="pdparam">format</var>, </td></tr><tr><td>&nbsp;</td><td>…<code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_pid_notify_with_fds</b>(</code></td><td>pid_t <var class="pdparam">pid</var>, </td></tr><tr><td>&nbsp;</td><td>int <var class="pdparam">unset_environment</var>, </td></tr><tr><td>&nbsp;</td><td>const char *<var class="pdparam">state</var>, </td></tr><tr><td>&nbsp;</td><td>const int *<var class="pdparam">fds</var>, </td></tr><tr><td>&nbsp;</td><td>unsigned <var class="pdparam">n_fds</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_pid_notifyf_with_fds</b>(</code></td><td>pid_t <var class="pdparam">pid</var>, </td></tr><tr><td>&nbsp;</td><td>int <var class="pdparam">unset_environment</var>, </td></tr><tr><td>&nbsp;</td><td>const int *<var class="pdparam">fds</var>, </td></tr><tr><td>&nbsp;</td><td>size_t <var class="pdparam">n_fds</var>, </td></tr><tr><td>&nbsp;</td><td>const char *<var class="pdparam">format</var>, </td></tr><tr><td>&nbsp;</td><td>…<code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_notify_barrier</b>(</code></td><td>int <var class="pdparam">unset_environment</var>, </td></tr><tr><td>&nbsp;</td><td>uint64_t <var class="pdparam">timeout</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_pid_notify_barrier</b>(</code></td><td>pid_t <var class="pdparam">pid</var>, </td></tr><tr><td>&nbsp;</td><td>int <var class="pdparam">unset_environment</var>, </td></tr><tr><td>&nbsp;</td><td>uint64_t <var class="pdparam">timeout</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div></div></div><div class="refsect1" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><a name="id-1.5" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a><h2 id="Description" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify()</code> may be called by a service to notify the service manager about
    state changes. It can be used to send arbitrary information, encoded in an environment-block-like string.
    Most importantly, it can be used for start-up or reload completion notifications.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify()</code> 可能被服务调用，通知服务管理器有关状态更改的信息。它可用于发送编码在类似环境块的字符串中的任意信息。最重要的是，它可用于启动或重新加载完成通知。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">If the <em class="parameter" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><code data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">unset_environment</code></em> parameter is non-zero,
    <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify()</code> will unset the <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">$NOTIFY_SOCKET</code> environment variable
    before returning (regardless of whether the function call itself succeeded or not). Further calls to
    <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify()</code> will then fail, and the variable is no longer inherited by child
    processes.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果 <code data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">unset_environment</code> 参数非零，则 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify()</code> 将在返回之前取消设置 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">$NOTIFY_SOCKET</code> 环境变量（无论函数调用本身是否成功）。然后，进一步调用 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify()</code> 将失败，并且该变量不再被子进程继承。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">The <em class="parameter" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><code data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">state</code></em> parameter should contain a newline-separated list of variable
    assignments, similar in style to an environment block. A trailing newline is implied if none is
    specified. The string may contain any kind of variable assignments, but see the next section
    for a list of assignments understood by the service manager.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">state</code> 参数应包含一个类似于环境块的换行分隔的变量赋值列表。如果未指定换行符，则暗含一个尾随换行符。该字符串可以包含任何类型的变量赋值，但请参阅下一节以获取服务管理器理解的赋值列表。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Note that systemd will accept status data sent from a service only if the
    <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">NotifyAccess=</code> option is correctly set in the service definition file. See
    <a href="systemd.service.html#" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">systemd.service</span>(5)</span></a> for
    details.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，只有在服务定义文件中正确设置 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">NotifyAccess=</code> 选项时，systemd 才会接受从服务发送的状态数据。有关详细信息，请参阅 systemd.service(5)。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Note that <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify()</code> notifications may be attributed to units correctly only
    if either the sending process is still around at the time PID 1 processes the message, or if the sending
    process is explicitly runtime-tracked by the service manager. The latter is the case if the service
    manager originally forked off the process, i.e. on all processes that match
    <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">NotifyAccess=</code><code class="option" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">main</code> or
    <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">NotifyAccess=</code><code class="option" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">exec</code>. Conversely, if an auxiliary process of the unit
    sends an <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify()</code> message and immediately exits, the service manager might not be
    able to properly attribute the message to the unit, and thus will ignore it, even if
    <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">NotifyAccess=</code><code class="option" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">all</code> is set for it.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，仅当发送进程在 PID 1 处理消息时仍然存在，或者发送进程被服务管理器明确地运行跟踪时，才能正确地将 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify()</code> 通知归因于单位。如果服务管理器最初分叉出该进程，即对所有匹配 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">NotifyAccess=</code> <code class="option" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">main</code> 或 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">NotifyAccess=</code> <code class="option" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">exec</code> 的进程，后者就是这种情况。相反，如果单位的辅助进程发送 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify()</code> 消息并立即退出，则服务管理器可能无法正确地将消息归因于单位，因此将忽略它，即使为其设置了 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">NotifyAccess=</code> <code class="option" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">all</code> 也是如此。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Hence, to eliminate all race conditions involving lookup of the client's unit and attribution of
    notifications to units correctly, <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify_barrier()</code> may be used. This call acts as
    a synchronization point and ensures all notifications sent before this call have been picked up by the
    service manager when it returns successfully. Use of <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify_barrier()</code> is needed
    for clients which are not invoked by the service manager, otherwise this synchronization mechanism is
    unnecessary for attribution of notifications to the unit.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">因此，为了消除涉及客户端单位查找和正确归因通知给单位的所有竞争条件，可以使用 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify_barrier()</code> 。此调用充当同步点，并确保在成功返回时已捕获此调用之前发送的所有通知。对于不是由服务管理器调用的客户端，需要使用 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify_barrier()</code> ，否则此同步机制对于将通知归因于单位是不必要的。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notifyf()</code> is similar to <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify()</code> but takes a
    <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">printf()</code>-like format string plus arguments.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notifyf()</code> 类似于 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify()</code> ，但采用类似 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">printf()</code> 的格式字符串加参数。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notify()</code> and <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notifyf()</code> are similar to
    <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify()</code> and <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notifyf()</code> but take a process ID (PID) to use
    as originating PID for the message as first argument. This is useful to send notification messages on
    behalf of other processes, provided the appropriate privileges are available. If the PID argument is
    specified as 0, the process ID of the calling process is used, in which case the calls are fully
    equivalent to <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify()</code> and <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notifyf()</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notify()</code> 和 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notifyf()</code> 类似于 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify()</code> 和 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notifyf()</code> ，但接受一个进程 ID（PID）作为消息的起始 PID 的第一个参数。这对于代表其他进程发送通知消息很有用，前提是具有适当的特权。如果 PID 参数指定为 0，则使用调用进程的进程 ID，在这种情况下，调用完全等同于 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify()</code> 和 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notifyf()</code> 。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notify_with_fds()</code> is similar to <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notify()</code>
    but takes an additional array of file descriptors. These file descriptors are sent along the notification
    message to the service manager. This is particularly useful for sending "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDSTORE=1</code>"
    messages, as described above. The additional arguments are a pointer to the file descriptor array plus
    the number of file descriptors in the array. If the number of file descriptors is passed as 0, the call
    is fully equivalent to <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notify()</code>, i.e. no file descriptors are passed. Note
    that file descriptors sent to the service manager on a message without "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDSTORE=1</code>" are
    immediately closed on reception.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notify_with_fds()</code> 类似于 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notify()</code> ，但接受一个额外的文件描述符数组。这些文件描述符将随通知消息发送到服务管理器。这对于发送“ <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDSTORE=1</code> ”消息特别有用，如上所述。额外的参数是指向文件描述符数组的指针以及数组中的文件描述符数量。如果文件描述符数量传递为 0，则调用完全等同于 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notify()</code> ，即不传递文件描述符。请注意，在没有“ <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDSTORE=1</code> ”的消息上发送到服务管理器的文件描述符将立即关闭。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notifyf_with_fds()</code> is a combination of
    <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notify_with_fds()</code> and <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notifyf()</code>, i.e. it accepts both
    a PID and a set of file descriptors as input, and processes a format string to generate the state
    string.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notifyf_with_fds()</code> 是 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notify_with_fds()</code> 和 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notifyf()</code> 的组合，即它接受 PID 和一组文件描述符作为输入，并处理格式字符串以生成状态字符串。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify_barrier()</code> allows the caller to synchronize against reception of
    previously sent notification messages and uses the <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">BARRIER=1</code> command. It takes a
    relative <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">timeout</code> value in microseconds which is passed to
    <a href="https://man7.org/linux/man-pages/man2/ppoll.2.html" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">ppoll</span>(2)</span></a>. A value of UINT64_MAX is interpreted as infinite timeout.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify_barrier()</code> 允许调用者根据先前发送的通知消息的接收进行同步，并使用 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">BARRIER=1</code> 命令。它接受以微秒为单位的相对 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">timeout</code> 值，该值传递给 ppoll(2)。UINT64_MAX 的值被解释为无限超时。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notify_barrier()</code> is just like <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify_barrier()</code>,
    but allows specifying the originating PID for the notification message.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notify_barrier()</code> 就像 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify_barrier()</code> 一样，但允许指定通知消息的来源 PID。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><a name="id-1.6" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a><h2 id="Well-known assignments" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Well-known assignments<a class="headerlink" title="Permalink to this headline" href="#Well-known%20assignments" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">知名分配</font></font></font></h2><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">The following assignments have a defined meaning:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以下的赋值具有明确定义的含义：</font></font></font></p><div class="variablelist" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><dl class="variablelist" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><dt id="READY=1" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">READY=1</span><a class="headerlink" title="Permalink to this term" href="#READY=1" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">READY=1</font></font></font></dt><dd data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Tells the service manager that service startup is finished, or the service finished
        re-loading its configuration. This is only used by systemd if the service definition file has
        <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">Type=notify</code> or <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">Type=notify-reload</code> set. Since there is little
        value in signaling non-readiness, the only value services should send is "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">READY=1</code>"
        (i.e.  "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">READY=0</code>" is not defined).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">告诉服务管理器服务启动已完成，或服务已完成重新加载其配置。只有在服务定义文件中设置 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">Type=notify</code> 或 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">Type=notify-reload</code> 时 systemd 才会使用此选项。由于发出非准备就绪信号的价值很小，服务应发送的唯一值是" <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">READY=1</code> "（即" <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">READY=0</code> "未定义）。</font></font></font></p></dd><dt id="RELOADING=1" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">RELOADING=1</span><a class="headerlink" title="Permalink to this term" href="#RELOADING=1" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">重新加载=1 ¶</font></font></font></dt><dd data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Tells the service manager that the service is beginning to reload its configuration.
        This is useful to allow the service manager to track the service's internal state, and present it to
        the user. Note that a service that sends this notification must also send a
        "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">READY=1</code>" notification when it completed reloading its configuration. Reloads the
        service manager is notified about with this mechanisms are propagated in the same way as they are
        when originally initiated through the service manager. This message is particularly relevant for
        <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">Type=notify-reload</code> services, to inform the service manager that the request to
        reload the service has been received and is now being processed.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">告诉服务管理器服务正在开始重新加载其配置。这对于允许服务管理器跟踪服务的内部状态并向用户呈现状态非常有用。请注意，发送此通知的服务在完成重新加载配置时还必须发送“ <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">READY=1</code> ”通知。通过此机制通知服务管理器的重新加载与通过服务管理器最初发起时的方式相同地传播。此消息对于 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">Type=notify-reload</code> 服务特别重要，以通知服务管理器已收到重新加载服务的请求并正在处理。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><a name="v217" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a>Added in version 217.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 217 中添加。</font></font></font></p></dd><dt id="STOPPING=1" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">STOPPING=1</span><a class="headerlink" title="Permalink to this term" href="#STOPPING=1" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">停止=1 ¶</font></font></font></dt><dd data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Tells the service manager that the service is beginning its shutdown. This is useful
        to allow the service manager to track the service's internal state, and present it to the user.
        <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">告诉服务管理器服务正在开始关闭。这对于允许服务管理器跟踪服务的内部状态并向用户展示非常有用。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><a name="v217" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a>Added in version 217.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加于版本 217。</font></font></font></p></dd><dt id="MONOTONIC_USEC=…" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">MONOTONIC_USEC=…</span><a class="headerlink" title="Permalink to this term" href="#MONOTONIC_USEC=%E2%80%A6" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">单调_USEC=… ¶</font></font></font></dt><dd data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">A field carrying the monotonic timestamp (as per
        <code class="constant" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">CLOCK_MONOTONIC</code>) formatted in decimal in μs, when the notification message was
        generated by the client. This is typically used in combination with "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">RELOADING=1</code>",
        to allow the service manager to properly synchronize reload cycles. See
        <a href="systemd.service.html#" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">systemd.service</span>(5)</span></a>
        for details, specifically "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">Type=notify-reload</code>".<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一个字段，以十进制格式显示为μs 的单调时间戳（根据 <code class="constant" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">CLOCK_MONOTONIC</code> ），表示客户端生成通知消息的时间。通常与" <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">RELOADING=1</code> "结合使用，以允许服务管理器正确同步重新加载周期。有关详细信息，请参阅 systemd.service(5)，特别是" <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">Type=notify-reload</code> "。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><a name="v253" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a>Added in version 253.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 253 中添加。</font></font></font></p></dd><dt id="STATUS=…" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">STATUS=…</span><a class="headerlink" title="Permalink to this term" href="#STATUS=%E2%80%A6" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">状态=…</font></font></font></dt><dd data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Passes a single-line UTF-8 status string back to the service manager that describes
        the service state. This is free-form and can be used for various purposes: general state feedback,
        fsck-like programs could pass completion percentages and failing programs could pass a human-readable
        error message. Example: "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">STATUS=Completed 66% of file system check…</code>"<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将单行 UTF-8 状态字符串传递回描述服务状态的服务管理器。这是自由格式的，可用于各种目的：一般状态反馈，类似 fsck 的程序可以传递完成百分比，失败的程序可以传递人类可读的错误消息。示例：" <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">STATUS=Completed 66% of file system check…</code> "</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><a name="v233" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a>Added in version 233.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加于版本 233。</font></font></font></p></dd><dt id="NOTIFYACCESS=…" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">NOTIFYACCESS=…</span><a class="headerlink" title="Permalink to this term" href="#NOTIFYACCESS=%E2%80%A6" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">通知访问=…</font></font></font></dt><dd data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Reset the access to the service status notification socket during runtime, overriding
        <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">NotifyAccess=</code> setting in the service unit file. See
        <a href="systemd.service.html#" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">systemd.service</span>(5)</span></a>
        for details, specifically "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">NotifyAccess=</code>" for a list of accepted values.
        <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在运行时重置服务状态通知套接字的访问，覆盖服务单元文件中的 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">NotifyAccess=</code> 设置。有关详细信息，请参阅 systemd.service(5)，特别是“ <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">NotifyAccess=</code> ”以获取可接受的值列表。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><a name="v254" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a>Added in version 254.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加于版本 254。</font></font></font></p></dd><dt id="ERRNO=…" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">ERRNO=…</span><a class="headerlink" title="Permalink to this term" href="#ERRNO=%E2%80%A6" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a></dt><dd data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">If a service fails, the errno-style error code, formatted as string. Example:
        "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">ERRNO=2</code>" for ENOENT.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果服务失败，errno 风格的错误代码，格式化为字符串。例如：" <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">ERRNO=2</code> "表示 ENOENT。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><a name="v233" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a>Added in version 233.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加于版本 233。</font></font></font></p></dd><dt id="BUSERROR=…" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">BUSERROR=…</span><a class="headerlink" title="Permalink to this term" href="#BUSERROR=%E2%80%A6" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a></dt><dd data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">If a service fails, the D-Bus error-style error code. Example:
        "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">BUSERROR=org.freedesktop.DBus.Error.TimedOut</code>". Note that this assignment is
        currently not used by <span class="command" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><strong data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">systemd</strong></span>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果服务失败，D-Bus 错误样式错误代码。示例：" <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">BUSERROR=org.freedesktop.DBus.Error.TimedOut</code> "。请注意，systemd 目前未使用此赋值。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><a name="v233" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a>Added in version 233.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加于版本 233。</font></font></font></p></dd><dt id="EXIT_STATUS=…" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">EXIT_STATUS=…</span><a class="headerlink" title="Permalink to this term" href="#EXIT_STATUS=%E2%80%A6" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">退出状态=…</font></font></font></dt><dd data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">The exit status of a service or the manager itself. Note that
        <span class="command" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><strong data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">systemd</strong></span> currently does not consume this value when sent by services, so this
        assignment is only informational. The manager will send this notification to <span class="emphasis" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><em data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">its</em></span>
        notification socket, which may be used to to collect an exit status from the system (a container or
        VM) as it shuts down. For example,
        <a href="https://manpages.debian.org/unstable/mkosi/mkosi.1.en.html" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">mkosi</span>(1)</span></a>
        makes use of this. The value to return may be set via the
        <a href="systemctl.html#" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">systemctl</span>(1)</span></a>
        <span class="command" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><strong data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">exit</strong></span> verb.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">服务或管理器本身的退出状态。请注意，systemd 当前在服务发送时不会使用此值，因此此赋值仅供参考。管理器将向其通知套接字发送此通知，该套接字可用于在系统（容器或虚拟机）关闭时收集退出状态。例如，mkosi(1)就是利用这一点。可通过 systemctl(1) exit 命令设置要返回的值。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><a name="v254" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a>Added in version 254.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 254 中添加。</font></font></font></p></dd><dt id="MAINPID=…" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">MAINPID=…</span><a class="headerlink" title="Permalink to this term" href="#MAINPID=%E2%80%A6" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">主进程 ID（PID）… ¶</font></font></font></dt><dd data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">The main process ID (PID) of the service, in case the service manager did not fork
        off the process itself. Example: "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">MAINPID=4711</code>".<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">服务的主进程 ID（PID），如果服务管理器没有自行分叉进程。示例：" <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">MAINPID=4711</code> "。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><a name="v233" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a>Added in version 233.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 233 中添加。</font></font></font></p></dd><dt id="WATCHDOG=1" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">WATCHDOG=1</span><a class="headerlink" title="Permalink to this term" href="#WATCHDOG=1" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">WATCHDOG=1</font></font></font></dt><dd data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Tells the service manager to update the watchdog timestamp. This is the keep-alive
        ping that services need to issue in regular intervals if <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">WatchdogSec=</code> is enabled
        for it. See
        <a href="systemd.service.html#" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">systemd.service</span>(5)</span></a>
        for information how to enable this functionality and
        <a href="sd_watchdog_enabled.html#" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_watchdog_enabled</span>(3)</span></a>
        for the details of how the service can check whether the watchdog is enabled. <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">告诉服务管理器更新看门狗时间戳。这是服务需要定期发出的保持活动的 ping，如果为其启用了 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">WatchdogSec=</code> 。有关如何启用此功能的信息，请参阅 systemd.service(5)，有关服务如何检查看门狗是否已启用的详细信息，请参阅 sd_watchdog_enabled(3)。</font></font></font></p></dd><dt id="WATCHDOG=trigger" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">WATCHDOG=trigger</span><a class="headerlink" title="Permalink to this term" href="#WATCHDOG=trigger" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">WATCHDOG=trigger</font></font></font></dt><dd data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Tells the service manager that the service detected an internal error that should be
        handled by the configured watchdog options. This will trigger the same behaviour as if
        <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">WatchdogSec=</code> is enabled and the service did not send "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">WATCHDOG=1</code>"
        in time. Note that <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">WatchdogSec=</code> does not need to be enabled for
        "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">WATCHDOG=trigger</code>" to trigger the watchdog action. See
        <a href="systemd.service.html#" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">systemd.service</span>(5)</span></a>
        for information about the watchdog behavior. <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">告诉服务管理器，服务检测到应由配置的看门狗选项处理的内部错误。这将触发与启用 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">WatchdogSec=</code> 且服务未及时发送“ <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">WATCHDOG=1</code> ”时相同的行为。请注意，无需启用 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">WatchdogSec=</code> 即可触发看门狗操作中的“ <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">WATCHDOG=trigger</code> ”。有关看门狗行为的信息，请参阅 systemd.service(5)。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><a name="v243" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a>Added in version 243.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">自版本 243 中添加。</font></font></font></p></dd><dt id="WATCHDOG_USEC=…" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">WATCHDOG_USEC=…</span><a class="headerlink" title="Permalink to this term" href="#WATCHDOG_USEC=%E2%80%A6" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a></dt><dd data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Reset <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">watchdog_usec</code> value during runtime.  Notice that this is not
        available when using <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_event_set_watchdog()</code> or
        <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_watchdog_enabled()</code>.  Example :
        "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">WATCHDOG_USEC=20000000</code>"<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在运行时重置 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">watchdog_usec</code> 值。请注意，在使用 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_event_set_watchdog()</code> 或 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_watchdog_enabled()</code> 时不可用。示例：" <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">WATCHDOG_USEC=20000000</code> "</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><a name="v233" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a>Added in version 233.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 233 中。</font></font></font></p></dd><dt id="EXTEND_TIMEOUT_USEC=…" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">EXTEND_TIMEOUT_USEC=…</span><a class="headerlink" title="Permalink to this term" href="#EXTEND_TIMEOUT_USEC=%E2%80%A6" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a></dt><dd data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Tells the service manager to extend the startup, runtime or shutdown service timeout
        corresponding the current state. The value specified is a time in microseconds during which the
        service must send a new message. A service timeout will occur if the message isn't received, but only
        if the runtime of the current state is beyond the original maximum times of
        <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">TimeoutStartSec=</code>, <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">RuntimeMaxSec=</code>, and
        <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">TimeoutStopSec=</code>.  See
        <a href="systemd.service.html#" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">systemd.service</span>(5)</span></a>
        for effects on the service timeouts.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">告诉服务管理器根据当前状态延长启动、运行或关闭服务超时时间。指定的值是以微秒为单位的时间，在此期间服务必须发送新消息。如果未收到消息，将发生服务超时，但仅当当前状态的运行时间超过原始最大时间 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">TimeoutStartSec=</code> 、 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">RuntimeMaxSec=</code> 和 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">TimeoutStopSec=</code> 时。有关服务超时对服务的影响，请参阅 systemd.service(5)。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><a name="v236" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a>Added in version 236.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 236 中添加。</font></font></font></p></dd><dt id="FDSTORE=1" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDSTORE=1</span><a class="headerlink" title="Permalink to this term" href="#FDSTORE=1" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a></dt><dd data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Store file descriptors in the service manager. File descriptors sent this way will be
        held for the service by the service manager and will later be handed back using the usual file
        descriptor passing logic at the next start or restart of the service, see
        <a href="sd_listen_fds.html#" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_listen_fds</span>(3)</span></a>.
        Any open sockets and other file descriptors which should not be closed during a restart may be stored
        this way. When a service is stopped, its file descriptor store is discarded and all file descriptors
        in it are closed, except when overridden with <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FileDescriptorStorePreserve=</code>, see
        <a href="systemd.service.html#" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">systemd.service</span>(5)</span></a>.
        <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将文件描述符存储在服务管理器中。以这种方式发送的文件描述符将由服务管理器保存，并将在服务的下一次启动或重启时使用通常的文件描述符传递逻辑返回，参见 sd_listen_fds(3)。可以通过这种方式存储任何在重启期间不应关闭的打开套接字和其他文件描述符。当服务停止时，其文件描述符存储将被丢弃，并且其中的所有文件描述符都将被关闭，除非使用 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FileDescriptorStorePreserve=</code> 进行覆盖，参见 systemd.service(5)。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">The service manager will accept messages for a service only if its
        <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FileDescriptorStoreMax=</code> setting is non-zero (defaults to zero, see
        <a href="systemd.service.html#" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">systemd.service</span>(5)</span></a>).
        The service manager will set the <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">$FDSTORE</code> environment variable for services that
        have the file descriptor store enabled, see
        <a href="systemd.exec.html#" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">systemd.exec</span>(5)</span></a>.
        <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">服务管理器仅在其 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FileDescriptorStoreMax=</code> 设置为非零时（默认为零，参见 systemd.service(5)）才会接受服务的消息。对于启用了文件描述符存储的服务，服务管理器将为其设置 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">$FDSTORE</code> 环境变量，参见 systemd.exec(5)。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">If <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDPOLL=0</code> is not set and the file descriptors are pollable (see
        <a href="https://man7.org/linux/man-pages/man2/epoll_ctl.2.html" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">epoll_ctl</span>(2)</span></a>), then
        any <code class="constant" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">EPOLLHUP</code> or <code class="constant" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">EPOLLERR</code> event seen on them will result in
        their automatic removal from the store.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDPOLL=0</code> 未设置且文件描述符可轮询（参见 epoll_ctl(2)），则在其上看到任何 <code class="constant" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">EPOLLHUP</code> 或 <code class="constant" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">EPOLLERR</code> 事件将导致它们自动从存储中移除。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Multiple sets of file descriptors may be sent in separate messages, in which case the sets are
        combined. The service manager removes duplicate file descriptors (those pointing to the same object)
        before passing them to the service.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">多组文件描述符可以分别在不同的消息中发送，这些组将被合并。服务管理器在将文件描述符传递给服务之前会移除重复的文件描述符（指向相同对象的文件描述符）。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">This functionality should be used to implement services that can restart after an explicit
        request or a crash without losing state. Application state can either be serialized to a file in
        <code class="filename" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">/run/</code>, or better, stored in a
        <a href="https://man7.org/linux/man-pages/man2/memfd_create.2.html" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">memfd_create</span>(2)</span></a>
        memory file descriptor. Use <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notify_with_fds()</code> to send messages with
        "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDSTORE=1</code>". It is recommended to combine <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDSTORE=</code> with
        <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDNAME=</code> to make it easier to manage the stored file descriptors.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此功能应用于实现可以在明确请求或崩溃后重新启动而不丢失状态的服务。应用状态可以序列化到文件中 <code class="filename" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">/run/</code> ，或者更好地存储在 memfd_create(2) 内存文件描述符中。使用 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notify_with_fds()</code> 发送带有“ <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDSTORE=1</code> ”的消息。建议将 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDSTORE=</code> 与 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDNAME=</code> 结合使用，以便更容易管理存储的文件描述符。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">For further information on the file descriptor store see the <a class="ulink" href="https://systemd.io/FILE_DESCRIPTOR_STORE" target="_top" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">File Descriptor Store</a> overview.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">有关文件描述符存储的更多信息，请参阅文件描述符存储概述。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><a name="v219" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a>Added in version 219.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 219 中添加。</font></font></font></p></dd><dt id="FDSTOREREMOVE=1" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDSTOREREMOVE=1</span><a class="headerlink" title="Permalink to this term" href="#FDSTOREREMOVE=1" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">FDSTOREREMOVE=1</font></font></font></dt><dd data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Removes file descriptors from the file descriptor store. This field needs to be
        combined with <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDNAME=</code> to specify the name of the file descriptors to
        remove.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从文件描述符存储中删除文件描述符。此字段需要与 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDNAME=</code> 结合使用，以指定要删除的文件描述符的名称。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><a name="v236" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a>Added in version 236.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 236 中添加。</font></font></font></p></dd><dt id="FDNAME=…" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDNAME=…</span><a class="headerlink" title="Permalink to this term" href="#FDNAME=%E2%80%A6" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a></dt><dd data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">When used in combination with <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDSTORE=1</code>, specifies a name for the
        submitted file descriptors. When used with <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDSTOREREMOVE=1</code>, specifies the name for
        the file descriptors to remove. This name is passed to the service during activation, and may be
        queried using
        <a href="sd_listen_fds_with_names.html#" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_listen_fds_with_names</span>(3)</span></a>.
        File descriptors submitted without this field will be called "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">stored</code>".<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">与 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDSTORE=1</code> 结合使用时，指定提交的文件描述符的名称。与 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDSTOREREMOVE=1</code> 一起使用时，指定要移除的文件描述符的名称。此名称在激活期间传递给服务，并可以使用 sd_listen_fds_with_names(3)查询。未使用此字段提交的文件描述符将被称为" <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">stored</code> "。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">The name may consist of arbitrary ASCII characters except control characters or
        "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">:</code>". It may not be longer than 255 characters. If a submitted name does not follow
        these restrictions, it is ignored.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称可以由任意 ASCII 字符组成，但不能包含控制字符或 " <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">:</code> "。长度不得超过 255 个字符。如果提交的名称不符合这些限制，则将被忽略。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Note that if multiple file descriptors are submitted in a single message, the specified name
        will be used for all of them. In order to assign different names to submitted file descriptors,
        submit them in separate messages.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，如果在单个消息中提交了多个文件描述符，则指定的名称将用于所有文件描述符。为了为提交的文件描述符分配不同的名称，请在单独的消息中提交它们。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><a name="v233" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a>Added in version 233.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加于版本 233。</font></font></font></p></dd><dt id="FDPOLL=0" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDPOLL=0</span><a class="headerlink" title="Permalink to this term" href="#FDPOLL=0" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a></dt><dd data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">When used in combination with <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDSTORE=1</code>, disables polling of the
        stored file descriptors regardless of whether or not they are pollable. As this option disables
        automatic cleanup of the stored file descriptors on EPOLLERR and EPOLLHUP, care must be taken to
        ensure proper manual cleanup.  Use of this option is not generally recommended except for when
        automatic cleanup has unwanted behavior such as prematurely discarding file descriptors from the
        store.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当与 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDSTORE=1</code> 结合使用时，无论存储的文件描述符是否可轮询，都会禁用对其进行轮询。由于此选项禁用了在 EPOLLERR 和 EPOLLHUP 上对存储的文件描述符进行自动清理，因此必须小心确保进行适当的手动清理。一般不建议使用此选项，除非自动清理产生了不希望的行为，比如过早地从存储中丢弃文件描述符。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><a name="v246" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a>Added in version 246.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加于版本 246。</font></font></font></p></dd><dt id="BARRIER=1" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">BARRIER=1</span><a class="headerlink" title="Permalink to this term" href="#BARRIER=1" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a></dt><dd data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Tells the service manager that the client is explicitly requesting synchronization by
        means of closing the file descriptor sent with this command. The service manager guarantees that the
        processing of a <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">BARRIER=1</code> command will only happen after all previous notification
        messages sent before this command have been processed. Hence, this command accompanied with a single
        file descriptor can be used to synchronize against reception of all previous status messages. Note
        that this command cannot be mixed with other notifications, and has to be sent in a separate message
        to the service manager, otherwise all assignments will be ignored. Note that sending 0 or more than 1
        file descriptor with this command is a violation of the protocol.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">告诉服务管理器，客户端通过关闭与该命令一起发送的文件描述符明确请求同步。服务管理器保证在处理 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">BARRIER=1</code> 命令之前，只会处理在该命令之前发送的所有先前通知消息。因此，此命令连同单个文件描述符可用于与接收所有先前状态消息同步。请注意，此命令不能与其他通知混合，必须单独发送到服务管理器，否则所有分配将被忽略。请注意，使用此命令发送 0 个或多个文件描述符违反协议。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><a name="v246" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a>Added in version 246.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加于版本 246。</font></font></font></p></dd></dl></div><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">The notification messages sent by services are interpreted by the service manager. Unknown
    assignments may be logged, but are otherwise ignored. Thus, it is not useful to send assignments which
    are not in this list. The service manager also sends some messages to <span class="emphasis" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><em data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">its</em></span>
    notification socket, which are then consumed by the machine or container manager.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">服务发送的通知消息由服务管理器解释。未知的赋值可能会被记录，但否则会被忽略。因此，发送不在此列表中的赋值是没有用的。服务管理器还会向其通知套接字发送一些消息，然后由机器或容器管理器消耗。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><a name="id-1.7" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a><h2 id="Return Value" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Return Value<a class="headerlink" title="Permalink to this headline" href="#Return%20Value" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">返回值</font></font></font></h2><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">On failure, these calls return a negative errno-style error code. If
    <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">$NOTIFY_SOCKET</code> was not set and hence no status message could be sent, 0 is
    returned. If the status was sent, these functions return a positive value. In order to support both
    service managers that implement this scheme and those which do not, it is generally recommended to ignore
    the return value of this call. Note that the return value simply indicates whether the notification
    message was enqueued properly, it does not reflect whether the message could be processed
    successfully. Specifically, no error is returned when a file descriptor is attempted to be stored using
    <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDSTORE=1</code> but the service is not actually configured to permit storing of file
    descriptors (see above).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">失败时，这些调用会返回一个负的 errno 风格的错误代码。如果未设置 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">$NOTIFY_SOCKET</code> ，因此无法发送状态消息，则返回 0。如果状态已发送，这些函数将返回一个正值。为了支持实现此方案的服务管理器和不实现此方案的服务管理器，通常建议忽略此调用的返回值。请注意，返回值仅表示通知消息是否被正确排队，而不反映消息是否能够成功处理。具体来说，当尝试使用 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDSTORE=1</code> 存储文件描述符但服务实际上未配置为允许存储文件描述符时（请参见上文），不会返回任何错误。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><a name="id-1.8" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a><h2 id="Notes" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Notes<a class="headerlink" title="Permalink to this headline" href="#Notes" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">笔记 ¶</font></font></font></h2><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><a name="pkgconfig-text" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a>Functions described here are available as a shared
  library, which can be compiled against and linked to with the
  <code class="constant" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">libsystemd</code>&nbsp;<a href="http://linux.die.net/man/1/pkg-config" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">pkg-config</span>(1)</span></a>
  file.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处描述的函数可作为共享库使用，可以与 <code class="constant" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">libsystemd</code> pkg-config(1) 文件一起编译并链接。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><a name="getenv" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a>The code described here uses
<a href="https://man7.org/linux/man-pages/man3/getenv.3.html" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">getenv</span>(3)</span></a>,
which is declared to be not multi-thread-safe. This means that the code calling the functions described
here must not call
<a href="https://man7.org/linux/man-pages/man3/setenv.3.html" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">setenv</span>(3)</span></a>
from a parallel thread. It is recommended to only do calls to <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">setenv()</code>
from an early phase of the program when no other threads have been started.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处描述的代码使用了 getenv(3)，该函数被声明为不支持多线程安全。这意味着调用此处描述的函数的代码不能从并行线程中调用 setenv(3)。建议仅在程序的早期阶段（没有启动其他线程时）调用 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">setenv()</code> 。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">These functions send a single datagram with the state string as payload to the socket referenced in
    the <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">$NOTIFY_SOCKET</code> environment variable. If the first character of
    <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">$NOTIFY_SOCKET</code> is "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">/</code>" or "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">@</code>", the string is
    understood as an <code class="constant" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">AF_UNIX</code> or Linux abstract namespace socket (respectively), and in
    both cases the datagram is accompanied by the process credentials of the sending service, using
    SCM_CREDENTIALS. If the string starts with "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">vsock:</code>" then the string is understood as an
    <code class="constant" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">AF_VSOCK</code> address, which is useful for hypervisors/VMMs or other processes on the
    host to receive a notification when a virtual machine has finished booting. Note that in case the
    hypervisor does not support <code class="constant" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">SOCK_DGRAM</code> over <code class="constant" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">AF_VSOCK</code>,
    <code class="constant" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">SOCK_SEQPACKET</code> will be used instead. The address should be in the form:
    "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">vsock:CID:PORT</code>". Note that unlike other uses of vsock, the CID is mandatory and cannot
    be "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">VMADDR_CID_ANY</code>".  Note that PID1 will send the VSOCK packets from a privileged port
    (i.e.: lower than 1024), as an attempt to address concerns that unprivileged processes in the guest might
    try to send malicious notifications to the host, driving it to make destructive decisions based on
    them.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这些函数将带有状态字符串作为有效负载的单个数据报发送到 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">$NOTIFY_SOCKET</code> 环境变量中引用的套接字。如果 <code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">$NOTIFY_SOCKET</code> 的第一个字符是" <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">/</code> "或" <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">@</code> "，则该字符串被视为 <code class="constant" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">AF_UNIX</code> 或 Linux 抽象命名空间套接字（分别），在这两种情况下，数据报都将由发送服务的进程凭据附带，使用 SCM_CREDENTIALS。如果字符串以" <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">vsock:</code> "开头，则该字符串被视为 <code class="constant" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">AF_VSOCK</code> 地址，这对于虚拟化程序/虚拟机监视器或主机上的其他进程在虚拟机完成引导时接收通知很有用。请注意，在情况下，虚拟机监视器不支持 <code class="constant" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">SOCK_DGRAM</code> 通过 <code class="constant" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">AF_VSOCK</code> ，将改为使用 <code class="constant" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">SOCK_SEQPACKET</code> 。地址应为：" <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">vsock:CID:PORT</code> "。请注意，与 vsock 的其他用途不同，CID 是强制的，不能为" <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">VMADDR_CID_ANY</code> "。请注意，PID1 将从特权端口（即低于 1024）发送 VSOCK 数据包，以解决虚拟机中的非特权进程可能尝试向主机发送恶意通知，从而导致主机基于这些通知做出破坏性决策的问题。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><a name="id-1.9" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a><h2 id="Environment" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Environment<a class="headerlink" title="Permalink to this headline" href="#Environment" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">环境 ¶</font></font></font></h2><div class="variablelist" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><dl class="variablelist" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><dt id="$NOTIFY_SOCKET" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><code class="varname" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">$NOTIFY_SOCKET</code></span><a class="headerlink" title="Permalink to this term" href="#%24NOTIFY_SOCKET" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a></dt><dd data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Set by the service manager for supervised processes for status and start-up
        completion notification.  This environment variable specifies the socket
        <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify()</code> talks to. See above for details.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">由服务管理器设置，用于监督进程的状态和启动完成通知。此环境变量指定套接字 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify()</code> 连接的位置。有关详细信息，请参见上文。</font></font></font></p></dd></dl></div></div><div class="refsect1" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><a name="id-1.10" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a><h2 id="Examples" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Examples<a class="headerlink" title="Permalink to this headline" href="#Examples" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例</font></font></font></h2><div class="example" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><a name="id-1.10.2" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a><p class="title" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><b data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Example&nbsp;1.&nbsp;Start-up Notification<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 1. 启动通知</font></font></font></b></p><div class="example-contents" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">When a service finished starting up, it might issue the following call to notify the service
      manager:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当服务启动完成时，它可能会发出以下调用以通知服务管理器：</font></font></font></p><pre class="programlisting">sd_notify(0, "READY=1");</pre></div></div><br class="example-break" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><div class="example" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><a name="id-1.10.3" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a><p class="title" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><b data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Example&nbsp;2.&nbsp;Extended Start-up Notification<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">例 2. 扩展启动通知</font></font></font></b></p><div class="example-contents" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">A service could send the following after completing initialization:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">服务在完成初始化后可能会发送以下内容：</font></font></font></p><pre class="programlisting">sd_notifyf(0, "READY=1\n"
           "STATUS=Processing requests…\n"
           "MAINPID=%lu",
           (unsigned long) getpid());</pre></div></div><br class="example-break" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><div class="example" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><a name="id-1.10.4" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a><p class="title" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><b data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Example&nbsp;3.&nbsp;Error Cause Notification<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 3. 错误原因通知</font></font></font></b></p><div class="example-contents" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">A service could send the following shortly before exiting, on failure:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">服务在退出之前可能会发送以下内容，在失败时：</font></font></font></p><pre class="programlisting">sd_notifyf(0, "STATUS=Failed to start up: %s\n"
           "ERRNO=%i",
           strerror_r(errnum, (char[1024]){}, 1024),
           errnum);</pre></div></div><br class="example-break" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><div class="example" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><a name="id-1.10.5" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a><p class="title" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><b data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Example&nbsp;4.&nbsp;Store a File Descriptor in the Service Manager<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 4. 在服务管理器中存储文件描述符</font></font></font></b></p><div class="example-contents" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">To store an open file descriptor in the service manager, in order to continue operation after a
      service restart without losing state, use "<code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDSTORE=1</code>":<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在服务管理器中存储一个打开的文件描述符，以便在服务重新启动后继续操作而不丢失状态，请使用 " <code class="literal" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">FDSTORE=1</code> "</font></font></font></p><pre class="programlisting">sd_pid_notify_with_fds(0, 0, "FDSTORE=1\nFDNAME=foobar", &amp;fd, 1);</pre></div></div><br class="example-break" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><div class="example" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><a name="id-1.10.6" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a><p class="title" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><b data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">Example&nbsp;5.&nbsp;Eliminating race conditions<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 5. 消除竞争条件</font></font></font></b></p><div class="example-contents" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">When the client sending the notifications is not spawned by the service manager, it may exit too
      quickly and the service manager may fail to attribute them correctly to the unit. To prevent such
      races, use <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify_barrier()</code> to synchronize against reception of all
      notifications sent before this call is made.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当发送通知的客户端不是由服务管理器生成时，它可能退出得太快，服务管理器可能无法正确地将它们归因于该单元。为了防止这种竞争，使用 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify_barrier()</code> 来同步接收在此调用之前发送的所有通知。</font></font></font></p><pre class="programlisting">sd_notify(0, "READY=1");
/* set timeout to 5 seconds */
sd_notify_barrier(0, 5 * 1000000);
      </pre></div></div><br class="example-break" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></div><div class="refsect1" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><a name="id-1.11" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a><h2 id="History" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">History<a class="headerlink" title="Permalink to this headline" href="#History" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">历史 ¶</font></font></font></h2><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notify()</code>,
    <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notifyf()</code>, and
    <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notify_with_fds()</code> were added in version 219.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notify()</code> ， <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notifyf()</code> ，和 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notify_with_fds()</code> 在版本 219 中添加。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify_barrier()</code> was added in version 246.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_notify_barrier()</code> 在版本 246 中添加。</font></font></font></p><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notifyf_with_fds()</code> and
    <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notify_barrier()</code> were added in version 254.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notifyf_with_fds()</code> 和 <code class="function" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_pid_notify_barrier()</code> 已在版本 254 中添加。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><a name="id-1.12" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"></a><h2 id="See Also" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">另请参阅 ¶</font></font></font></h2><p data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897" data-immersive-translate-paragraph="1">
      <a href="systemd.html#" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">systemd</span>(1)</span></a>,
      <a href="sd-daemon.html#" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd-daemon</span>(3)</span></a>,
      <a href="sd_listen_fds.html#" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_listen_fds</span>(3)</span></a>,
      <a href="sd_listen_fds_with_names.html#" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_listen_fds_with_names</span>(3)</span></a>,
      <a href="sd_watchdog_enabled.html#" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">sd_watchdog_enabled</span>(3)</span></a>,
      <a href="daemon.html#" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">daemon</span>(7)</span></a>,
      <a href="systemd.service.html#" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="citerefentry" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897"><span class="refentrytitle" data-immersive-translate-walked="0dc8fd3d-33c3-4b9b-9fb8-87cfe1d25897">systemd.service</span>(5)</span></a>
    </p></div></div>
</body></html>