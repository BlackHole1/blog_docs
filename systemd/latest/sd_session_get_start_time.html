<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>sd_session_is_active</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><a name="sd_session_is_active" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"></a><div class="titlepage" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"></div><div class="refnamediv" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><h2 data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1">sd_session_is_active, sd_session_is_remote, sd_session_get_state, sd_session_get_uid, sd_session_get_username, sd_session_get_seat, sd_session_get_start_time, sd_session_get_service, sd_session_get_type, sd_session_get_class, sd_session_get_desktop, sd_session_get_display, sd_session_get_tty, sd_session_get_vt, sd_session_get_remote_host, sd_session_get_remote_user, sd_session_get_leader — Determine state of a specific session<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">sd_session_is_active, sd_session_is_remote, sd_session_get_state, sd_session_get_uid, sd_session_get_username, sd_session_get_seat, sd_session_get_start_time, sd_session_get_service, sd_session_get_type, sd_session_get_class, sd_session_get_desktop, sd_session_get_display, sd_session_get_tty, sd_session_get_vt, sd_session_get_remote_host, sd_session_get_remote_user, sd_session_get_leader — 确定特定会话的状态</font></font></font></p></div><div class="refsynopsisdiv" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><h2 data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">简介</font></font></font></h2><div class="funcsynopsis"><pre class="funcsynopsisinfo">#include &lt;systemd/sd-login.h&gt;</pre><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_session_is_active</b>(</code></td><td>const char *<var class="pdparam">session</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_session_is_remote</b>(</code></td><td>const char *<var class="pdparam">session</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_session_get_state</b>(</code></td><td>const char *<var class="pdparam">session</var>, </td></tr><tr><td>&nbsp;</td><td>char **<var class="pdparam">state</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_session_get_uid</b>(</code></td><td>const char *<var class="pdparam">session</var>, </td></tr><tr><td>&nbsp;</td><td>uid_t *<var class="pdparam">uid</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_session_get_username</b>(</code></td><td>const char *<var class="pdparam">session</var>, </td></tr><tr><td>&nbsp;</td><td>char **<var class="pdparam">username</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_session_get_seat</b>(</code></td><td>const char *<var class="pdparam">session</var>, </td></tr><tr><td>&nbsp;</td><td>char **<var class="pdparam">seat</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_session_get_start_time</b>(</code></td><td>const char *<var class="pdparam">session</var>, </td></tr><tr><td>&nbsp;</td><td>uint64_t *<var class="pdparam">usec</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_session_get_service</b>(</code></td><td>const char *<var class="pdparam">session</var>, </td></tr><tr><td>&nbsp;</td><td>char **<var class="pdparam">service</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_session_get_type</b>(</code></td><td>const char *<var class="pdparam">session</var>, </td></tr><tr><td>&nbsp;</td><td>char **<var class="pdparam">type</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_session_get_class</b>(</code></td><td>const char *<var class="pdparam">session</var>, </td></tr><tr><td>&nbsp;</td><td>char **<var class="pdparam">class</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_session_get_desktop</b>(</code></td><td>const char *<var class="pdparam">session</var>, </td></tr><tr><td>&nbsp;</td><td>char **<var class="pdparam">desktop</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_session_get_display</b>(</code></td><td>const char *<var class="pdparam">session</var>, </td></tr><tr><td>&nbsp;</td><td>char **<var class="pdparam">display</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_session_get_leader</b>(</code></td><td>const char *<var class="pdparam">session</var>, </td></tr><tr><td>&nbsp;</td><td>pid_t *<var class="pdparam">leader</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_session_get_remote_host</b>(</code></td><td>const char *<var class="pdparam">session</var>, </td></tr><tr><td>&nbsp;</td><td>char **<var class="pdparam">remote_host</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_session_get_remote_user</b>(</code></td><td>const char *<var class="pdparam">session</var>, </td></tr><tr><td>&nbsp;</td><td>char **<var class="pdparam">remote_user</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_session_get_tty</b>(</code></td><td>const char *<var class="pdparam">session</var>, </td></tr><tr><td>&nbsp;</td><td>char **<var class="pdparam">tty</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_session_get_vt</b>(</code></td><td>const char *<var class="pdparam">session</var>, </td></tr><tr><td>&nbsp;</td><td>unsigned int *<var class="pdparam">vt</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div></div></div><div class="refsect1" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><a name="id-1.5" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"></a><h2 id="Description" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_is_active()</code> may be used to
    determine whether the session identified by the specified session
    identifier is currently active (i.e. currently in the foreground
    and available for user input) or not.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_is_active()</code> 可用于确定由指定会话标识符标识的会话当前是否活动（即当前在前台并可用于用户输入）。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_is_remote()</code> may be used to
    determine whether the session identified by the specified session
    identifier is a remote session (i.e. its remote host is known) or
    not.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_is_remote()</code> 可用于确定由指定会话标识符标识的会话是否为远程会话（即其远程主机已知）或不是。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_state()</code> may be used to
    determine the state of the session identified by the specified
    session identifier. The following states are currently known:
    "<code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">online</code>" (session logged in, but session not
    active, i.e. not in the foreground), "<code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">active</code>"
    (session logged in and active, i.e. in the foreground),
    "<code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">closing</code>" (session nominally logged out, but some
    processes belonging to it are still around). In the future
    additional states might be defined, client code should be written
    to be robust in regards to additional state strings being
    returned. This function is a more generic version of
    <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_is_active()</code>. The returned string
    needs to be freed with the libc
    <a href="https://man7.org/linux/man-pages/man3/free.3.html" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="citerefentry" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="refentrytitle" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">free</span>(3)</span></a>
    call after use.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_state()</code> 可用于确定由指定会话标识符标识的会话的状态。当前已知以下状态：" <code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">online</code> "（会话已登录，但会话未激活，即不在前台），" <code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">active</code> "（会话已登录且活动，即在前台），" <code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">closing</code> "（会话名义上已注销，但仍有一些属于它的进程在运行）。将来可能会定义其他状态，客户端代码应编写得对返回的其他状态字符串具有鲁棒性。此函数是 <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_is_active()</code> 的更通用版本。返回的字符串在使用后需要使用 libc free(3)调用释放。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_uid()</code> may be used to
    determine the user identifier of the Unix user the session
    identified by the specified session identifier belongs to.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_uid()</code> 可用于确定由指定会话标识符标识的会话所属的 Unix 用户的用户标识符。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_username()</code> may be used to
    determine the name of the Unix user the session identified by
    the specified session identifier belongs to. The returned string
    needs to be freed with the libc
    <a href="https://man7.org/linux/man-pages/man3/free.3.html" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="citerefentry" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="refentrytitle" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">free</span>(3)</span></a>
    call after use.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_username()</code> 可用于确定由指定会话标识符标识的会话所属的 Unix 用户的名称。返回的字符串在使用后需要使用 libc free(3)调用释放。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_seat()</code> may be used to
    determine the seat identifier of the seat the session identified
    by the specified session identifier belongs to. Note that not all
    sessions are attached to a seat, this call will fail (returning
    <code class="constant" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">-ENODATA</code>) for them. The returned string needs
    to be freed with the libc
    <a href="https://man7.org/linux/man-pages/man3/free.3.html" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="citerefentry" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="refentrytitle" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">free</span>(3)</span></a>
    call after use.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_seat()</code> 可用于确定由指定会话标识符标识的会话所属的座位标识符。请注意，并非所有会话都附加到座位上，对于它们，此调用将失败（返回 <code class="constant" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">-ENODATA</code> ）。返回的字符串在使用后需要使用 libc free(3) 调用释放。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_start_time()</code> may be used to
    determine the start time of the session identified by the specified
    session identifier belongs to. The <em class="parameter" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><code data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">usec</code></em>
    is in microseconds since the epoch (<code class="constant" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">CLOCK_REALTIME</code>).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_start_time()</code> 可用于确定由指定会话标识符标识的会话的开始时间。 <code data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">usec</code> 是自纪元以来的微秒数（ <code class="constant" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">CLOCK_REALTIME</code> ）。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_service()</code> may be used to
    determine the name of the service (as passed during PAM session
    setup) that registered the session identified by the specified
    session identifier. The returned string needs to be freed with the
    libc
    <a href="https://man7.org/linux/man-pages/man3/free.3.html" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="citerefentry" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="refentrytitle" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">free</span>(3)</span></a>
    call after use.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_service()</code> 可用于确定由指定会话标识符标识的会话注册的服务的名称（在 PAM 会话设置期间传递）。返回的字符串在使用后需要使用 libc free(3) 调用释放。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_type()</code> may be used to
    determine the type of the session identified by the specified
    session identifier. The returned string is one of
    "<code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">x11</code>", "<code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">wayland</code>",
    "<code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">tty</code>", "<code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">mir</code>" or
    "<code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">unspecified</code>" and needs to be freed with the libc
    <a href="https://man7.org/linux/man-pages/man3/free.3.html" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="citerefentry" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="refentrytitle" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">free</span>(3)</span></a>
    call after use.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_type()</code> 可用于确定由指定会话标识符标识的会话的类型。返回的字符串是“ <code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">x11</code> ”、“ <code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">wayland</code> ”、“ <code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">tty</code> ”、“ <code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">mir</code> ”或“ <code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">unspecified</code> ”之一，并在使用后需要使用 libc free(3) 调用释放。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_class()</code> may be used to
    determine the class of the session identified by the specified
    session identifier. The returned string is one of
    "<code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">user</code>", "<code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">greeter</code>",
    "<code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">lock-screen</code>", or "<code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">background</code>"
    and needs to be freed with the libc
    <a href="https://man7.org/linux/man-pages/man3/free.3.html" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="citerefentry" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="refentrytitle" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">free</span>(3)</span></a>
    call after use.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_class()</code> 可用于确定由指定会话标识符标识的会话的类别。返回的字符串是“ <code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">user</code> ”、“ <code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">greeter</code> ”、“ <code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">lock-screen</code> ”或“ <code class="literal" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">background</code> ”之一，并在使用后需要使用 libc free(3) 调用释放。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_desktop()</code> may be used to
    determine the brand of the desktop running on the session
    identified by the specified session identifier. This field can be
    set freely by desktop environments and does not follow any special
    formatting. However, desktops are strongly recommended to use the
    same identifiers and capitalization as for
    <code class="varname" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">$XDG_CURRENT_DESKTOP</code>, as defined by the <a class="ulink" href="https://standards.freedesktop.org/desktop-entry-spec/latest/" target="_top" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">Desktop
    Entry Specification</a>. The returned string needs to be freed
    with the libc
    <a href="https://man7.org/linux/man-pages/man3/free.3.html" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="citerefentry" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="refentrytitle" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">free</span>(3)</span></a>
    call after use.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_desktop()</code> 可用于确定由指定会话标识符标识的会话上运行的桌面的品牌。此字段可以由桌面环境自由设置，不遵循任何特殊格式。但是，强烈建议桌面使用与 <code class="varname" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">$XDG_CURRENT_DESKTOP</code> 定义的相同标识符和大写形式，由桌面入口规范定义。返回的字符串在使用后需要使用 libc free(3) 调用释放。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_display()</code> may be used to
    determine the X11 display of the session identified by the
    specified session identifier. The returned string needs to be
    freed with the libc
    <a href="https://man7.org/linux/man-pages/man3/free.3.html" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="citerefentry" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="refentrytitle" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">free</span>(3)</span></a>
    call after use.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_display()</code> 可用于确定由指定会话标识的会话的 X11 显示。返回的字符串在使用后需要使用 libc free(3) 调用释放。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_leader()</code> may be used to
    determine the PID of the leader of the session identified by the
    specified session identifier.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_leader()</code> 可用于确定由指定会话标识的会话领导者的 PID。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_remote_host()</code> may be
    used to determine the remote hostname of the session identified by
    the specified session identifier. The returned string needs to be
    freed with the libc
    <a href="https://man7.org/linux/man-pages/man3/free.3.html" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="citerefentry" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="refentrytitle" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">free</span>(3)</span></a>
    call after use.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_remote_host()</code> 可用于确定由指定会话标识的会话的远程主机名。返回的字符串在使用后需要使用 libc free(3) 调用释放。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_remote_user()</code> may be
    used to determine the remote username of the session identified by
    the specified session identifier. The returned string needs to be
    freed with the libc
    <a href="https://man7.org/linux/man-pages/man3/free.3.html" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="citerefentry" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="refentrytitle" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">free</span>(3)</span></a>
    call after use. Note that this value is rarely known to the
    system, and even then should not be relied on.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_remote_user()</code> 可用于确定由指定会话标识符标识的远程用户名。返回的字符串在使用后需要使用 libc free(3) 调用释放。请注意，系统很少知道此值，即使知道也不应依赖于它。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_tty()</code> may be used to
    determine the TTY device of the session identified by the
    specified session identifier. The returned string needs to be
    freed with the libc
    <a href="https://man7.org/linux/man-pages/man3/free.3.html" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="citerefentry" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="refentrytitle" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">free</span>(3)</span></a>
    call after use.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_tty()</code> 可用于确定由指定会话标识符标识的 TTY 设备。返回的字符串在使用后需要使用 libc free(3) 调用释放。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_vt()</code> may be used to
    determine the VT number of the session identified by the specified
    session identifier. This function will return an error if the seat
    does not support VTs.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_vt()</code> 可用于确定由指定会话标识符标识的 VT 号。如果座位不支持 VT，则此函数将返回错误。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1">If the <code class="varname" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">session</code> parameter of any of these
    functions is passed as <code class="constant" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">NULL</code>, the operation is
    executed for the session the calling process is a member of, if
    there is any.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果这些函数中的任何一个的 <code class="varname" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">session</code> 参数被传递为 <code class="constant" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">NULL</code> ，则操作将针对调用进程所属的会话执行，如果有的话。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><a name="id-1.6" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"></a><h2 id="Return Value" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1">Return Value<a class="headerlink" title="Permalink to this headline" href="#Return%20Value" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">返回值 ¶</font></font></font></h2><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1">If the test succeeds,
    <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_is_active()</code> and
    <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_is_remote()</code> return a
    positive integer; if it fails, 0.  On success,
    <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_state()</code>,
    <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_uid()</code>,
    <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_username()</code>,
    <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_seat()</code>,
    <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_service()</code>,
    <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_type()</code>,
    <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_class()</code>,
    <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_display()</code>,
    <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_leader()</code>,
    <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_remote_user()</code>,
    <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_remote_host()</code> and
    <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_tty()</code> return 0 or
    a positive integer. On failure, these calls return a
    negative errno-style error code.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果测试成功， <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_is_active()</code> 和 <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_is_remote()</code> 将返回正整数；如果失败，则返回 0。成功时， <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_state()</code> ， <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_uid()</code> ， <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_username()</code> ， <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_seat()</code> ， <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_service()</code> ， <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_type()</code> ， <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_class()</code> ， <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_display()</code> ， <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_leader()</code> ， <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_remote_user()</code> ， <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_remote_host()</code> 和 <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_tty()</code> 返回 0 或正整数。失败时，这些调用将返回负的 errno 风格的错误代码。</font></font></font></p><div class="refsect2" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><a name="id-1.6.3" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"></a><h3 id="Errors" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1">Errors<a class="headerlink" title="Permalink to this headline" href="#Errors" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">错误 ¶</font></font></font></h3><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1">Returned errors may indicate the following problems:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">返回的错误可能表示以下问题：</font></font></font></p><div class="variablelist" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><dl class="variablelist" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><dt id="-ENXIO" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><code class="constant" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">-ENXIO</code></span><a class="headerlink" title="Permalink to this term" href="#-ENXIO" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">¶</a></dt><dd data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1">The specified session does not exist.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定的会话不存在。</font></font></font></p></dd><dt id="-ENODATA" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><code class="constant" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">-ENODATA</code></span><a class="headerlink" title="Permalink to this term" href="#-ENODATA" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">¶</a></dt><dd data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1">The given field is not specified for the described session.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">给定字段未为描述的会话指定。</font></font></font></p></dd><dt id="-EINVAL" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><code class="constant" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">-EINVAL</code></span><a class="headerlink" title="Permalink to this term" href="#-EINVAL" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">¶</a></dt><dd data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1">An input parameter was invalid (out of range, or <code class="constant" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">NULL</code>, where
          that is not accepted).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">输入参数无效（超出范围，或 <code class="constant" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">NULL</code> ，其中不被接受）。</font></font></font></p></dd><dt id="-ENOMEM" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><code class="constant" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">-ENOMEM</code></span><a class="headerlink" title="Permalink to this term" href="#-ENOMEM" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">¶</a></dt><dd data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1">Memory allocation failed.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内存分配失败。</font></font></font></p></dd></dl></div></div></div><div class="refsect1" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><a name="id-1.7" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"></a><h2 id="Notes" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1">Notes<a class="headerlink" title="Permalink to this headline" href="#Notes" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意事项 ¶</font></font></font></h2><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><a name="pkgconfig-text" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"></a>Functions described here are available as a shared
  library, which can be compiled against and linked to with the
  <code class="constant" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">libsystemd</code>&nbsp;<a href="http://linux.die.net/man/1/pkg-config" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="citerefentry" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="refentrytitle" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">pkg-config</span>(1)</span></a>
  file.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处描述的函数可作为共享库使用，可以通过 <code class="constant" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">libsystemd</code> pkg-config(1) 文件进行编译和链接。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><a name="getenv" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"></a>The code described here uses
<a href="https://man7.org/linux/man-pages/man3/getenv.3.html" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="citerefentry" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="refentrytitle" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">getenv</span>(3)</span></a>,
which is declared to be not multi-thread-safe. This means that the code calling the functions described
here must not call
<a href="https://man7.org/linux/man-pages/man3/setenv.3.html" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="citerefentry" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="refentrytitle" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">setenv</span>(3)</span></a>
from a parallel thread. It is recommended to only do calls to <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">setenv()</code>
from an early phase of the program when no other threads have been started.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处描述的代码使用了 getenv(3)，该函数被声明为非多线程安全。这意味着调用此处描述的函数的代码不能从并行线程中调用 setenv(3)。建议仅在程序的早期阶段进行对 <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">setenv()</code> 的调用，此时尚未启动其他线程。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><a name="id-1.8" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"></a><h2 id="History" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1">History<a class="headerlink" title="Permalink to this headline" href="#History" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">历史 ¶</font></font></font></h2><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_state()</code> was added in version 186.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_state()</code> 已添加在版本 186 中。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_tty()</code> was added in version 198.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_tty()</code> 已添加在版本 198 中。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_vt()</code> was added in version 207.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_vt()</code> 在版本 207 中添加。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_is_remote()</code>,
    <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_remote_host()</code>, and
    <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_remote_user()</code> were added in version 209.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_is_remote()</code> 、 <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_remote_host()</code> 和 <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_remote_user()</code> 在版本 209 中添加。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_desktop()</code> was added in version 217.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_desktop()</code> 已在版本 217 中添加。</font></font></font></p><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_username()</code>,
    <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_start_time()</code>, and
    <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_leader()</code> were added in version 254.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_username()</code> 、 <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_start_time()</code> 和 <code class="function" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_session_get_leader()</code> 在版本 254 中添加。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><a name="id-1.9" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"></a><h2 id="See Also" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">参见 ¶</font></font></font></h2><p data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb" data-immersive-translate-paragraph="1">
      <a href="systemd.html#" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="citerefentry" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="refentrytitle" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">systemd</span>(1)</span></a>,
      <a href="sd-login.html#" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="citerefentry" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="refentrytitle" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd-login</span>(3)</span></a>,
      <a href="sd_pid_get_session.html#" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="citerefentry" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb"><span class="refentrytitle" data-immersive-translate-walked="da2df437-f223-432c-83a4-e28b45597cbb">sd_pid_get_session</span>(3)</span></a>
    </p></div></div>
</body></html>