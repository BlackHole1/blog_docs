<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>sd_bus_send</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><a name="sd_bus_send" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"></a><div class="titlepage" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"></div><div class="refnamediv" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><h2 data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1">sd_bus_send, sd_bus_send_to, sd_bus_message_send — Queue a D-Bus message for transfer<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">sd_bus_send，sd_bus_send_to，sd_bus_message_send — 队列一个 D-Bus 消息以进行传输</font></font></font></p></div><div class="refsynopsisdiv" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><h2 data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">概要</font></font></font></h2><div class="funcsynopsis"><pre class="funcsynopsisinfo">#include &lt;systemd/sd-bus.h&gt;</pre><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_send</b>(</code></td><td>sd_bus *<var class="pdparam">bus</var>, </td></tr><tr><td>&nbsp;</td><td>sd_bus_message *<var class="pdparam">m</var>, </td></tr><tr><td>&nbsp;</td><td>uint64_t *<var class="pdparam">cookie</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_send_to</b>(</code></td><td>sd_bus *<var class="pdparam">bus</var>, </td></tr><tr><td>&nbsp;</td><td>sd_bus_message *<var class="pdparam">m</var>, </td></tr><tr><td>&nbsp;</td><td>const char *<var class="pdparam">destination</var>, </td></tr><tr><td>&nbsp;</td><td>uint64_t *<var class="pdparam">cookie</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int sd_bus_message_send(</code></td><td>sd_bus_message *<var class="pdparam">m</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div></div></div><div class="refsect1" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><a name="id-1.5" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"></a><h2 id="Description" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send()</code> queues the bus message object <em class="parameter" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><code data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">m</code></em> for
    transfer. If <em class="parameter" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><code data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">bus</code></em> is <code class="constant" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">NULL</code>, the bus that
    <em class="parameter" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><code data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">m</code></em> is attached to is used. <em class="parameter" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><code data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">bus</code></em> only needs to be set when the
    message is sent to a different bus than the one it's attached to, for example when forwarding messages.
    If the output parameter <em class="parameter" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><code data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">cookie</code></em> is not <code class="constant" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">NULL</code>, it is set to the
    message identifier. This value can later be used to match incoming replies to their corresponding
    messages. If <em class="parameter" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><code data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">cookie</code></em> is set to <code class="constant" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">NULL</code> and the message is not
    sealed, <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send()</code> assumes the message <em class="parameter" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><code data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">m</code></em> doesn't expect a
    reply and adds the necessary headers to indicate this.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send()</code> 将总线消息对象 <code data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">m</code> 排队以进行传输。如果 <code data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">bus</code> 是 <code class="constant" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">NULL</code> ，则使用附加到 <code data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">m</code> 的总线。仅当消息发送到与其附加的总线不同的总线时，例如转发消息时，才需要设置 <code data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">bus</code> 。如果输出参数 <code data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">cookie</code> 不是 <code class="constant" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">NULL</code> ，则将其设置为消息标识符。稍后可以使用此值将传入的回复与其对应的消息进行匹配。如果 <code data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">cookie</code> 设置为 <code class="constant" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">NULL</code> 并且消息未封装，则 <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send()</code> 假定消息 <code data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">m</code> 不需要回复，并添加必要的标头以指示此情况。</font></font></font></p><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1">Note that in most scenarios, <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send()</code> should not be called
    directly. Instead, use higher level functions such as
    <a href="sd_bus_call_method.html#" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="citerefentry" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="refentrytitle" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_call_method</span>(3)</span></a> and
    <a href="sd_bus_reply_method_return.html#" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="citerefentry" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="refentrytitle" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_reply_method_return</span>(3)</span></a>
    which call <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send()</code> internally.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，在大多数情况下，不应直接调用 <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send()</code> 。而应使用诸如 sd_bus_call_method(3) 和 sd_bus_reply_method_return(3) 这样在内部调用 <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send()</code> 的更高级函数。</font></font></font></p><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send_to()</code> is a shorthand for sending a message to a specific
    destination. It's main use case is to simplify sending unicast signal messages (signals that only have a
    single receiver). It's behavior is similar to calling
    <a href="sd_bus_message_set_destination.html#" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="citerefentry" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="refentrytitle" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_message_set_destination</span>(3)</span></a>
    followed by calling <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send()</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send_to()</code> 是向特定目的地发送消息的简写。它的主要用途是简化发送单播信号消息（仅有一个接收者的信号）的过程。其行为类似于调用 sd_bus_message_set_destination(3) 后调用 <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send()</code> 。</font></font></font></p><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send()</code>/<code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send_to()</code> will write the message
    directly to the underlying transport (e.g. kernel socket buffer) if possible. If the connection is not
    set up fully yet the message is queued locally. If the transport buffers are congested any unwritten
    message data is queued locally, too. If the connection has been closed or is currently being closed the
    call fails.
    <a href="sd_bus_process.html#" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="citerefentry" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="refentrytitle" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_process</span>(3)</span></a> should
    be invoked to write out any queued message data to the transport.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果可能， <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send()</code> / <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send_to()</code> 将直接将消息写入底层传输（例如内核套接字缓冲区）。如果连接尚未完全建立，消息将在本地排队。如果传输缓冲区拥挤，任何未写入的消息数据也将在本地排队。如果连接已关闭或当前正在关闭，则调用失败。应调用 sd_bus_process(3) 来将任何排队的消息数据写入传输。</font></font></font></p><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_message_send()</code> is the same as <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send()</code> but
    without the first and last argument. <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_message_send(m)</code> is equivalent to
    <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send(sd_bus_message_get_bus(m), m, NULL)</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_message_send()</code> 与 <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send()</code> 相同，但不包括第一个和最后一个参数。 <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_message_send(m)</code> 等同于 <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send(sd_bus_message_get_bus(m), m, NULL)</code> 。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><a name="id-1.6" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"></a><h2 id="Return Value" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1">Return Value<a class="headerlink" title="Permalink to this headline" href="#Return%20Value" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">返回值</font></font></font></h2><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1">On success, these functions return a non-negative integer. On failure, they return a negative
    errno-style error code.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">成功时，这些函数返回一个非负整数。失败时，它们返回一个负的 errno 风格的错误代码。</font></font></font></p><div class="refsect2" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><a name="errors" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"></a><h3 id="Errors" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1">Errors<a class="headerlink" title="Permalink to this headline" href="#Errors" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">错误</font></font></font></h3><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1">Returned errors may indicate the following problems:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">返回的错误可能表示以下问题：</font></font></font></p><div class="variablelist" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><dl class="variablelist" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><dt id="-EINVAL" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><code class="constant" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">-EINVAL</code></span><a class="headerlink" title="Permalink to this term" href="#-EINVAL" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">¶</a></dt><dd data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1">The input parameter <em class="parameter" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><code data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">m</code></em> is <code class="constant" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">NULL</code>.
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">输入参数 <code data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">m</code> 是 <code class="constant" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">NULL</code> 。</font></font></font></p><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1"><a name="v246" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"></a>Added in version 246.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 246 中。</font></font></font></p></dd><dt id="-EOPNOTSUPP" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><code class="constant" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">-EOPNOTSUPP</code></span><a class="headerlink" title="Permalink to this term" href="#-EOPNOTSUPP" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">¶</a></dt><dd data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1">The bus connection does not support sending file descriptors.
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">公共汽车连接不支持发送文件描述符。</font></font></font></p><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1"><a name="v246" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"></a>Added in version 246.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 246 中。</font></font></font></p></dd><dt id="-ECHILD" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><code class="constant" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">-ECHILD</code></span><a class="headerlink" title="Permalink to this term" href="#-ECHILD" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">¶</a></dt><dd data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1">The bus connection was allocated in a parent process and is being reused in a child
          process after <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">fork()</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">公交车连接在父进程中分配，并在 <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">fork()</code> 后在子进程中重复使用。</font></font></font></p><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1"><a name="v246" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"></a>Added in version 246.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加于版本 246。</font></font></font></p></dd><dt id="-ENOBUFS" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><code class="constant" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">-ENOBUFS</code></span><a class="headerlink" title="Permalink to this term" href="#-ENOBUFS" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">¶</a></dt><dd data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1">The bus connection's write queue is full.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">公共汽车连接的写队列已满。</font></font></font></p><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1"><a name="v246" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"></a>Added in version 246.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加于版本 246。</font></font></font></p></dd><dt id="-ENOTCONN" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><code class="constant" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">-ENOTCONN</code></span><a class="headerlink" title="Permalink to this term" href="#-ENOTCONN" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">¶</a></dt><dd data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1">The input parameter <em class="parameter" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><code data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">bus</code></em> is
          <code class="constant" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">NULL</code> or the bus is not connected.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">输入参数 <code data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">bus</code> 为 <code class="constant" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">NULL</code> 或公交车未连接。</font></font></font></p><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1"><a name="v246" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"></a>Added in version 246.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加于版本 246。</font></font></font></p></dd><dt id="-ECONNRESET" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><code class="constant" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">-ECONNRESET</code></span><a class="headerlink" title="Permalink to this term" href="#-ECONNRESET" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">¶</a></dt><dd data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1">The bus connection was closed while waiting for the response.
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在等待响应时，公交车连接已关闭。</font></font></font></p><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1"><a name="v246" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"></a>Added in version 246.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 246 中。</font></font></font></p></dd><dt id="-ENOMEM" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><code class="constant" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">-ENOMEM</code></span><a class="headerlink" title="Permalink to this term" href="#-ENOMEM" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">¶</a></dt><dd data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1">Memory allocation failed.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内存分配失败。</font></font></font></p><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1"><a name="v246" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"></a>Added in version 246.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加于版本 246。</font></font></font></p></dd></dl></div></div></div><div class="refsect1" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><a name="id-1.7" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"></a><h2 id="Notes" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1">Notes<a class="headerlink" title="Permalink to this headline" href="#Notes" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">笔记 ¶</font></font></font></h2><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1"><a name="pkgconfig-text" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"></a>Functions described here are available as a shared
  library, which can be compiled against and linked to with the
  <code class="constant" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">libsystemd</code>&nbsp;<a href="http://linux.die.net/man/1/pkg-config" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="citerefentry" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="refentrytitle" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">pkg-config</span>(1)</span></a>
  file.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处描述的函数可作为共享库使用，可以与 <code class="constant" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">libsystemd</code> pkg-config(1) 文件一起编译并链接。</font></font></font></p><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1"><a name="getenv" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"></a>The code described here uses
<a href="https://man7.org/linux/man-pages/man3/getenv.3.html" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="citerefentry" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="refentrytitle" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">getenv</span>(3)</span></a>,
which is declared to be not multi-thread-safe. This means that the code calling the functions described
here must not call
<a href="https://man7.org/linux/man-pages/man3/setenv.3.html" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="citerefentry" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="refentrytitle" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">setenv</span>(3)</span></a>
from a parallel thread. It is recommended to only do calls to <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">setenv()</code>
from an early phase of the program when no other threads have been started.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处描述的代码使用了 getenv(3)，该函数被声明为不支持多线程安全。这意味着调用此处描述的函数的代码不能从并行线程中调用 setenv(3)。建议仅在程序的早期阶段（没有启动其他线程时）调用 <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">setenv()</code> 。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><a name="id-1.8" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"></a><h2 id="History" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1">History<a class="headerlink" title="Permalink to this headline" href="#History" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">历史 ¶</font></font></font></h2><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send()</code> and
    <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send_to()</code> were added in version 246.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send()</code> 和 <code class="function" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_send_to()</code> 已在版本 246 中添加。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><a name="id-1.9" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"></a><h2 id="See Also" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">另请参阅 ¶</font></font></font></h2><p data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98" data-immersive-translate-paragraph="1">
      <a href="systemd.html#" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="citerefentry" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="refentrytitle" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">systemd</span>(1)</span></a>,
      <a href="sd-bus.html#" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="citerefentry" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="refentrytitle" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd-bus</span>(3)</span></a>,
      <a href="sd_bus_call_method.html#" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="citerefentry" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="refentrytitle" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_call_method</span>(3)</span></a>,
      <a href="sd_bus_message_set_destination.html#" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="citerefentry" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="refentrytitle" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_message_set_destination</span>(3)</span></a>,
      <a href="sd_bus_reply_method_return.html#" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="citerefentry" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="refentrytitle" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_reply_method_return</span>(3)</span></a>,
      <a href="sd_bus_process.html#" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="citerefentry" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98"><span class="refentrytitle" data-immersive-translate-walked="53fdd825-28ca-4487-9492-d62ed3403b98">sd_bus_process</span>(3)</span></a>
    </p></div></div>
</body></html>