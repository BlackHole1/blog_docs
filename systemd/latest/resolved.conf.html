<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>resolved.conf</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><a name="resolved.conf" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"></a><div class="titlepage" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"></div><div class="refnamediv" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><h2 data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">resolved.conf, resolved.conf.d — Network Name Resolution configuration files<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">resolved.conf, resolved.conf.d — 网络名称解析配置文件</font></font></font></p></div><div class="refsynopsisdiv" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><h2 data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">简介</font></font></font></h2><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/etc/systemd/resolved.conf</code></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/etc/systemd/resolved.conf.d/*.conf</code></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/run/systemd/resolved.conf.d/*.conf</code></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/usr/lib/systemd/resolved.conf.d/*.conf</code></p></div><div class="refsect1" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><a name="id-1.5" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"></a><h2 id="Description" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">These configuration files control local DNS and LLMNR
    name resolution.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这些配置文件控制本地 DNS 和 LLMNR 名称解析。</font></font></font></p></div><div class="refsection" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><a name="main-conf" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"></a><h2 data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Configuration Directories and Precedence<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置目录和优先级</font></font></font></h2><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">The default configuration is set during compilation, so configuration is only needed when it is
    necessary to deviate from those defaults. The main configuration file is either in
    <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/usr/lib/systemd/</code> or <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/etc/systemd/</code> and contains commented out
    entries showing the defaults as a guide to the administrator. Local overrides can be created by creating
    drop-ins, as described below. The main configuration file can also be edited for this purpose (or a copy
    in <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/etc/</code> if it's shipped in <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/usr/</code>) however using drop-ins for
    local configuration is recommended over modifications to the main configuration file.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">默认配置是在编译期间设置的，因此只有在需要偏离这些默认值时才需要配置。主配置文件位于 <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/usr/lib/systemd/</code> 或 <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/etc/systemd/</code> 中，并包含已注释掉的条目，显示默认值作为管理员的指南。可以通过创建 drop-ins 来创建本地覆盖，如下所述。也可以编辑主配置文件以实现此目的（或者如果它是在 <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/usr/</code> 中提供的，则可以在 <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/etc/</code> 中创建一个副本），但是建议使用 drop-ins 进行本地配置，而不是修改主配置文件。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">In addition to the "main" configuration file, drop-in configuration snippets are read from
    <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/usr/lib/systemd/*.conf.d/</code>, <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/usr/local/lib/systemd/*.conf.d/</code>,
    and <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/etc/systemd/*.conf.d/</code>. Those drop-ins have higher precedence and override the
    main configuration file. Files in the <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">*.conf.d/</code> configuration subdirectories are
    sorted by their filename in lexicographic order, regardless of in which of the subdirectories they
    reside. When multiple files specify the same option, for options which accept just a single value, the
    entry in the file sorted last takes precedence, and for options which accept a list of values, entries
    are collected as they occur in the sorted files.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">除了“主”配置文件外，还会从 <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/usr/lib/systemd/*.conf.d/</code> 、 <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/usr/local/lib/systemd/*.conf.d/</code> 和 <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/etc/systemd/*.conf.d/</code> 中读取 drop-in 配置片段。这些 drop-ins 具有更高的优先级，并覆盖主配置文件。 <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">*.conf.d/</code> 配置子目录中的文件按字典顺序排序，而不管它们位于哪个子目录中。当多个文件指定相同的选项时，对于只接受单个值的选项，最后排序的文件中的条目优先级最高，对于接受值列表的选项，条目将按照它们在排序文件中出现的顺序进行收集。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">When packages need to customize the configuration, they can install drop-ins under
    <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/usr/</code>. Files in <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/etc/</code> are reserved for the local administrator,
    who may use this logic to override the configuration files installed by vendor packages. Drop-ins have to
    be used to override package drop-ins, since the main configuration file has lower precedence. It is
    recommended to prefix all filenames in those subdirectories with a two-digit number and a dash, to
    simplify the ordering of the files. This also defined a concept of drop-in priority to allow
    distributions to ship drop-ins within a specific range lower than the range used by users. This should
    lower the risk of package drop-ins overriding accidentally drop-ins defined by users.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当软件包需要自定义配置时，它们可以在 <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/usr/</code> 下安装附加配置文件。 <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/etc/</code> 中的文件保留给本地管理员，管理员可以使用此逻辑来覆盖供应商软件包安装的配置文件。必须使用附加配置文件来覆盖软件包的附加配置文件，因为主配置文件的优先级较低。建议在这些子目录中的所有文件名前加上两位数字和一个破折号，以简化文件的排序。这还定义了一个附加配置文件优先级的概念，允许发行版在用户使用的范围之下的特定范围内提供附加配置文件。这应该降低软件包附加配置文件意外覆盖用户定义的附加配置文件的风险。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">To disable a configuration file supplied by the vendor, the recommended way is to place a symlink
    to <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/dev/null</code> in the configuration directory in <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/etc/</code>, with the
    same filename as the vendor configuration file.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要禁用供应商提供的配置文件，推荐的方法是在 <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/etc/</code> 的配置目录中放置一个指向 <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/dev/null</code> 的符号链接，与供应商配置文件具有相同的文件名。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><a name="id-1.7" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"></a><h2 id="Options" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Options<a class="headerlink" title="Permalink to this headline" href="#Options" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">选项</font></font></font></h2><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">The following options are available in the [Resolve] section:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 [Resolve] 部分中可用以下选项：</font></font></font></p><div class="variablelist" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><dl class="variablelist" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><dt id="DNS=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNS=</code></span><a class="headerlink" title="Permalink to this term" href="#DNS=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">¶</a></dt><dd data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">A space-separated list of IPv4 and IPv6 addresses to use as system DNS servers. Each address can
        optionally take a port number separated with "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">:</code>", a network interface name or index separated with
        "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">%</code>", and a Server Name Indication (SNI) separated with "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">#</code>". When IPv6 address is
        specified with a port number, then the address must be in the square brackets. That is, the acceptable full formats
        are "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">111.222.333.444:9953%ifname#example.com</code>" for IPv4 and
        "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">[1111:2222::3333]:9953%ifname#example.com</code>" for IPv6. DNS requests are sent to one of the listed
        DNS servers in parallel to suitable per-link DNS servers acquired from
        <a href="systemd-networkd.service.html#" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="citerefentry" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="refentrytitle" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">systemd-networkd.service</span>(8)</span></a> or
        set at runtime by external applications.  For compatibility reasons, if this setting is not specified, the DNS
        servers listed in <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/etc/resolv.conf</code> are used instead, if that file exists and any servers
        are configured in it. This setting defaults to the empty list.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一个以空格分隔的 IPv4 和 IPv6 地址列表，用作系统 DNS 服务器。每个地址可以选择性地带有用 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">:</code> " 分隔的端口号，用 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">%</code> " 分隔的网络接口名称或索引，以及用 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">#</code> " 分隔的服务器名称指示（SNI）。当指定带有端口号的 IPv6 地址时，地址必须在方括号内。也就是说，可接受的完整格式为 IPv4 的 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">111.222.333.444:9953%ifname#example.com</code> " 和 IPv6 的 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">[1111:2222::3333]:9953%ifname#example.com</code> "。DNS 请求将并行发送到列出的 DNS 服务器之一，以适当的每链路 DNS 服务器从 systemd-networkd.service(8) 获取或由外部应用程序在运行时设置。出于兼容性原因，如果未指定此设置，则将使用 <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/etc/resolv.conf</code> 中列出的 DNS 服务器，如果该文件存在并且其中配置了任何服务器。此设置默认为空列表。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><a name="v213" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"></a>Added in version 213.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加于版本 213。</font></font></font></p></dd><dt id="FallbackDNS=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">FallbackDNS=</code></span><a class="headerlink" title="Permalink to this term" href="#FallbackDNS=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">¶</a></dt><dd data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">A space-separated list of IPv4 and IPv6 addresses to use as the fallback DNS servers. Please see
        <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNS=</code> for acceptable format of addresses. Any per-link DNS servers obtained from
        <a href="systemd-networkd.service.html#" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="citerefentry" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="refentrytitle" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">systemd-networkd.service</span>(8)</span></a>
        take precedence over this setting, as do any servers set via <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNS=</code> above or
        <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/etc/resolv.conf</code>. This setting is hence only used if no other DNS server information is
        known. If this option is not given, a compiled-in list of DNS servers is used instead.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">作为备用 DNS 服务器使用的 IPv4 和 IPv6 地址的空格分隔列表。请参阅 <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNS=</code> 以获取地址的可接受格式。从 systemd-networkd.service(8) 获取的每个链接的 DNS 服务器优先于此设置，以及上面通过 <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNS=</code> 或 <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/etc/resolv.conf</code> 设置的任何服务器。因此，仅在不知道其他 DNS 服务器信息时才使用此设置。如果未提供此选项，则改为使用编译的 DNS 服务器列表。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><a name="v216" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"></a>Added in version 216.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 216 中。</font></font></font></p></dd><dt id="Domains=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">Domains=</code></span><a class="headerlink" title="Permalink to this term" href="#Domains=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">¶</a></dt><dd data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">A space-separated list of domains, optionally prefixed with "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">~</code>",
        used for two distinct purposes described below. Defaults to the empty list.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用于两个不同目的的域名的空格分隔列表，可选择以“ <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">~</code> ”为前缀。默认为空列表。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Any domains <span class="emphasis" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><em data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">not</em></span> prefixed with "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">~</code>" are used as search
        suffixes when resolving single-label hostnames (domain names which contain no dot), in order to
        qualify them into fully-qualified domain names (FQDNs). These "search domains" are strictly processed
        in the order they are specified in, until the name with the suffix appended is found. For
        compatibility reasons, if this setting is not specified, the search domains listed in
        <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/etc/resolv.conf</code> with the <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">search</code> keyword are used instead, if
        that file exists and any domains are configured in it.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">未以“ <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">~</code> ”为前缀的任何域名在解析单标签主机名（不包含点的域名）时用作搜索后缀，以便将它们转换为完全合格的域名（FQDN）。这些“搜索域”严格按照它们在指定的顺序进行处理，直到找到附加后缀的名称为止。出于兼容性原因，如果未指定此设置，则将使用 <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/etc/resolv.conf</code> 中列出的带有 <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">search</code> 关键字的搜索域，如果该文件存在并且其中配置了任何域。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">The domains prefixed with "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">~</code>" are called "route-only domains". All domains
        listed here (<span class="emphasis" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><em data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">both search domains and route-only domains</em></span> after removing the
        "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">~</code>" prefix) define a search path that preferably directs DNS queries to this
        interface. This search path has an effect only when suitable per-link DNS servers are known. Such
        servers may be defined through the <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNS=</code> setting (see above) and dynamically at run
        time, for example from DHCP leases. If no per-link DNS servers are known, route-only domains have no
        effect.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">带有“ <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">~</code> ”前缀的域称为“仅路由域”。这里列出的所有域（删除“ <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">~</code> ”前缀后的搜索域和仅路由域）定义了一个搜索路径，优先将 DNS 查询引导到此接口。只有在已知适当的每个链接 DNS 服务器时，此搜索路径才会生效。这些服务器可以通过 <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNS=</code> 设置（参见上文）静态定义，也可以在运行时动态定义，例如从 DHCP 租约中。如果没有已知的每个链接 DNS 服务器，则仅路由域不会生效。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Use the construct "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">~.</code>" (which is composed from "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">~</code>" to
        indicate a route-only domain and "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">.</code>" to indicate the DNS root domain that is the
        implied suffix of all DNS domains) to use the DNS servers defined for this link preferably for all
        domains.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用构造“ <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">~.</code> ”（由“ <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">~</code> ”组成，用于指示仅路由域和“ <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">.</code> ”用于指示 DNS 根域，即所有 DNS 域的隐含后缀）优先使用为此链接定义的 DNS 服务器处理所有域。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">See "Protocols and Routing" in
        <a href="systemd-resolved.service.html#" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="citerefentry" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="refentrytitle" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">systemd-resolved.service</span>(8)</span></a>
        for details of how search and route-only domains are used.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">有关搜索和仅路由域的详细信息，请参阅 systemd-resolved.service(8) 中的“协议和路由”。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Note that configuring the MulticastDNS domain "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">local</code>" as search or routing
        domain has the effect of routing lookups for this domain to classic unicast DNS. This may be used to
        provide compatibility with legacy installations that use this domain in a unicast DNS context,
        against the IANA assignment of this domain to pure MulticastDNS purposes. Search and routing domains
        are a unicast DNS concept, they <span class="emphasis" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><em data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">cannot</em></span> be used to resolve single-label lookups
        via MulticastDNS.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，将 MulticastDNS 域 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">local</code> " 配置为搜索或路由域会将对该域的查找路由到经典的单播 DNS。这可用于与在单播 DNS 上使用该域的传统安装的兼容性，而不是将该域的 IANA 分配用于纯 MulticastDNS 目的。搜索和路由域是单播 DNS 概念，不能用于通过 MulticastDNS 解析单标签查找。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><a name="v229" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"></a>Added in version 229.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 229 中添加。</font></font></font></p></dd><dt id="LLMNR=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">LLMNR=</code></span><a class="headerlink" title="Permalink to this term" href="#LLMNR=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">¶</a></dt><dd data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Takes a boolean argument or
        "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">resolve</code>". Controls Link-Local Multicast Name
        Resolution support (<a class="ulink" href="https://tools.ietf.org/html/rfc4795" target="_top" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">RFC 4795</a>) on
        the local host. If true, enables full LLMNR responder and
        resolver support. If false, disables both. If set to
        "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">resolve</code>", only resolution support is enabled,
        but responding is disabled. Note that
        <a href="systemd-networkd.service.html#" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="citerefentry" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="refentrytitle" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">systemd-networkd.service</span>(8)</span></a>
        also maintains per-link LLMNR settings. LLMNR will be
        enabled on a link only if the per-link and the
        global setting is on.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受一个布尔参数或 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">resolve</code> "。控制本地主机上的 Link-Local Multicast Name Resolution 支持（RFC 4795）。如果为 true，则启用完整的 LLMNR 响应器和解析器支持。如果为 false，则两者都禁用。如果设置为 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">resolve</code> "，则仅启用解析支持，但禁用响应。请注意，systemd-networkd.service(8) 还维护每个链接的 LLMNR 设置。仅当每个链接和全局设置都打开时，LLMNR 才会在链接上启用。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><a name="v216" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"></a>Added in version 216.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 216 中。</font></font></font></p></dd><dt id="MulticastDNS=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">MulticastDNS=</code></span><a class="headerlink" title="Permalink to this term" href="#MulticastDNS=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">¶</a></dt><dd data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Takes a boolean argument or
        "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">resolve</code>". Controls Multicast DNS support (<a class="ulink" href="https://tools.ietf.org/html/rfc6762" target="_top" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">RFC 6762</a>) on
        the local host. If true, enables full Multicast DNS responder and
        resolver support. If false, disables both. If set to
        "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">resolve</code>", only resolution support is enabled,
        but responding is disabled. Note that
        <a href="systemd-networkd.service.html#" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="citerefentry" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="refentrytitle" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">systemd-networkd.service</span>(8)</span></a>
        also maintains per-link Multicast DNS settings. Multicast DNS will be
        enabled on a link only if the per-link and the
        global setting is on.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受一个布尔参数或 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">resolve</code> "。控制本地主机上的多播 DNS 支持（RFC 6762）。如果为 true，则启用完整的多播 DNS 响应器和解析器支持。如果为 false，则两者都将被禁用。如果设置为 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">resolve</code> "，则仅启用解析支持，但禁用响应。请注意，systemd-networkd.service(8) 也维护每个链接的多播 DNS 设置。只有在每个链接和全局设置都打开的情况下，多播 DNS 才会在链接上启用。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><a name="v234" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"></a>Added in version 234.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 234 中添加。</font></font></font></p></dd><dt id="DNSSEC=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNSSEC=</code></span><a class="headerlink" title="Permalink to this term" href="#DNSSEC=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">¶</a></dt><dd data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Takes a boolean argument or "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">allow-downgrade</code>".<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受一个布尔参数或 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">allow-downgrade</code> "。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">If set to true, all DNS lookups are DNSSEC-validated locally (excluding LLMNR and Multicast
        DNS). If the response to a lookup request is detected to be invalid a lookup failure is returned to
        applications. Note that this mode requires a DNS server that supports DNSSEC. If the DNS server does
        not properly support DNSSEC all validations will fail.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果设置为 true，则所有 DNS 查找都在本地进行 DNSSEC 验证（不包括 LLMNR 和多播 DNS）。如果检测到查找请求的响应无效，则将向应用程序返回查找失败。请注意，此模式需要支持 DNSSEC 的 DNS 服务器。如果 DNS 服务器不正确支持 DNSSEC，则所有验证都将失败。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">If set to "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">allow-downgrade</code>", DNSSEC validation is attempted, but if the server
        does not support DNSSEC properly, DNSSEC mode is automatically disabled. Note that this mode makes
        DNSSEC validation vulnerable to "downgrade" attacks, where an attacker might be able to trigger a
        downgrade to non-DNSSEC mode by synthesizing a DNS response that suggests DNSSEC was not
        supported.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果设置为 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">allow-downgrade</code> "，则尝试进行 DNSSEC 验证，但如果服务器不正确支持 DNSSEC，则 DNSSEC 模式会自动禁用。请注意，此模式使 DNSSEC 验证容易受到“降级”攻击的影响，攻击者可能通过合成暗示不支持 DNSSEC 的 DNS 响应来触发降级到非 DNSSEC 模式。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">If set to false, DNS lookups are not DNSSEC validated. In this mode, or when set to
        "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">allow-downgrade</code>" and the downgrade has happened, the resolver becomes
        security-unaware and all forwarded queries have DNSSEC OK (DO) bit unset.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果设置为 false，则 DNS 查询不经过 DNSSEC 验证。在此模式下，或者当设置为 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">allow-downgrade</code> " 并发生降级时，解析器变为不具备安全意识，所有转发的查询都不具备 DNSSEC OK（DO）位。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Note that DNSSEC validation requires retrieval of additional DNS data, and thus results in a
        small DNS lookup time penalty.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，DNSSEC 验证需要检索额外的 DNS 数据，因此会导致小幅度的 DNS 查询时间惩罚。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">DNSSEC requires knowledge of "trust anchors" to prove
        data integrity. The trust anchor for the Internet root domain
        is built into the resolver, additional trust anchors may be
        defined with
        <a href="dnssec-trust-anchors.d.html#" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="citerefentry" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="refentrytitle" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">dnssec-trust-anchors.d</span>(5)</span></a>.
        Trust anchors may change at regular intervals, and old trust
        anchors may be revoked. In such a case DNSSEC validation is
        not possible until new trust anchors are configured locally or
        the resolver software package is updated with the new root
        trust anchor. In effect, when the built-in trust anchor is
        revoked and <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNSSEC=</code> is true, all further
        lookups will fail, as it cannot be proved anymore whether
        lookups are correctly signed, or validly unsigned. If
        <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNSSEC=</code> is set to
        "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">allow-downgrade</code>" the resolver will
        automatically turn off DNSSEC validation in such a case.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">DNSSEC 需要“信任锚点”的知识来证明数据完整性。互联网根域的信任锚点已内置于解析器中，额外的信任锚点可以通过 dnssec-trust-anchors.d(5)定义。信任锚点可能会定期更改，旧的信任锚点可能会被撤销。在这种情况下，直到本地配置新的信任锚点或更新解析器软件包以包含新的根信任锚点之前，DNSSEC 验证将无法进行。实际上，当内置信任锚点被撤销且 <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNSSEC=</code> 为真时，所有后续查找都将失败，因为无法再证明查找是否被正确签名或有效地未签名。如果 <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNSSEC=</code> 设置为“ <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">allow-downgrade</code> ”，解析器将在这种情况下自动关闭 DNSSEC 验证。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Client programs looking up DNS data will be informed
        whether lookups could be verified using DNSSEC, or whether the
        returned data could not be verified (either because the data
        was found unsigned in the DNS, or the DNS server did not
        support DNSSEC or no appropriate trust anchors were known). In
        the latter case it is assumed that client programs employ a
        secondary scheme to validate the returned DNS data, should
        this be required.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">查找 DNS 数据的客户端程序将被告知是否可以使用 DNSSEC 进行验证查找，或者返回的数据无法验证（可能是因为在 DNS 中找到的数据未签名，或者 DNS 服务器不支持 DNSSEC，或者没有已知的适当信任锚点）。在后一种情况下，假定客户端程序采用辅助方案来验证返回的 DNS 数据，如果需要的话。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">It is recommended to set <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNSSEC=</code> to
        true on systems where it is known that the DNS server supports
        DNSSEC correctly, and where software or trust anchor updates
        happen regularly. On other systems it is recommended to set
        <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNSSEC=</code> to
        "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">allow-downgrade</code>".<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">建议在已知 DNS 服务器正确支持 DNSSEC 并且软件或信任锚更新定期发生的系统上将 <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNSSEC=</code> 设置为 true。在其他系统上，建议将 <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNSSEC=</code> 设置为 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">allow-downgrade</code> "。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">In addition to this global DNSSEC setting
        <a href="systemd-networkd.service.html#" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="citerefentry" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="refentrytitle" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">systemd-networkd.service</span>(8)</span></a>
        also maintains per-link DNSSEC settings. For system DNS
        servers (see above), only the global DNSSEC setting is in
        effect. For per-link DNS servers the per-link
        setting is in effect, unless it is unset in which case the
        global setting is used instead.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">除了全局 DNSSEC 设置外，systemd-networkd.service(8) 还维护每个链接的 DNSSEC 设置。对于系统 DNS 服务器（参见上文），只有全局 DNSSEC 设置生效。对于每个链接的 DNS 服务器，每个链接设置生效，除非未设置，此时将使用全局设置。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Site-private DNS zones generally conflict with DNSSEC
        operation, unless a negative (if the private zone is not
        signed) or positive (if the private zone is signed) trust
        anchor is configured for them. If
        "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">allow-downgrade</code>" mode is selected, it is
        attempted to detect site-private DNS zones using top-level
        domains (TLDs) that are not known by the DNS root server. This
        logic does not work in all private zone setups.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">站点私有 DNS 区域通常与 DNSSEC 操作冲突，除非为它们配置了负（如果私有区域未签名）或正（如果私有区域已签名）信任锚定。如果选择“ <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">allow-downgrade</code> ”模式，则尝试使用 DNS 根服务器不知道的顶级域名（TLD）来检测站点私有 DNS 区域。这种逻辑在所有私有区域设置中都不起作用。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Defaults to "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">allow-downgrade</code>".<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">默认为“ <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">allow-downgrade</code> ”。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><a name="v229" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"></a>Added in version 229.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 229 中添加。</font></font></font></p></dd><dt id="DNSOverTLS=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNSOverTLS=</code></span><a class="headerlink" title="Permalink to this term" href="#DNSOverTLS=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">¶</a></dt><dd data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Takes a boolean argument or "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">opportunistic</code>". If
        true all connections to the server will be encrypted. Note that this
        mode requires a DNS server that supports DNS-over-TLS and has a valid
        certificate. If the hostname was specified in <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNS=</code>
        by using the format "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">address#server_name</code>" it
        is used to validate its certificate and also to enable Server Name
        Indication (SNI) when opening a TLS connection. Otherwise
        the certificate is checked against the server's IP.
        If the DNS server does not support DNS-over-TLS all DNS requests will fail.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受布尔参数或“ <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">opportunistic</code> ”。如果为 true，则所有与服务器的连接将被加密。请注意，此模式需要支持 DNS-over-TLS 并具有有效证书的 DNS 服务器。如果在 <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNS=</code> 中使用格式“ <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">address#server_name</code> ”指定了主机名，则用于验证其证书，并在打开 TLS 连接时启用服务器名称指示（SNI）。否则，证书将根据服务器的 IP 进行检查。如果 DNS 服务器不支持 DNS-over-TLS，则所有 DNS 请求将失败。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">When set to "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">opportunistic</code>"
        DNS request are attempted to send encrypted with DNS-over-TLS.
        If the DNS server does not support TLS, DNS-over-TLS is disabled.
        Note that this mode makes DNS-over-TLS vulnerable to "downgrade"
        attacks, where an attacker might be able to trigger a downgrade
        to non-encrypted mode by synthesizing a response that suggests
        DNS-over-TLS was not supported. If set to false, DNS lookups
        are send over UDP.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当设置为 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">opportunistic</code> " 时，DNS 请求将尝试使用 DNS-over-TLS 加密发送。如果 DNS 服务器不支持 TLS，则将禁用 DNS-over-TLS。请注意，此模式使 DNS-over-TLS 容易受到“降级”攻击的影响，攻击者可能通过合成表明不支持 DNS-over-TLS 的响应来触发降级到非加密模式。如果设置为 false，则 DNS 查找将通过 UDP 发送。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Note that DNS-over-TLS requires additional data to be
        send for setting up an encrypted connection, and thus results
        in a small DNS look-up time penalty.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，DNS-over-TLS 需要发送额外的数据来建立加密连接，因此会导致小幅 DNS 查找时间延迟。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Note that in "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">opportunistic</code>" mode the
        resolver is not capable of authenticating the server, so it is
        vulnerable to "man-in-the-middle" attacks.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，在 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">opportunistic</code> " 模式下，解析器无法对服务器进行身份验证，因此容易受到“中间人”攻击的影响。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">In addition to this global <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNSOverTLS=</code> setting
        <a href="systemd-networkd.service.html#" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="citerefentry" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="refentrytitle" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">systemd-networkd.service</span>(8)</span></a>
        also maintains per-link <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNSOverTLS=</code> settings. For system DNS servers (see above), only the global
        <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNSOverTLS=</code> setting is in effect. For per-link DNS servers the per-link setting is in effect, unless
        it is unset in which case the global setting is used instead.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">除了全局 <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNSOverTLS=</code> 设置外，systemd-networkd.service(8) 还维护每个链接的每个链接 <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNSOverTLS=</code> 设置。对于系统 DNS 服务器（请参见上文），只有全局 <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNSOverTLS=</code> 设置生效。对于每个链接的 DNS 服务器，每个链接设置生效，除非未设置，此时将使用全局设置。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Defaults to "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">no</code>".<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">默认为 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">no</code> "。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><a name="v239" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"></a>Added in version 239.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 239 中添加。</font></font></font></p></dd><dt id="Cache=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">Cache=</code></span><a class="headerlink" title="Permalink to this term" href="#Cache=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">¶</a></dt><dd data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Takes a boolean or "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">no-negative</code>" as argument. If
        "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">yes</code>" (the default), resolving a domain name which already got queried earlier will
        return the previous result as long as it is still valid, and thus does not result in a new network
        request. Be aware that turning off caching comes at a performance penalty, which is particularly high
        when DNSSEC is used. If "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">no-negative</code>", only positive answers are cached.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受布尔值或 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">no-negative</code> " 作为参数。如果是 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">yes</code> "（默认值），解析已经查询过的域名将返回先前的结果，只要它仍然有效，因此不会导致新的网络请求。请注意，关闭缓存会带来性能损失，特别是在使用 DNSSEC 时。如果是 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">no-negative</code> "，只有正向答案会被缓存。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Note that caching is turned off by default for host-local DNS servers.
        See <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">CacheFromLocalhost=</code> for details.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，默认情况下，主机本地 DNS 服务器的缓存是关闭的。有关详细信息，请参阅 <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">CacheFromLocalhost=</code> 。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><a name="v231" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"></a>Added in version 231.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 231 中添加。</font></font></font></p></dd><dt id="CacheFromLocalhost=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">CacheFromLocalhost=</code></span><a class="headerlink" title="Permalink to this term" href="#CacheFromLocalhost=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">¶</a></dt><dd data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Takes a boolean as argument. If "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">no</code>" (the default), and response cames from
        host-local IP address (such as 127.0.0.1 or ::1), the result wouldn't be cached in order to avoid
        potential duplicate local caching.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受布尔值作为参数。如果“ <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">no</code> ”（默认值），并且响应来自主机本地 IP 地址（例如 127.0.0.1 或 ::1），为避免潜在的重复本地缓存，结果不会被缓存。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><a name="v248" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"></a>Added in version 248.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 248 中添加。</font></font></font></p></dd><dt id="DNSStubListener=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNSStubListener=</code></span><a class="headerlink" title="Permalink to this term" href="#DNSStubListener=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">¶</a></dt><dd data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Takes a boolean argument or one of "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">udp</code>" and
        "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">tcp</code>". If "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">udp</code>", a DNS stub resolver will listen for UDP requests
        on addresses 127.0.0.53 and 127.0.0.54, port 53. If "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">tcp</code>", the stub will listen for
        TCP requests on the same addresses and port. If "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">yes</code>" (the default), the stub listens
        for both UDP and TCP requests. If "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">no</code>", the stub listener is disabled.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受布尔值或“ <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">udp</code> ”和“ <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">tcp</code> ”之一作为参数。如果是“ <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">udp</code> ”，DNS 存根解析器将在地址 127.0.0.53 和 127.0.0.54，端口 53 上监听 UDP 请求。如果是“ <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">tcp</code> ”，存根将在相同的地址和端口上监听 TCP 请求。如果是“ <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">yes</code> ”（默认值），存根同时监听 UDP 和 TCP 请求。如果是“ <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">no</code> ”，存根监听器将被禁用。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><a name="proxy-stub" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"></a>The DNS stub resolver on 127.0.0.53 provides the full feature set of the local
      resolver, which includes offering LLMNR/MulticastDNS resolution. The DNS stub resolver on 127.0.0.54
      provides a more limited resolver, that operates in "proxy" mode only, i.e. it will pass most DNS
      messages relatively unmodified to the current upstream DNS servers and back, but not try to process the
      messages locally, and hence does not validate DNSSEC, or offer up LLMNR/MulticastDNS. (It will
      translate to DNS-over-TLS communication if needed however.)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">127.0.0.53 上的 DNS 存根解析器提供本地解析器的完整功能集，其中包括提供 LLMNR/MulticastDNS 解析。127.0.0.54 上的 DNS 存根解析器提供更有限的解析器，仅以“代理”模式运行，即将大多数 DNS 消息相对不经修改地传递给当前的上游 DNS 服务器，但不尝试在本地处理消息，因此不验证 DNSSEC，也不提供 LLMNR/MulticastDNS。（但如果需要，它将转换为 DNS-over-TLS 通信。）</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Note that the DNS stub listener is turned off implicitly when its listening address and port are already
        in use.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意，当 DNS 存根侦听器的监听地址和端口已被使用时，它会隐式关闭。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><a name="v232" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"></a>Added in version 232.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 232 中添加。</font></font></font></p></dd><dt id="DNSStubListenerExtra=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNSStubListenerExtra=</code></span><a class="headerlink" title="Permalink to this term" href="#DNSStubListenerExtra=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">¶</a></dt><dd data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Takes an IPv4 or IPv6 address to listen on. The address may be optionally
        prefixed with a protocol name ("<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">udp</code>" or "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">tcp</code>") separated with
        "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">:</code>". If the protocol is not specified, the service will listen on both UDP and
        TCP. It may be also optionally suffixed by a numeric port number with separator
        "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">:</code>". When an IPv6 address is specified with a port number, then the address
        must be in the square brackets. If the port is not specified, then the service uses port 53.
        Note that this is independent of the primary DNS stub configured with
        <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">DNSStubListener=</code>, and only configures <span class="emphasis" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><em data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">additional</em></span>
        sockets to listen on. This option can be specified multiple times. If an empty string is
        assigned, then the all previous assignments are cleared. Defaults to unset.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受一个 IPv4 或 IPv6 地址进行监听。地址可以选择性地以协议名称（" <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">udp</code> " 或 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">tcp</code> "）为前缀，用 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">:</code> " 分隔。如果未指定协议，服务将同时监听 UDP 和 TCP。也可以选择性地在末尾加上用 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">:</code> " 分隔的数字端口号。当指定带有端口号的 IPv6 地址时，地址必须在方括号内。如果未指定端口，则服务将使用端口 53。请注意，这与配置的主 DNS 存根无关，仅配置额外的套接字进行监听。此选项可以多次指定。如果分配空字符串，则清除所有先前的分配。默认为未设置。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Examples:
        <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例:</font></font></font></p><pre class="programlisting">DNSStubListenerExtra=192.168.10.10
DNSStubListenerExtra=2001:db8:0:f102::10
DNSStubListenerExtra=192.168.10.11:9953
DNSStubListenerExtra=[2001:db8:0:f102::11]:9953
DNSStubListenerExtra=tcp:192.168.10.12
DNSStubListenerExtra=udp:2001:db8:0:f102::12
DNSStubListenerExtra=tcp:192.168.10.13:9953
DNSStubListenerExtra=udp:[2001:db8:0:f102::13]:9953</pre><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">
        </p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><a name="v247" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"></a>Added in version 247.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 247 中添加。</font></font></font></p></dd><dt id="ReadEtcHosts=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">ReadEtcHosts=</code></span><a class="headerlink" title="Permalink to this term" href="#ReadEtcHosts=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">¶</a></dt><dd data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Takes a boolean argument. If "<code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">yes</code>" (the default),
        <span class="command" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><strong data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">systemd-resolved</strong></span> will read <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/etc/hosts</code>, and try to resolve
        hosts or address by using the entries in the file before sending query to DNS servers.
        <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受一个布尔参数。如果为 " <code class="literal" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">yes</code> "（默认），systemd-resolved 将读取 <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/etc/hosts</code> ，并在向 DNS 服务器发送查询之前尝试通过文件中的条目解析主机或地址。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><a name="v240" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"></a>Added in version 240.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加于版本 240。</font></font></font></p></dd><dt id="ResolveUnicastSingleLabel=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">ResolveUnicastSingleLabel=</code></span><a class="headerlink" title="Permalink to this term" href="#ResolveUnicastSingleLabel=" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">¶</a></dt><dd data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Takes a boolean argument. When false (the default),
        <span class="command" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><strong data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">systemd-resolved</strong></span> will not resolve A and AAAA queries for single-label names over
        classic DNS. Note that such names may still be resolved if search domains are specified (see
        <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">Domains=</code> above), or using other mechanisms, in particular via LLMNR or from
        <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/etc/hosts</code>. When true, queries for single-label names will be forwarded to
        global DNS servers even if no search domains are defined.
        <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受一个布尔参数。当为 false（默认值）时，systemd-resolved 不会解析经典 DNS 中的单标签名称的 A 和 AAAA 查询。请注意，如果指定了搜索域（请参见 <code class="varname" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">Domains=</code> ），或者使用其他机制，特别是通过 LLMNR 或从 <code class="filename" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">/etc/hosts</code> ，这样的名称仍然可以被解析。当为 true 时，即使未定义搜索域，也会将单标签名称的查询转发到全局 DNS 服务器。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">This option is provided for compatibility with configurations where <span class="emphasis" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><em data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">public DNS
        servers are not used</em></span>. Forwarding single-label names to servers not under your control is
        not standard-conformant, see <a class="ulink" href="https://www.iab.org/documents/correspondence-reports-documents/2013-2/iab-statement-dotless-domains-considered-harmful/" target="_top" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">IAB
        Statement</a>, and may create a privacy and security risk.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项用于与不使用公共 DNS 服务器的配置兼容。将单标签名称转发到不受您控制的服务器不符合标准，参见 IAB 声明，可能会造成隐私和安全风险。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><a name="v246" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"></a>Added in version 246.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 246 中。</font></font></font></p></dd><dt id="StaleRetentionSec=SECONDS" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">StaleRetentionSec=<em class="replaceable" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><code data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">SECONDS</code></em></span><a class="headerlink" title="Permalink to this term" href="#StaleRetentionSec=SECONDS" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">StaleRetentionSec= <code data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">SECONDS</code> </font></font></font></dt><dd data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">Takes a duration value, which determines the length of time DNS resource records can
        be retained in the cache beyond their Time To Live (TTL). This allows these records to be returned as
        stale records. By default, this value is set to zero, meaning that DNS resource records are not
        stored in the cache after their TTL expires.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受持续时间值，该值确定 DNS 资源记录在其生存时间 (TTL) 结束后在缓存中保留的时间长度。这允许这些记录作为陈旧记录返回。默认情况下，此值设置为零，意味着 DNS 资源记录在其 TTL 过期后不会存储在缓存中。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">This is useful when a DNS server failure occurs or becomes unreachable. In such cases,
        <a href="systemd-resolved.html#" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="citerefentry" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="refentrytitle" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">systemd-resolved</span>(8)</span></a>
        continues to use the stale records to answer DNS queries, particularly when no valid response can be
        obtained from the upstream DNS servers. However, this doesn't apply to NXDOMAIN responses, as those
        are still perfectly valid responses. This feature enhances resilience against DNS infrastructure
        failures and outages.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当 DNS 服务器发生故障或变得不可访问时，这将非常有用。在这种情况下，systemd-resolved(8) 继续使用陈旧记录来回答 DNS 查询，特别是当无法从上游 DNS 服务器获得有效响应时。但是，这不适用于 NXDOMAIN 响应，因为这些仍然是完全有效的响应。此功能增强了对 DNS 基础设施故障和中断的弹性。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><span class="command" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><strong data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">systemd-resolved</strong></span> always attempts to reach the upstream DNS servers first,
        before providing the client application with any stale data. If this feature is enabled, cache will
        not be flushed when changing servers.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">systemd-resolved 总是首先尝试联系上游 DNS 服务器，然后才向客户端应用程序提供任何陈旧数据。如果启用此功能，则更改服务器时不会清除缓存。</font></font></font></p><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1"><a name="v254" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"></a>Added in version 254.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 254 中。</font></font></font></p></dd></dl></div></div><div class="refsect1" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><a name="id-1.8" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"></a><h2 id="See Also" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">参见 ¶</font></font></font></h2><p data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c" data-immersive-translate-paragraph="1">
      <a href="systemd.html#" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="citerefentry" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="refentrytitle" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">systemd</span>(1)</span></a>,
      <a href="systemd-resolved.service.html#" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="citerefentry" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="refentrytitle" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">systemd-resolved.service</span>(8)</span></a>,
      <a href="systemd-networkd.service.html#" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="citerefentry" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="refentrytitle" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">systemd-networkd.service</span>(8)</span></a>,
      <a href="dnssec-trust-anchors.d.html#" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="citerefentry" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="refentrytitle" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">dnssec-trust-anchors.d</span>(5)</span></a>,
      <a href="https://man7.org/linux/man-pages/man5/resolv.conf.5.html" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="citerefentry" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c"><span class="refentrytitle" data-immersive-translate-walked="31b9d3ac-2b3b-466f-b56b-3b63844cbf9c">resolv.conf</span>(5)</span></a>
      </p></div></div>
</body></html>