<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>sd_journal_enumerate_fields</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><a name="sd_journal_enumerate_fields" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"></a><div class="titlepage" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"></div><div class="refnamediv" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><h2 data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596" data-immersive-translate-paragraph="1">sd_journal_enumerate_fields, sd_journal_restart_fields, SD_JOURNAL_FOREACH_FIELD — Read used field names from the journal<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">sd_journal_enumerate_fields，sd_journal_restart_fields，SD_JOURNAL_FOREACH_FIELD — 从日志中读取使用的字段名称</font></font></font></p></div><div class="refsynopsisdiv" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><h2 data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">概要</font></font></font></h2><div class="funcsynopsis"><pre class="funcsynopsisinfo">#include &lt;systemd/sd-journal.h&gt;</pre><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_journal_enumerate_fields</b>(</code></td><td>sd_journal *<var class="pdparam">j</var>, </td></tr><tr><td>&nbsp;</td><td>const char **<var class="pdparam">field</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">void <b class="fsfunc">sd_journal_restart_fields</b>(</code></td><td>sd_journal *<var class="pdparam">j</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef"><b class="fsfunc">SD_JOURNAL_FOREACH_FIELD</b>(</code></td><td>sd_journal *<var class="pdparam">j</var>, </td></tr><tr><td>&nbsp;</td><td>const char *<var class="pdparam">field</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div></div></div><div class="refsect1" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><a name="id-1.5" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"></a><h2 id="Description" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_enumerate_fields()</code> may be used to iterate through all field names used in the
    opened journal files. On each invocation the next field name is returned. The order of the returned field names is
    not defined. It takes two arguments: the journal context object, plus a pointer to a constant string pointer where
    the field name is stored in. The returned data is in a read-only memory map and is only valid until the next
    invocation of <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_enumerate_fields()</code>. Note that this call is subject to the data field
    size threshold as controlled by <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_set_data_threshold()</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_enumerate_fields()</code> 可用于迭代打开的日志文件中使用的所有字段名称。在每次调用时，将返回下一个字段名称。返回的字段名称顺序未定义。它接受两个参数：日志上下文对象，以及一个指向常量字符串指针的指针，其中存储了字段名称。返回的数据位于只读内存映射中，仅在下一次调用 <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_enumerate_fields()</code> 之前有效。请注意，此调用受 <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_set_data_threshold()</code> 控制的数据字段大小阈值限制。</font></font></font></p><p data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_restart_fields()</code> resets the field name enumeration index to the beginning of
    the list. The next invocation of <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_enumerate_fields()</code> will return the first field
    name again.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_restart_fields()</code> 将字段名称枚举索引重置为列表开头。下一次调用 <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_enumerate_fields()</code> 将再次返回第一个字段名称。</font></font></font></p><p data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596" data-immersive-translate-paragraph="1">The <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">SD_JOURNAL_FOREACH_FIELD()</code> macro may be used as a handy wrapper around
    <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_restart_fields()</code> and <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_enumerate_fields()</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">SD_JOURNAL_FOREACH_FIELD()</code> 宏可用作 <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_restart_fields()</code> 和 <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_enumerate_fields()</code> 的便捷包装器。</font></font></font></p><p data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596" data-immersive-translate-paragraph="1">These functions currently are not influenced by matches set with <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_add_match()</code>
    but this might change in a later version of this software.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这些函数目前不受使用 <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_add_match()</code> 设置的匹配影响，但这可能会在软件的后续版本中发生变化。</font></font></font></p><p data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596" data-immersive-translate-paragraph="1">To retrieve the possible values a specific field can take use
    <a href="sd_journal_query_unique.html#" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><span class="citerefentry" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><span class="refentrytitle" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_query_unique</span>(3)</span></a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要检索特定字段可以采用的可能值，请使用 sd_journal_query_unique(3)。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><a name="id-1.6" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"></a><h2 id="Return Value" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596" data-immersive-translate-paragraph="1">Return Value<a class="headerlink" title="Permalink to this headline" href="#Return%20Value" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">返回值</font></font></font></h2><p data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_enumerate_fields()</code> returns a
    positive integer if the next field name has been read, 0 when no
    more field names are known, or a negative errno-style error code.
    <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_restart_fields()</code> returns
    nothing.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果已读取下一个字段名称，则 <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_enumerate_fields()</code> 返回正整数，当不再知道字段名称时返回 0，或者返回负的 errno 风格错误代码。 <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_restart_fields()</code> 不返回任何内容。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><a name="id-1.7" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"></a><h2 id="Notes" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596" data-immersive-translate-paragraph="1">Notes<a class="headerlink" title="Permalink to this headline" href="#Notes" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">笔记 ¶</font></font></font></h2><p data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596" data-immersive-translate-paragraph="1"><a name="strict" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"></a>All functions listed here are thread-agnostic and only a single specific thread may operate on a
given object during its entire lifetime. It's safe to allocate multiple independent objects and use each from a
specific thread in parallel. However, it's not safe to allocate such an object in one thread, and operate or free it
from any other, even if locking is used to ensure these threads don't operate on it at the very same time.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这里列出的所有函数都与线程无关，只能有一个特定的线程在其整个生命周期内操作给定的对象。可以安全地分配多个独立的对象，并在特定线程中并行使用每个对象。然而，不能在一个线程中分配这样的对象，然后在任何其他线程中操作或释放它，即使使用锁定来确保这些线程不会在同一时间操作它。</font></font></font></p><p data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596" data-immersive-translate-paragraph="1"><a name="pkgconfig-text" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"></a>Functions described here are available as a shared
  library, which can be compiled against and linked to with the
  <code class="constant" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">libsystemd</code>&nbsp;<a href="http://linux.die.net/man/1/pkg-config" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><span class="citerefentry" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><span class="refentrytitle" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">pkg-config</span>(1)</span></a>
  file.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处描述的函数可作为共享库使用，可以与 <code class="constant" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">libsystemd</code> pkg-config(1) 文件一起编译并链接。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><a name="id-1.8" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"></a><h2 id="Examples" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596" data-immersive-translate-paragraph="1">Examples<a class="headerlink" title="Permalink to this headline" href="#Examples" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例</font></font></font></h2><p data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596" data-immersive-translate-paragraph="1">Use the <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">SD_JOURNAL_FOREACH_FIELD()</code> macro to iterate through all field names in use in the
    current journal.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">SD_JOURNAL_FOREACH_FIELD()</code> 宏来遍历当前日志中使用的所有字段名称。</font></font></font></p><pre class="programlisting">/* SPDX-License-Identifier: MIT-0 */

#include &lt;errno.h&gt;
#include &lt;stdio.h&gt;
#include &lt;systemd/sd-journal.h&gt;

int main(int argc, char *argv[]) {
  sd_journal *j;
  const char *field;
  int r;

  r = sd_journal_open(&amp;j, SD_JOURNAL_LOCAL_ONLY);
  if (r &lt; 0) {
    errno = -r;
    fprintf(stderr, "Failed to open journal: %m\n");
    return 1;
  }
  SD_JOURNAL_FOREACH_FIELD(j, field)
    printf("%s\n", field);
  sd_journal_close(j);
  return 0;
}
</pre></div><div class="refsect1" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><a name="id-1.9" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"></a><h2 id="History" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596" data-immersive-translate-paragraph="1">History<a class="headerlink" title="Permalink to this headline" href="#History" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">历史 ¶</font></font></font></h2><p data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_enumerate_fields()</code>,
    <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_restart_fields()</code>, and
    <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">SD_JOURNAL_FOREACH_FIELD()</code> were added in version 229.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_enumerate_fields()</code> ， <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_restart_fields()</code> 和 <code class="function" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">SD_JOURNAL_FOREACH_FIELD()</code> 是在版本 229 中添加的。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><a name="id-1.10" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"></a><h2 id="See Also" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596" data-immersive-translate-paragraph="1">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">另请参阅 ¶</font></font></font></h2><p data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596" data-immersive-translate-paragraph="1">
      <a href="systemd.html#" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><span class="citerefentry" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><span class="refentrytitle" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">systemd</span>(1)</span></a>,
      <a href="systemd.journal-fields.html#" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><span class="citerefentry" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><span class="refentrytitle" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">systemd.journal-fields</span>(7)</span></a>,
      <a href="sd-journal.html#" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><span class="citerefentry" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><span class="refentrytitle" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd-journal</span>(3)</span></a>,
      <a href="sd_journal_open.html#" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><span class="citerefentry" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><span class="refentrytitle" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_open</span>(3)</span></a>,
      <a href="sd_journal_query_unique.html#" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><span class="citerefentry" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><span class="refentrytitle" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_query_unique</span>(3)</span></a>,
      <a href="sd_journal_get_data.html#" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><span class="citerefentry" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><span class="refentrytitle" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_get_data</span>(3)</span></a>,
      <a href="sd_journal_add_match.html#" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><span class="citerefentry" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596"><span class="refentrytitle" data-immersive-translate-walked="2a1cfa0a-4521-4eb0-ae9a-9d82f1083596">sd_journal_add_match</span>(3)</span></a>
    </p></div></div>
</body></html>