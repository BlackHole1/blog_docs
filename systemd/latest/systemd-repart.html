<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>systemd-repart</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><a name="systemd-repart" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a><div class="titlepage" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></div><div class="refnamediv" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><h2 data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">systemd-repart, systemd-repart.service — Automatically grow and add partitions<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">systemd-repart, systemd-repart.service — 自动扩展和添加分区</font></font></font></p></div><div class="refsynopsisdiv" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><h2 data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">简介</font></font></font></h2><div class="cmdsynopsis" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><code class="command" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart</code>  [OPTIONS...] [<em class="replaceable" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">[<span class="optional">BLOCKDEVICE</span>]</code></em>...]<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="command" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart</code> [选项...] [ <code data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">[<span class="optional">BLOCKDEVICE</span>]</code> ...]</font></font></font></p></div><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart.service</code></p></div><div class="refsect1" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><a name="id-1.5" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a><h2 id="Description" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="command" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><strong data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart</strong></span> grows and adds partitions to a partition table, based on the
    configuration files described in
    <a href="repart.d.html#" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="citerefentry" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="refentrytitle" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">repart.d</span>(5)</span></a>.
    <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">systemd-repart 根据 repart.d(5) 中描述的配置文件，向分区表中增加和扩展分区。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">If invoked with no arguments, it operates on the block device backing the root file system
    partition of the running OS, thus growing and adding partitions of the booted OS image itself. If
    <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--image=</code> is used it will operate on the specified image file. When called in the
    initrd it operates on the block device backing <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">/sysroot/</code> instead, i.e. on the block
    device the system will soon transition into. The <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart.service</code> service is
    generally run at boot in the initrd, in order to augment the partition table of the OS before its
    partitions are mounted. <span class="command" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><strong data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart</strong></span> (mostly) operates in a purely incremental mode:
    it only grows existing and adds new partitions; it does not shrink, delete or move existing partitions.
    The service is intended to be run on every boot, but when it detects that the partition table already
    matches the installed <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">repart.d/*.conf</code> configuration files, it executes no
    operation.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果没有参数调用，它将操作正在运行的操作系统根文件系统分区的块设备，从而扩展和添加引导的操作系统镜像本身的分区。如果使用 <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--image=</code> ，它将操作指定的镜像文件。在 initrd 中调用时，它将操作 <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">/sysroot/</code> 而不是根文件系统的块设备，即系统将很快转换为的块设备。通常在 initrd 中引导时运行 <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart.service</code> 服务，以便在挂载分区之前增加操作系统的分区表。systemd-repart（主要）以纯增量模式运行：它仅扩展现有分区并添加新分区；它不会缩小、删除或移动现有分区。该服务旨在在每次引导时运行，但当检测到分区表已匹配已安装的 <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">repart.d/*.conf</code> 配置文件时，它将不执行任何操作。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="command" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><strong data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart</strong></span> is intended to be used when deploying OS images, to automatically
    adjust them to the system they are running on, during first boot. This way the deployed image can be
    minimal in size and may be augmented automatically at boot when needed, taking possession of disk space
    available but not yet used. Specifically the following use cases are among those covered:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">systemd-repart 旨在在部署操作系统映像时使用，以便在首次引导期间自动调整它们以适应运行的系统。通过这种方式，部署的映像可以尽可能地小，并且在需要时可以在引导时自动增加，占用尚未使用的磁盘空间。具体来说，以下用例是其中之一：</font></font></font></p><div class="itemizedlist" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><ul class="itemizedlist" style="list-style-type: disc; " data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><li class="listitem" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">The root partition may be grown to cover the whole available disk space.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">根分区可以扩展到覆盖整个可用磁盘空间。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">A <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">/home/</code>, swap or <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">/srv/</code> partition can be
      added.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可以添加 <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">/home/</code> 、交换或 <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">/srv/</code> 分区。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">A second (or third, …) root partition may be added, to cover A/B style setups
      where a second version of the root file system is alternatingly used for implementing update
      schemes. The deployed image would carry only a single partition ("A") but on first boot a second
      partition ("B") for this purpose is automatically created.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可以添加第二个（或第三个，...）根分区，以覆盖 A/B 样式设置，其中根文件系统的第二个版本交替使用以实现更新方案。部署的镜像只会携带一个分区（"A"），但在第一次启动时，会自动创建一个用于此目的的第二个分区（"B"）。</font></font></font></p></li></ul></div><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">The algorithm executed by <span class="command" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><strong data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart</strong></span> is roughly as follows:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">systemd-repart 执行的算法大致如下：</font></font></font></p><div class="orderedlist" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><ol class="orderedlist" type="1" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><li class="listitem" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">The <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">repart.d/*.conf</code> configuration files are loaded and parsed,
      and ordered by filename (without the directory prefix). For each configuration file,
      drop-in files are looked for in directories with same name as the configuration file
      with a suffix ".d" added.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">加载和解析 <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">repart.d/*.conf</code> 配置文件，并按文件名（不包括目录前缀）排序。对于每个配置文件，会在与配置文件同名的目录中查找后缀为".d"的 drop-in 文件。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">The partition table already existing on the block device is loaded and
      parsed.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">已加载并解析块设备上已存在的分区表。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">The existing partitions in the partition table are matched up with the
      <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">repart.d/*.conf</code> files by GPT partition type UUID. The first existing partition
      of a specific type is assigned the first configuration file declaring the same type. The second
      existing partition of a specific type is then assigned the second configuration file declaring the same
      type, and so on. After this iterative assigning is complete any left-over existing partitions that have
      no matching configuration file are considered "foreign" and left as they are. And any configuration
      files for which no partition currently exists are understood as a request to create such a partition.
      <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">分区表中已存在的分区将通过 GPT 分区类型 UUID 与 <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">repart.d/*.conf</code> 文件进行匹配。特定类型的第一个已存在分区将被分配给声明相同类型的第一个配置文件。然后，特定类型的第二个已存在分区将被分配给声明相同类型的第二个配置文件，依此类推。在完成这种迭代分配后，任何剩余的已存在分区，没有匹配的配置文件，将被视为“外部”，保持原样。对于当前不存在分区的任何配置文件都被理解为请求创建这样的分区。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Partitions that shall be created are now allocated on the disk, taking the size
      constraints and weights declared in the configuration files into account. Free space is used within the
      limits set by size and padding requests. In addition, existing partitions that should be grown are
      grown. New partitions are always appended to the end of the partition table, taking the first partition
      table slot whose index is greater than the indexes of all existing partitions. Partitions are never
      reordered and thus partition numbers remain stable. When partitions are created, they are placed in the
      smallest area of free space that is large enough to satisfy the size and padding limits. This means
      that partitions might have different order on disk than in the partition table. Note that this
      allocation happens in memory only, the partition table on disk is not updated yet.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">应创建的分区现在已分配到磁盘上，考虑了配置文件中声明的大小约束和权重。空闲空间在大小和填充请求设置的限制内使用。此外，应扩展的现有分区将被扩展。新分区始终附加到分区表的末尾，取第一个分区表槽，其索引大于所有现有分区的索引。分区永远不会重新排序，因此分区号保持稳定。创建分区时，它们被放置在足够大以满足大小和填充限制的空闲空间的最小区域。这意味着分区在磁盘上的顺序可能与分区表中的顺序不同。请注意，此分配仅在内存中进行，磁盘上的分区表尚未更新。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">All existing partitions for which configuration files exist and which currently have no
      GPT partition label set will be assigned a label, either explicitly configured in the configuration or
      — if that's missing — derived automatically from the partition type. The same is done for all
      partitions that are newly created. These assignments are done in memory only, too, the disk is not
      updated yet.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">所有现有分区，存在配置文件但当前没有设置 GPT 分区标签的分区将被分配一个标签，可以是在配置中明确配置的标签，也可以是从分区类型自动推导出的标签。对于所有新创建的分区也是同样处理。这些分配仅在内存中进行，磁盘尚未更新。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Similarly, all existing partitions for which configuration files exist and which
      currently have an all-zero identifying UUID will be assigned a new UUID. This UUID is cryptographically
      hashed from a common seed value together with the partition type UUID (and a counter in case multiple
      partitions of the same type are defined), see below. The same is done for all partitions that are
      created anew. These assignments are done in memory only, too, the disk is not updated yet.
      <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">类似地，所有现有分区，存在配置文件但当前具有全零标识 UUID 的分区将被分配一个新的 UUID。此 UUID 是从一个公共种子值与分区类型 UUID（以及在定义多个相同类型分区时的计数器）一起进行密码哈希处理得到的，详见下文。对于所有新创建的分区也是同样处理。这些分配仅在内存中进行，磁盘尚未更新。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Similarly, if the disk's volume UUID is all zeroes it is also initialized, also
      cryptographically hashed from the same common seed value. This is done in memory only too.
      <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">类似地，如果磁盘的卷 UUID 为全零，则也会被初始化，同样是从相同的公共种子值进行密码哈希处理得到的。这也仅在内存中进行。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">The disk space assigned to new partitions (i.e. what was previously free space) is now
      erased. Specifically, all file system signatures are removed, and if the device supports it, the
      <code class="constant" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">BLKDISCARD</code> I/O control command is issued to inform the hardware that the space is
      now empty. In addition any "padding" between partitions and at the end of the device is similarly
      erased.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">分配给新分区的磁盘空间（即先前的空闲空间）现在已被擦除。具体来说，所有文件系统签名都被移除，如果设备支持的话，会发出 <code class="constant" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">BLKDISCARD</code> I/O 控制命令，通知硬件该空间现在为空。此外，分区之间和设备末尾的任何“填充”也被擦除。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">The new partition table is finally written to disk. The kernel is asked to reread the
      partition table.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">新的分区表最终被写入磁盘。内核被要求重新读取分区表。</font></font></font></p></li></ol></div><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">As exception to the normally strictly incremental operation, when called in a special "factory
    reset" mode, <span class="command" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><strong data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart</strong></span> may also be used to erase existing partitions to
    reset an installation back to vendor defaults. This mode of operation is used when either the
    <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--factory-reset=yes</code> switch is passed on the tool's command line, or the
    <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd.factory_reset=yes</code> option specified on the kernel command line, or the
    <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">FactoryReset</code> EFI variable (vendor UUID
    <code class="constant" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">8cf2644b-4b0b-428f-9387-6d876050dc67</code>) is set to "yes". It alters the algorithm above
    slightly: between the 3rd and the 4th step above any partition marked explicitly via the
    <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">FactoryReset=</code> boolean is deleted, and the algorithm restarted, thus immediately
    re-creating these partitions anew empty.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">作为通常严格增量操作的例外情况，当以特殊的“工厂重置”模式调用时，systemd-repart 也可以用于擦除现有分区，将安装重置回供应商默认设置。当在工具的命令行上传递 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--factory-reset=yes</code> 开关，或在内核命令行上指定 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd.factory_reset=yes</code> 选项，或设置 <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">FactoryReset</code> EFI 变量（供应商 UUID <code class="constant" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">8cf2644b-4b0b-428f-9387-6d876050dc67</code> ）为“是”时，将使用此操作模式。它略微改变了上述算法：在上述第 3 步和第 4 步之间，任何通过 <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">FactoryReset=</code> 布尔值明确标记的分区都被删除，并重新启动算法，因此立即将这些分区重新创建为空。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Note that <span class="command" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><strong data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart</strong></span> by default only changes partition tables, it does not
    create or resize any file systems within these partitions, unless the <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">Format=</code>
    configuration option is specified. Also note that there are also separate mechanisms available for this
    purpose, for example
    <a href="systemd-growfs.html#" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="citerefentry" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="refentrytitle" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-growfs</span>(8)</span></a> and
    <span class="command" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><strong data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-makefs</strong></span>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，默认情况下，systemd-repart 仅更改分区表，不会创建或调整这些分区中的任何文件系统，除非指定了 <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">Format=</code> 配置选项。还请注意，还有其他可用于此目的的单独机制，例如 systemd-growfs(8) 和 systemd-makefs。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">The UUIDs identifying the new partitions created (or assigned to existing partitions that have no
    UUID yet), as well as the disk as a whole are hashed cryptographically from a common seed value. This
    seed value is usually the
    <a href="machine-id.html#" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="citerefentry" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="refentrytitle" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">machine-id</span>(5)</span></a> of the
    system, so that the machine ID reproducibly determines the UUIDs assigned to all partitions. If the
    machine ID cannot be read (or the user passes <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--seed=random</code>, see below) the seed is
    generated randomly instead, so that the partition UUIDs are also effectively random. The seed value may
    also be set explicitly, formatted as UUID via the <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--seed=</code> option. By hashing these UUIDs
    from a common seed images prepared with this tool become reproducible and the result of the algorithm
    above deterministic.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">从公共种子值对新创建的分区（或分配给尚未具有 UUID 的现有分区）以及整个磁盘进行密码哈希处理以识别 UUID。该种子值通常是系统的 machine-id(5)，因此机器 ID 可以可靠地确定分配给所有分区的 UUID。如果无法读取机器 ID（或用户传递了 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--seed=random</code> ，请参见下文），则生成随机种子，因此分区 UUID 也有效地是随机的。还可以显式设置种子值，通过 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--seed=</code> 选项格式化为 UUID。通过从公共种子哈希这些 UUID，使用此工具准备的映像变得可重现，上述算法的结果变得确定。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">The positional argument should specify the block device to operate on. Instead of a block device
    node path a regular file may be specified too, in which case the command operates on it like it would if
    a loopback block device node was specified with the file attached. If <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--empty=create</code> is
    specified the specified path is created as regular file, which is useful for generating disk images from
    scratch.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">位置参数应指定要操作的块设备。可以指定常规文件而不是块设备节点路径，在这种情况下，命令会像附加了文件的回环块设备节点一样对其进行操作。如果指定了 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--empty=create</code> ，则指定的路径将被创建为常规文件，这对于从头开始生成磁盘映像非常有用。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><a name="id-1.6" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a><h2 id="Options" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Options<a class="headerlink" title="Permalink to this headline" href="#Options" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">选项</font></font></font></h2><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">The following options are understood:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以下选项已被理解:</font></font></font></p><div class="variablelist" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><dl class="variablelist" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><dt id="--dry-run=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--dry-run=</code></span><a class="headerlink" title="Permalink to this term" href="#--dry-run=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Takes a boolean. If this switch is not specified <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--dry-run=yes</code> is
        the implied default. Controls whether <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart</code> executes the requested
        re-partition operations or whether it should only show what it would do. Unless
        <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--dry-run=no</code> is specified <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart</code> will not actually
        touch the device's partition table.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受布尔值。如果未指定此开关，则 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--dry-run=yes</code> 是隐含的默认值。控制 <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart</code> 是否执行请求的重新分区操作，或者它是否只显示它将要执行的操作。除非指定了 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--dry-run=no</code> ，否则 <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart</code> 将不会实际触及设备的分区表。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v245" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 245.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 245 中添加。</font></font></font></p></dd><dt id="--empty=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--empty=</code></span><a class="headerlink" title="Permalink to this term" href="#--empty=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Takes one of "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">refuse</code>", "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">allow</code>",
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">require</code>", "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">force</code>" or "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">create</code>". Controls how to
        operate on block devices that are entirely empty, i.e. carry no partition table/disk label yet. If
        this switch is not specified the implied default is "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">refuse</code>".<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受“ <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">refuse</code> ”、“ <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">allow</code> ”、“ <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">require</code> ”、“ <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">force</code> ”或“ <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">create</code> ”之一。控制如何操作完全为空的块设备，即尚未携带分区表/磁盘标签的设备。如果未指定此开关，则隐含的默认值为“ <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">refuse</code> ”。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">If "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">refuse</code>" <span class="command" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><strong data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart</strong></span> requires that the block device
        it shall operate on already carries a partition table and refuses operation if none is found. If
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">allow</code>" the command will extend an existing partition table or create a new one if
        none exists. If "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">require</code>" the command will create a new partition table if none
        exists so far, and refuse operation if one already exists. If "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">force</code>" it will create
        a fresh partition table unconditionally, erasing the disk fully in effect. If
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">force</code>" no existing partitions will be taken into account or survive the
        operation. Hence: use with care, this is a great way to lose all your data. If
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">create</code>" a new loopback file is create under the path passed via the device node
        parameter, of the size indicated with <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--size=</code>, see below.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果“ <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">refuse</code> ”systemd-repart 要求操作的块设备已经携带分区表，如果找不到分区表，则拒绝操作。如果“ <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">allow</code> ”命令将扩展现有分区表，如果不存在，则创建一个新的分区表。如果“ <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">require</code> ”命令将创建一个新的分区表，如果到目前为止不存在，如果已经存在，则拒绝操作。如果“ <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">force</code> ”将无条件创建一个新的分区表，实际上完全擦除磁盘。如果“ <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">force</code> ”不会考虑现有分区或幸存操作。因此：谨慎使用，这是一个丢失所有数据的好方法。如果“ <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">create</code> ”通过设备节点参数传递的路径下创建一个新的回环文件，大小为 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--size=</code> ，请参见下文。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v245" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 245.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 245 中添加。</font></font></font></p></dd><dt id="--discard=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--discard=</code></span><a class="headerlink" title="Permalink to this term" href="#--discard=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Takes a boolean. If this switch is not specified <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--discard=yes</code> is
        the implied default. Controls whether to issue the <code class="constant" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">BLKDISCARD</code> I/O control
        command on the space taken up by any added partitions or on the space in between them. Usually, it's
        a good idea to issue this request since it tells the underlying hardware that the covered blocks
        shall be considered empty, improving performance. If operating on a regular file instead of a block
        device node, a sparse file is generated.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受一个布尔值。如果未指定此开关，则 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--discard=yes</code> 是隐含的默认值。控制是否在任何添加的分区占用的空间上或它们之间的空间上发出 <code class="constant" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">BLKDISCARD</code> I/O 控制命令。通常，发出此请求是个好主意，因为它告诉底层硬件覆盖的块应被视为空，从而提高性能。如果在普通文件而不是块设备节点上操作，则会生成稀疏文件。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v245" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 245.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 245 中添加。</font></font></font></p></dd><dt id="--size=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--size=</code></span><a class="headerlink" title="Permalink to this term" href="#--size=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Takes a size in bytes, using the usual K, M, G, T suffixes, or the special value
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">auto</code>". If used the specified device node path must refer to a regular file, which
        is then grown to the specified size if smaller, before any change is made to the partition table. If
        specified as "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">auto</code>" the minimal size for the disk image is automatically determined
        (i.e. the minimal sizes of all partitions are summed up, taking space for additional metadata into
        account). This switch is not supported if the specified node is a block device. This switch has no
        effect if the file is already as large as the specified size or larger. The specified size is
        implicitly rounded up to multiples of 4096. When used with <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--empty=create</code> this
        specifies the initial size of the loopback file to create.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以字节为单位指定大小，使用常见的 K、M、G、T 后缀，或特殊值" <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">auto</code> "。如果使用了指定的设备节点路径必须指向一个常规文件，然后该文件会在对分区表进行任何更改之前增长到指定的大小（如果小于指定大小）。如果指定为" <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">auto</code> "，则磁盘映像的最小大小会自动确定（即所有分区的最小大小相加，考虑到额外元数据的空间）。如果指定的节点是块设备，则不支持此开关。如果文件已经达到或超过指定大小，则此开关不起作用。指定的大小会被隐式地舍入为 4096 的倍数。与 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--empty=create</code> 一起使用时，指定要创建的回环文件的初始大小。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">The <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--size=auto</code> option takes the sizes of pre-existing partitions into
        account. However, it does not accommodate for partition tables that are not tightly packed: the
        configured partitions might still not fit into the backing device if empty space exists between
        pre-existing partitions (or before the first partition) that cannot be fully filled by partitions to
        grow or create.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--size=auto</code> 选项考虑了现有分区的大小。但是，它不适用于分区表不是紧密打包的情况：如果现有分区之间存在空白空间（或在第一个分区之前存在空白空间），使得无法通过增长或创建分区来完全填充这些空白空间，则配置的分区可能仍然无法适应支持设备。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Also note that the automatic size determination does not take files or directories specified
        with <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">CopyFiles=</code> into account: operation might fail if the specified files or
        directories require more disk space then the configured per-partition minimal size
        limit.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">还要注意，自动确定大小不考虑使用 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">CopyFiles=</code> 指定的文件或目录：如果指定的文件或目录需要的磁盘空间超过配置的每个分区的最小大小限制，则操作可能会失败。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v246" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 246.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 246 中。</font></font></font></p></dd><dt id="--factory-reset=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--factory-reset=</code></span><a class="headerlink" title="Permalink to this term" href="#--factory-reset=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Takes boolean. If this switch is not specified <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--factory=reset=no</code> is
        the implied default. Controls whether to operate in "factory reset" mode, see above. If set to true
        this will remove all existing partitions marked with <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">FactoryReset=</code> set to yes
        early while executing the re-partitioning algorithm. Use with care, this is a great way to lose all
        your data. Note that partition files need to explicitly turn <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">FactoryReset=</code> on, as
        the option defaults to off. If no partitions are marked for factory reset this switch has no
        effect. Note that there are two other methods to request factory reset operation: via the kernel
        command line and via an EFI variable, see above.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受布尔值。如果未指定此开关，则 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--factory=reset=no</code> 是隐含的默认值。控制是否以“恢复出厂设置”模式运行，请参见上文。如果设置为 true，则在执行重新分区算法时会提前删除所有已标记为 <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">FactoryReset=</code> 设置为 yes 的现有分区。请谨慎使用，这是一个丢失所有数据的好方法。请注意，分区文件需要显式打开 <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">FactoryReset=</code> ，因为该选项默认为关闭。如果没有分区标记为恢复出厂设置，则此开关不起作用。请注意，还有另外两种请求恢复出厂设置操作的方法：通过内核命令行和通过 EFI 变量，请参见上文。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v245" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 245.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 245 中添加。</font></font></font></p></dd><dt id="--can-factory-reset" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--can-factory-reset</code></span><a class="headerlink" title="Permalink to this term" href="#--can-factory-reset" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">If this switch is specified the disk is not re-partitioned. Instead it is determined
        if any existing partitions are marked with <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">FactoryReset=</code>. If there are the tool
        will exit with exit status zero, otherwise non-zero. This switch may be used to quickly determine
        whether the running system supports a factory reset mechanism built on
        <span class="command" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><strong data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart</strong></span>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果指定了此开关，则不会重新分区磁盘。相反，它会确定是否有任何现有分区标记为 <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">FactoryReset=</code> 。如果有，则工具将以退出状态零退出，否则为非零。此开关可用于快速确定运行系统是否支持基于 systemd-repart 构建的工厂复位机制。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v245" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 245.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 245 中添加。</font></font></font></p></dd><dt id="--root=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--root=</code></span><a class="headerlink" title="Permalink to this term" href="#--root=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Takes a path to a directory to use as root file system when searching for
        <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">repart.d/*.conf</code> files, for the machine ID file to use as seed and for the
        <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">CopyFiles=</code> and <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">CopyBlocks=</code> source files and directories. By
        default when invoked on the regular system this defaults to the host's root file system
        <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">/</code>. If invoked from the initrd this defaults to <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">/sysroot/</code>,
        so that the tool operates on the configuration and machine ID stored in the root file system later
        transitioned into itself.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定用作搜索 <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">repart.d/*.conf</code> 文件、用作种子的机器 ID 文件以及 <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">CopyFiles=</code> 和 <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">CopyBlocks=</code> 源文件和目录的根文件系统的目录路径。默认情况下，在常规系统上调用时，默认为主机的根文件系统 <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">/</code> 。如果从 initrd 调用，则默认为 <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">/sysroot/</code> ，因此该工具将在稍后转换为自身的根文件系统中存储的配置和机器 ID 上运行。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">See <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--copy-source=</code> for a more restricted option that only affects
        <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">CopyFiles=</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请参阅 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--copy-source=</code> 以获取仅影响 <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">CopyFiles=</code> 的更受限制的选项。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v245" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 245.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 245 中添加。</font></font></font></p></dd><dt id="--image=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--image=</code></span><a class="headerlink" title="Permalink to this term" href="#--image=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Takes a path to a disk image file or device to mount and use in a similar fashion to
        <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--root=</code>, see above.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受一个路径到磁盘映像文件或设备以类似于 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--root=</code> 的方式挂载和使用。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v249" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 249.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 249 中。</font></font></font></p></dd><dt id="--image-policy=policy" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--image-policy=<em class="replaceable"><code>policy</code></em></code></span><a class="headerlink" title="Permalink to this term" href="#--image-policy=policy" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Takes an image policy string as argument, as per
    <a href="systemd.image-policy.html#" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="citerefentry" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="refentrytitle" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd.image-policy</span>(7)</span></a>. The
    policy is enforced when operating on the disk image specified via <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--image=</code>, see
    above. If not specified defaults to the "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">*</code>" policy, i.e. all recognized file systems
    in the image are used.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受图像策略字符串作为参数，如 systemd.image-policy(7)所述。在操作通过 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--image=</code> 指定的磁盘映像时强制执行该策略，请参见上文。如果未指定，默认使用“ <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">*</code> ”策略，即使用映像中的所有识别的文件系统。</font></font></font></p></dd><dt id="--seed=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--seed=</code></span><a class="headerlink" title="Permalink to this term" href="#--seed=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Takes a UUID as argument or the special value <code class="constant" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">random</code>. If a UUID
        is specified the UUIDs to assign to partitions and the partition table itself are derived via
        cryptographic hashing from it. If not specified it is attempted to read the machine ID from the host
        (or more precisely, the root directory configured via <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--root=</code>) and use it as seed
        instead, falling back to a randomized seed otherwise. Use <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--seed=random</code> to force a
        randomized seed. Explicitly specifying the seed may be used to generated strictly reproducible
        partition tables.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受 UUID 作为参数或特殊值 <code class="constant" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">random</code> 。如果指定了 UUID，则从中通过加密哈希派生要分配给分区和分区表本身的 UUID。如果未指定，则尝试从主机读取机器 ID（或更准确地说，通过 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--root=</code> 配置的根目录）并将其用作种子，否则回退到随机种子。使用 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--seed=random</code> 来强制使用随机种子。明确指定种子可用于生成严格可重现的分区表。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v245" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 245.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 245 中添加。</font></font></font></p></dd><dt id="--pretty=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--pretty=</code></span><a class="headerlink" title="Permalink to this term" href="#--pretty=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Takes a boolean argument. If this switch is not specified, it defaults to on when
        called from an interactive terminal and off otherwise. Controls whether to show a user friendly table
        and graphic illustrating the changes applied.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受布尔参数。如果未指定此开关，则在从交互式终端调用时默认为打开，否则为关闭。控制是否显示用户友好的表格和图形，说明应用的更改。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v245" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 245.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 245 中添加。</font></font></font></p></dd><dt id="--definitions=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--definitions=</code></span><a class="headerlink" title="Permalink to this term" href="#--definitions=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Takes a file system path. If specified the <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">*.conf</code> files are read
        from the specified directory instead of searching in <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">/usr/lib/repart.d/*.conf</code>,
        <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">/etc/repart.d/*.conf</code>,
        <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">/run/repart.d/*.conf</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受文件系统路径。如果指定，则从指定目录读取 <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">*.conf</code> 文件，而不是在 <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">/usr/lib/repart.d/*.conf</code> ， <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">/etc/repart.d/*.conf</code> ， <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">/run/repart.d/*.conf</code> 中搜索。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">This parameter can be specified multiple times.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此参数可以多次指定。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v245" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 245.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 245 中添加。</font></font></font></p></dd><dt id="--key-file=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--key-file=</code></span><a class="headerlink" title="Permalink to this term" href="#--key-file=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Takes a file system path. Configures the encryption key to use when setting up LUKS2
        volumes configured with the <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">Encrypt=key-file</code> setting in partition files. Should
        refer to a regular file containing the key, or an <code class="constant" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">AF_UNIX</code> stream socket in the
        file system. In the latter case a connection is made to it and the key read from it. If this switch
        is not specified the empty key (i.e. zero length key) is used. This behaviour is useful for setting
        up encrypted partitions during early first boot that receive their user-supplied password only in a
        later setup step.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受文件系统路径。配置在分区文件中配置了 <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">Encrypt=key-file</code> 设置的 LUKS2 卷时要使用的加密密钥。应该引用包含密钥的常规文件，或者文件系统中的 <code class="constant" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">AF_UNIX</code> 流套接字。在后一种情况下，将连接到它并从中读取密钥。如果未指定此开关，则使用空密钥（即零长度密钥）。此行为对于在早期第一次引导期间设置接收其用户提供的密码的加密分区非常有用，仅在稍后的设置步骤中才接收密码。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v247" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 247.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 247 中添加。</font></font></font></p></dd><dt id="--private-key=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--private-key=</code></span><a class="headerlink" title="Permalink to this term" href="#--private-key=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Takes a file system path. Configures the signing key to use when creating verity
        signature partitions with the <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">Verity=signature</code> setting in partition files.
        <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受文件系统路径。配置在创建带有 <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">Verity=signature</code> 设置的分区文件时要使用的签名密钥。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v252" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 252.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 252 中。</font></font></font></p></dd><dt id="--certificate=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--certificate=</code></span><a class="headerlink" title="Permalink to this term" href="#--certificate=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Takes a file system path. Configures the PEM encoded X.509 certificate to use when
        creating verity signature partitions with the <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">Verity=signature</code> setting in
        partition files.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受文件系统路径。配置 PEM 编码的 X.509 证书，在创建带有 <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">Verity=signature</code> 设置的分区文件时要使用的签名密钥。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v252" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 252.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 252 中添加。</font></font></font></p></dd><dt id="--tpm2-device=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--tpm2-device=</code>, </span><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--tpm2-pcrs=</code></span><a class="headerlink" title="Permalink to this term" href="#--tpm2-device=" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--tpm2-device=</code> ， <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--tpm2-pcrs=</code> ¶</font></font></font></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Configures the TPM2 device and list of PCRs to use for LUKS2 volumes configured with
        the <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">Encrypt=tpm2</code> option. These options take the same parameters as the identically
        named options to
        <a href="systemd-cryptenroll.html#" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="citerefentry" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="refentrytitle" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-cryptenroll</span>(1)</span></a>
        and have the same effect on partitions where TPM2 enrollment is requested.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置 TPM2 设备和用于使用 <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">Encrypt=tpm2</code> 选项配置的 LUKS2 卷的 PCR 列表。这些选项接受与 systemd-cryptenroll(1) 中同名选项相同的参数，并对请求 TPM2 注册的分区产生相同的效果。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v248" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 248.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 248 中添加。</font></font></font></p></dd><dt id="--tpm2-device-key=PATH" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--tpm2-device-key=</code> [PATH], </span><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--tpm2-seal-key-handle=</code> [HANDLE]</span><a class="headerlink" title="Permalink to this term" href="#--tpm2-device-key=PATH" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--tpm2-device-key=</code> [路径], <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--tpm2-seal-key-handle=</code> [句柄] ¶</font></font></font></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Configures a TPM2 SRK key to bind encryption to. See
        <a href="systemd-cryptenroll.html#" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="citerefentry" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="refentrytitle" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-cryptenroll</span>(1)</span></a>
        for details on this option.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置 TPM2 SRK 密钥以绑定加密。有关此选项的详细信息，请参阅 systemd-cryptenroll(1)。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v255" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 255.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 255 中添加。</font></font></font></p></dd><dt id="--tpm2-public-key=PATH" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--tpm2-public-key=</code> [PATH], </span><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--tpm2-public-key-pcrs=</code> [PCR...]</span><a class="headerlink" title="Permalink to this term" href="#--tpm2-public-key=PATH" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--tpm2-public-key=</code> [路径], <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--tpm2-public-key-pcrs=</code> [PCR...] ¶</font></font></font></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Configures a TPM2 signed PCR policy to bind encryption to. See
        <a href="systemd-cryptenroll.html#" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="citerefentry" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="refentrytitle" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-cryptenroll</span>(1)</span></a>
        for details on these two options.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置 TPM2 签名的 PCR 策略以绑定加密。有关这两个选项的详细信息，请参阅 systemd-cryptenroll(1)。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v252" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 252.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 252 中添加。</font></font></font></p></dd><dt id="--tpm2-pcrlock=PATH" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--tpm2-pcrlock=</code> [PATH]</span><a class="headerlink" title="Permalink to this term" href="#--tpm2-pcrlock=PATH" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--tpm2-pcrlock=</code> [路径] ¶</font></font></font></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Configures a TPM2 pcrlock policy to bind encryption to. See
        <a href="systemd-cryptenroll.html#" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="citerefentry" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="refentrytitle" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-cryptenroll</span>(1)</span></a>
        for details on this option.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置 TPM2 pcrlock 策略以绑定加密。有关此选项的详细信息，请参阅 systemd-cryptenroll(1)。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v255" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 255.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 255 中添加。</font></font></font></p></dd><dt id="--split=BOOL" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--split=</code> [BOOL]</span><a class="headerlink" title="Permalink to this term" href="#--split=BOOL" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Enables generation of split artifacts from partitions configured with
        <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">SplitName=</code>. If enabled, for each partition with <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">SplitName=</code> set,
        a separate output file containing just the contents of that partition is generated. The output
        filename consists of the loopback filename suffixed with the name configured with
        <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">SplitName=</code>. If the loopback filename ends with "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">.raw</code>", the suffix
        is inserted before the "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">.raw</code>" extension instead.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">启用从配置了 <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">SplitName=</code> 的分区生成拆分文件的功能。如果启用，对于每个设置了 <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">SplitName=</code> 的分区，将生成一个单独的输出文件，其中仅包含该分区的内容。输出文件名由回环文件名加上配置了 <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">SplitName=</code> 的名称后缀组成。如果回环文件名以 " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">.raw</code> " 结尾，则后缀将插入到 " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">.raw</code> " 扩展名之前。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Note that <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--split</code> is independent from <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--dry-run</code>. Even if
        <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--dry-run</code> is enabled, split artifacts will still be generated from an existing image
        if <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--split</code> is enabled.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意， <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--split</code> 与 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--dry-run</code> 是独立的。即使启用了 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--dry-run</code> ，如果启用了 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--split</code> ，仍将从现有映像生成拆分文件。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v252" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 252.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 252 中添加。</font></font></font></p></dd><dt id="--include-partitions=PARTITION" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--include-partitions=</code> [PARTITION...], </span><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--exclude-partitions=</code> [PARTITION...]</span><a class="headerlink" title="Permalink to this term" href="#--include-partitions=PARTITION" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--include-partitions=</code> [分区...], <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--exclude-partitions=</code> [分区...] ¶</font></font></font></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">These options specify which partition types <span class="command" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><strong data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart</strong></span> should
        operate on. If <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--include-partitions=</code> is used, all partitions that aren't specified
        are excluded. If <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--exclude-partitions=</code> is used, all partitions that are specified
        are excluded. Both options take a comma separated list of GPT partition type UUIDs or identifiers
        (see <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">Type=</code> in
        <a href="repart.d.html#" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="citerefentry" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="refentrytitle" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">repart.d</span>(5)</span></a>).
        <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这些选项指定 systemd-repart 应该操作的分区类型。如果使用 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--include-partitions=</code> ，则排除未指定的所有分区。如果使用 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--exclude-partitions=</code> ，则排除指定的所有分区。这两个选项都接受逗号分隔的 GPT 分区类型 UUID 或标识符列表（参见 repart.d(5) 中的 <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">Type=</code> ）。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v253" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 253.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 253 中添加。</font></font></font></p></dd><dt id="--defer-partitions=PARTITION" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--defer-partitions=</code> [PARTITION...]</span><a class="headerlink" title="Permalink to this term" href="#--defer-partitions=PARTITION" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--defer-partitions=</code> [分区...] ¶</font></font></font></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">This option specifies for which partition types <span class="command" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><strong data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart</strong></span>
        should defer. All partitions that are deferred using this option are still taken into account when
        calculating the sizes and offsets of other partitions, but aren't actually written to the disk image.
        The net effect of this option is that if you run <span class="command" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><strong data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart</strong></span> again without this
        option, the missing partitions will be added as if they had not been deferred the first time
        <span class="command" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><strong data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart</strong></span> was executed.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项指定 systemd-repart 应推迟哪些分区类型。使用此选项推迟的所有分区在计算其他分区的大小和偏移量时仍会被考虑，但实际上不会写入磁盘映像。此选项的净效果是，如果您再次运行 systemd-repart 而没有此选项，则缺失的分区将被添加，就好像第一次执行 systemd-repart 时没有推迟它们一样。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v253" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 253.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 253 中。</font></font></font></p></dd><dt id="--sector-size=BYTES" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--sector-size=</code> [BYTES]</span><a class="headerlink" title="Permalink to this term" href="#--sector-size=BYTES" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--sector-size=</code> [字节] ¶</font></font></font></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">This option allows configuring the sector size of the image produced by
        <span class="command" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><strong data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart</strong></span>. It takes a value that is a power of "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">2</code>" between
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">512</code>" and "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">4096</code>". This option is useful when building images for
        disks that use a different sector size as the disk on which the image is produced.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项允许配置 systemd-repart 生成的映像的扇区大小。它接受一个介于 " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">512</code> " 和 " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">4096</code> " 之间的 " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">2</code> " 的幂值。当为使用与生成映像的磁盘不同扇区大小的磁盘构建映像时，此选项很有用。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v253" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 253.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 253 中。</font></font></font></p></dd><dt id="--architecture=ARCH" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--architecture=</code> [ARCH]</span><a class="headerlink" title="Permalink to this term" href="#--architecture=ARCH" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--architecture=</code> [架构] ¶</font></font></font></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">This option allows overriding the architecture used for architecture specific
        partition types. For example, if set to "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">arm64</code>" a partition type of
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">root-x86-64</code>" referenced in <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">repart.d/</code> drop-ins will be patched
        dynamically to refer to "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">root-arm64</code>" instead. Takes one of
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">alpha</code>",
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">arc</code>",
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">arm</code>",
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">arm64</code>",
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">ia64</code>",
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">loongarch64</code>",
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">mips-le</code>",
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">mips64-le</code>",
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">parisc</code>",
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">ppc</code>",
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">ppc64</code>",
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">ppc64-le</code>",
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">riscv32</code>",
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">riscv64</code>",
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">s390</code>",
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">s390x</code>",
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">tilegx</code>",
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">x86</code>" or
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">x86-64</code>".<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项允许覆盖用于特定架构分区类型的架构。例如，如果设置为 " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">arm64</code> "，则在 <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">repart.d/</code> drop-ins 中引用的分区类型 " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">root-x86-64</code> " 将动态修补为引用 " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">root-arm64</code> "。接受 " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">alpha</code> ", " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">arc</code> ", " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">arm</code> ", " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">arm64</code> ", " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">ia64</code> ", " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">loongarch64</code> ", " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">mips-le</code> ", " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">mips64-le</code> ", " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">parisc</code> ", " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">ppc</code> ", " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">ppc64</code> ", " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">ppc64-le</code> ", " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">riscv32</code> ", " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">riscv64</code> ", " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">s390</code> ", " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">s390x</code> ", " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">tilegx</code> ", " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">x86</code> " 或 " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">x86-64</code> " 中的一个。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v254" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 254.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 254 中。</font></font></font></p></dd><dt id="--offline=BOOL" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--offline=</code> [BOOL]</span><a class="headerlink" title="Permalink to this term" href="#--offline=BOOL" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--offline=</code> [布尔] ¶</font></font></font></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Instructs <span class="command" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><strong data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart</strong></span> to build the image offline. Takes a
        boolean or "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">auto</code>". Defaults to "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">auto</code>". If enabled, the image is
        built without using loop devices. This is useful to build images unprivileged or when loop devices
        are not available. If disabled, the image is always built using loop devices. If
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">auto</code>", <span class="command" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><strong data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart</strong></span> will build the image online if possible
        and fall back to building the image offline if loop devices are not available or cannot be accessed
        due to missing permissions.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指示 systemd-repart 在离线状态下构建镜像。接受布尔值或 " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">auto</code> "。默认为 " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">auto</code> "。如果启用，将不使用循环设备构建镜像。这在无特权构建镜像或循环设备不可用时非常有用。如果禁用，将始终使用循环设备构建镜像。如果 " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">auto</code> "，systemd-repart 将尝试在线构建镜像，如果循环设备不可用或由于缺少权限而无法访问，则会退回到离线构建镜像。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v254" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 254.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 254 中。</font></font></font></p></dd><dt id="--copy-from=IMAGE" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--copy-from=</code> [IMAGE]</span><a class="headerlink" title="Permalink to this term" href="#--copy-from=IMAGE" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--copy-from=</code> [镜像] ¶</font></font></font></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Instructs <span class="command" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><strong data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-repart</strong></span> to synthesize partition definitions from
        the partition table in the given image. This option can be specified multiple times to synthesize
        definitions from each of the given images. The generated definitions will copy the partitions into
        the destination partition table. The copied partitions will have the same size, metadata and contents
        but might have a different partition number and might be located at a different offset in the
        destination partition table. These definitions can be combined with partition definitions read from
        regular partition definition files. The synthesized definitions take precedence over the definitions
        read from partition definition files.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指示 systemd-repart 从给定镜像中的分区表合成分区定义。可以多次指定此选项，以从每个给定的镜像合成定义。生成的定义将复制分区到目标分区表中。复制的分区将具有相同的大小、元数据和内容，但可能具有不同的分区号，并且可能位于目标分区表中的不同偏移量处。这些定义可以与从常规分区定义文件中读取的分区定义组合使用。合成的定义优先于从分区定义文件中读取的定义。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v255" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 255.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 255 中添加。</font></font></font></p></dd><dt id="--copy-source=PATH" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--copy-source=</code><em class="replaceable" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">PATH</code></em>, </span><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">-s</code> <em class="replaceable" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">PATH</code></em></span><a class="headerlink" title="Permalink to this term" href="#--copy-source=PATH" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--copy-source=</code> <code data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">PATH</code> ， <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">-s</code> <code data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">PATH</code> ¶</font></font></font></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Specifies a source directory all <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">CopyFiles=</code> source paths shall be
        considered relative to. This is similar to <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--root=</code>, but exclusively applies to the
        <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">CopyFiles=</code> setting. If <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--root=</code> and
        <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--copy-source=</code> are used in combination the former applies as usual, except for
        <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">CopyFiles=</code> where the latter takes precedence.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定一个源目录，所有 <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">CopyFiles=</code> 源路径都将被视为相对于该目录。这类似于 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--root=</code> ，但仅适用于 <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">CopyFiles=</code> 设置。如果组合使用 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--root=</code> 和 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--copy-source=</code> ，则前者通常适用，除了 <code class="varname" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">CopyFiles=</code> ，后者优先。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v255" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 255.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 255 中添加。</font></font></font></p></dd><dt id="--make-ddi=TYPE" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--make-ddi=</code><em class="replaceable" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">TYPE</code></em></span><a class="headerlink" title="Permalink to this term" href="#--make-ddi=TYPE" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Takes one of "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">sysext</code>", "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">confext</code>" or
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">portable</code>". Generates a Discoverable Disk Image (DDI) for a system extension
        (sysext, see
        <a href="systemd-sysext.html#" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="citerefentry" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="refentrytitle" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-sysext</span>(8)</span></a>
        for details), configuration extension (confext) or <a class="ulink" href="https://systemd.io/PORTABLE_SERVICES" target="_top" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">portable service</a>. The generated image will consist
        of a signed Verity "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">erofs</code>" file system as root partition. In this mode of operation
        the partition definitions in <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">/usr/lib/repart.d/*.conf</code> and related directories
        are not read, and <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--definitions=</code> is not supported, as appropriate definitions for
        the selected DDI class will be chosen automatically.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受 " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">sysext</code> ", " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">confext</code> " 或 " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">portable</code> " 中的一个。为系统扩展（sysext，请参阅 systemd-sysext(8)获取详细信息）、配置扩展（confext）或便携服务生成可发现的磁盘映像（DDI）。生成的映像将由签名的 Verity " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">erofs</code> " 文件系统作为根分区。在这种操作模式下， <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">/usr/lib/repart.d/*.conf</code> 中的分区定义和相关目录不会被读取，并且不支持 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--definitions=</code> ，因为将自动选择所选 DDI 类的适当定义。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Must be used in conjunction with <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--copy-source=</code> to specify the file hierarchy
        to populate the DDI with. The specified directory should contain an <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">etc/</code>
        subdirectory if "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">confext</code>" is selected. If "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">sysext</code>" is selected it
        should contain either a <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">usr/</code> or <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">opt/</code> directory, or both. If
        "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">portable</code>" is used a full OS file hierarchy can be provided.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">必须与 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--copy-source=</code> 结合使用，以指定要用于填充 DDI 的文件层次结构。指定的目录应包含一个 <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">etc/</code> 子目录，如果选择了 " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">confext</code> "。如果选择了 " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">sysext</code> "，则应包含 <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">usr/</code> 或 <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">opt/</code> 目录，或两者都包含。如果使用了 " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">portable</code> "，则可以提供完整的操作系统文件层次结构。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">This option implies <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--empty=create</code>, <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--size=auto</code> and
        <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--seed=random</code> (the latter two can be overridden).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项意味着 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--empty=create</code> ， <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--size=auto</code> 和 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--seed=random</code> （后两者可以被覆盖）。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">The private key and certificate for signing the DDI must be specified via the
        <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--private-key=</code> and <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--certificate=</code> switches.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">必须通过 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--private-key=</code> 和 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--certificate=</code> 开关指定用于签署 DDI 的私钥和证书。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v255" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 255.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 255 中添加。</font></font></font></p></dd><dt id="-S" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">-S</code>, </span><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">-C</code>, </span><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">-P</code></span><a class="headerlink" title="Permalink to this term" href="#-S" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">-S</code> ， <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">-C</code> ， <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">-P</code> ¶</font></font></font></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Shortcuts for <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--make-ddi=sysext</code>,
        <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--make-ddi=confext</code>, <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--make-ddi=portable</code>,
        respectively.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">分别为 <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--make-ddi=sysext</code> ， <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--make-ddi=confext</code> ， <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--make-ddi=portable</code> 的快捷方式。</font></font></font></p><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="v255" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Added in version 255.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 255 中添加。</font></font></font></p></dd><dt id="-h" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">-h</code>, </span><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--help</code></span><a class="headerlink" title="Permalink to this term" href="#-h" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">-h</code> ， <code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--help</code> ¶</font></font></font></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="help-text" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Print a short help text and exit.
    <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">打印简短的帮助文本并退出。</font></font></font></p></dd><dt id="--version" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--version</code></span><a class="headerlink" title="Permalink to this term" href="#--version" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><a name="version-text" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a>Print a short version string and exit.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">打印简短的版本字符串并退出。</font></font></font></p></dd><dt id="--no-pager" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--no-pager</code></span><a class="headerlink" title="Permalink to this term" href="#--no-pager" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Do not pipe output into a pager.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不要将输出传输到分页程序中。</font></font></font></p></dd><dt id="--no-legend" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--no-legend</code></span><a class="headerlink" title="Permalink to this term" href="#--no-legend" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Do not print the legend, i.e. column headers and the
      footer with hints.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">不要打印图例，即列标题和带有提示的页脚。</font></font></font></p></dd><dt id="--json=MODE" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code class="option" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">--json=</code><em class="replaceable" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><code data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">MODE</code></em></span><a class="headerlink" title="Permalink to this term" href="#--json=MODE" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a></dt><dd data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Shows output formatted as JSON. Expects one of "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">short</code>" (for the
    shortest possible output without any redundant whitespace or line breaks), "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">pretty</code>"
    (for a pretty version of the same, with indentation and line breaks) or "<code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">off</code>" (to turn
    off JSON output, the default).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以 JSON 格式显示输出。期望其中之一为 " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">short</code> "（以最短可能的输出形式，不包含任何多余的空格或换行符），" <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">pretty</code> "（以缩进和换行符的漂亮版本）或 " <code class="literal" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">off</code> "（关闭 JSON 输出，默认设置）。</font></font></font></p></dd></dl></div></div><div class="refsect1" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><a name="id-1.7" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a><h2 id="Exit status" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Exit status<a class="headerlink" title="Permalink to this headline" href="#Exit%20status" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">退出状态 ¶</font></font></font></h2><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">On success, 0 is returned, a non-zero failure code otherwise.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">成功时返回 0，否则返回非零失败代码。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><a name="id-1.8" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a><h2 id="Example" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Example<a class="headerlink" title="Permalink to this headline" href="#Example" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 ¶</font></font></font></h2><div class="example" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><a name="id-1.8.2" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a><p class="title" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><b data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">Example&nbsp;1.&nbsp;Generate a configuration extension image<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 1. 生成配置扩展镜像。</font></font></font></b></p><div class="example-contents" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">The following creates a configuration extension DDI (confext) for an
      <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">/etc/motd</code> update.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以下内容创建了一个用于 <code class="filename" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">/etc/motd</code> 更新的配置扩展 DDI（confext）。</font></font></font></p><pre class="programlisting">mkdir tree tree/etc tree/etc/extension-release.d
echo "Hello World" &gt; tree/etc/motd
cat &gt; tree/etc/extension-release.d/extension-release.my-motd &lt;&lt;EOF
ID=fedora
VERSION_ID=38
IMAGE_ID=my-motd
IMAGE_VERSION=7
EOF
systemd-repart -C --private-key=privkey.pem --certificate=cert.crt -s tree/ /var/lib/confexts/my-motd.confext.raw
systemd-confext refresh</pre><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">The DDI generated that way may be applied to the system with
      <a href="systemd-confext.html#" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="citerefentry" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="refentrytitle" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-confext</span>(1)</span></a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以这种方式生成的 DDI 可以通过 systemd-confext(1) 应用到系统中。</font></font></font></p></div></div><br class="example-break" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></div><div class="refsect1" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><a name="id-1.9" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"></a><h2 id="See Also" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">参见 ¶</font></font></font></h2><p data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9" data-immersive-translate-paragraph="1">
      <a href="systemd.html#" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="citerefentry" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="refentrytitle" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd</span>(1)</span></a>,
      <a href="repart.d.html#" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="citerefentry" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="refentrytitle" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">repart.d</span>(5)</span></a>,
      <a href="machine-id.html#" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="citerefentry" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="refentrytitle" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">machine-id</span>(5)</span></a>,
      <a href="systemd-cryptenroll.html#" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="citerefentry" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="refentrytitle" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-cryptenroll</span>(1)</span></a>,
      <a href="portablectl.html#" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="citerefentry" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="refentrytitle" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">portablectl</span>(1)</span></a>,
      <a href="systemd-sysext.html#" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="citerefentry" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9"><span class="refentrytitle" data-immersive-translate-walked="80d32863-c1c0-441b-8b36-4f56a00e33d9">systemd-sysext</span>(8)</span></a>
    </p></div></div>
</body></html>