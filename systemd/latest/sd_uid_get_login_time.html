<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>sd_uid_get_state</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><a name="sd_uid_get_state" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"></a><div class="titlepage" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"></div><div class="refnamediv" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><h2 data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1">sd_uid_get_state, sd_uid_is_on_seat, sd_uid_get_sessions, sd_uid_get_seats, sd_uid_get_display, sd_uid_get_login_time — Determine login state of a specific Unix user ID<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">sd_uid_get_state，sd_uid_is_on_seat，sd_uid_get_sessions，sd_uid_get_seats，sd_uid_get_display，sd_uid_get_login_time — 确定特定 Unix 用户 ID 的登录状态</font></font></font></p></div><div class="refsynopsisdiv" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><h2 data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">概要</font></font></font></h2><div class="funcsynopsis"><pre class="funcsynopsisinfo">#include &lt;systemd/sd-login.h&gt;</pre><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_uid_get_state</b>(</code></td><td>uid_t <var class="pdparam">uid</var>, </td></tr><tr><td>&nbsp;</td><td>char **<var class="pdparam">state</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_uid_is_on_seat</b>(</code></td><td>uid_t <var class="pdparam">uid</var>, </td></tr><tr><td>&nbsp;</td><td>int <var class="pdparam">require_active</var>, </td></tr><tr><td>&nbsp;</td><td>const char *<var class="pdparam">seat</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_uid_get_sessions</b>(</code></td><td>uid_t <var class="pdparam">uid</var>, </td></tr><tr><td>&nbsp;</td><td>int <var class="pdparam">require_active</var>, </td></tr><tr><td>&nbsp;</td><td>char ***<var class="pdparam">sessions</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_uid_get_seats</b>(</code></td><td>uid_t <var class="pdparam">uid</var>, </td></tr><tr><td>&nbsp;</td><td>int <var class="pdparam">require_active</var>, </td></tr><tr><td>&nbsp;</td><td>char ***<var class="pdparam">seats</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_uid_get_display</b>(</code></td><td>uid_t <var class="pdparam">uid</var>, </td></tr><tr><td>&nbsp;</td><td>char **<var class="pdparam">session</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_uid_get_login_time</b>(</code></td><td>uid_t <var class="pdparam">uid</var>, </td></tr><tr><td>&nbsp;</td><td>uint64_t *<var class="pdparam">usec</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div></div></div><div class="refsect1" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><a name="id-1.5" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"></a><h2 id="Description" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_state()</code> may be used to
    determine the login state of a specific Unix user identifier. The
    following states are currently known: "<code class="literal" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">offline</code>"
    (user not logged in at all), "<code class="literal" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">lingering</code>" (user
    not logged in, but some user services running),
    "<code class="literal" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">online</code>" (user logged in, but not active, i.e.
    has no session in the foreground), "<code class="literal" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">active</code>" (user
    logged in, and has at least one active session, i.e. one session
    in the foreground), "<code class="literal" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">closing</code>" (user not logged
    in, and not lingering, but some processes are still around). In
    the future additional states might be defined, client code should
    be written to be robust in regards to additional state strings
    being returned. The returned string needs to be freed with the
    libc
    <a href="https://man7.org/linux/man-pages/man3/free.3.html" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><span class="citerefentry" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><span class="refentrytitle" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">free</span>(3)</span></a>
    call after use.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_state()</code> 可用于确定特定 Unix 用户标识符的登录状态。当前已知以下状态：" <code class="literal" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">offline</code> "（用户根本未登录），" <code class="literal" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">lingering</code> "（用户未登录，但某些用户服务正在运行），" <code class="literal" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">online</code> "（用户已登录，但不活动，即前台没有会话），" <code class="literal" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">active</code> "（用户已登录，并且至少有一个活动会话，即前台有一个会话），" <code class="literal" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">closing</code> "（用户未登录，也没有滞留，但仍然有一些进程在运行）。将来可能会定义其他状态，客户端代码应编写得能够对返回的其他状态字符串具有鲁棒性。返回的字符串在使用后需要使用 libc 的 free(3) 调用释放。</font></font></font></p><p data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_is_on_seat()</code> may be used to
    determine whether a specific user is logged in or active on a
    specific seat. Accepts a Unix user identifier and a seat
    identifier string as parameters. The
    <em class="parameter" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><code data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">require_active</code></em> parameter is a boolean
    value. If non-zero (true), this function will test if the user is
    active (i.e. has a session that is in the foreground and accepting
    user input) on the specified seat, otherwise (false) only if the
    user is logged in (and possibly inactive) on the specified
    seat.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_is_on_seat()</code> 可用于确定特定用户是否已登录或在特定座位上活跃。接受 Unix 用户标识符和座位标识符字符串作为参数。 <code data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">require_active</code> 参数是布尔值。如果非零（true），此函数将测试用户是否在指定座位上活跃（即，具有在前台并接受用户输入的会话），否则（false）仅在用户已登录（可能处于非活跃状态）在指定座位上。</font></font></font></p><p data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_sessions()</code> may be used to
    determine the current sessions of the specified user. Accepts a
    Unix user identifier as parameter. The
    <em class="parameter" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><code data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">require_active</code></em> parameter controls whether
    the returned list shall consist of only those sessions where the
    user is currently active (&gt; 0), where the user is currently
    online but possibly inactive (= 0), or logged in but
    possibly closing the session (&lt; 0). The call returns a
    <code class="constant" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">NULL</code> terminated string array of session
    identifiers in <em class="parameter" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><code data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sessions</code></em> which needs to be
    freed by the caller with the libc
    <a href="https://man7.org/linux/man-pages/man3/free.3.html" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><span class="citerefentry" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><span class="refentrytitle" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">free</span>(3)</span></a>
    call after use, including all the strings referenced. If the
    string array parameter is passed as <code class="constant" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">NULL</code>, the
    array will not be filled in, but the return code still indicates
    the number of current sessions. Note that instead of an empty
    array <code class="constant" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">NULL</code> may be returned and should be
    considered equivalent to an empty array.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_sessions()</code> 可用于确定指定用户的当前会话。接受 Unix 用户标识符作为参数。 <code data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">require_active</code> 参数控制返回的列表是否仅包含用户当前活动的会话（&gt; 0），用户当前在线但可能不活动（= 0），或已登录但可能正在关闭会话的会话（&lt; 0）。调用返回一个以 <code data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sessions</code> 终止的会话标识符字符串数组，调用者在使用后需要使用 libc 的 free(3) 调用释放，包括所有引用的字符串。如果将字符串数组参数传递为 <code class="constant" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">NULL</code> ，则数组将不会被填充，但返回代码仍然指示当前会话的数量。请注意，返回的可能是一个空数组 <code class="constant" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">NULL</code> ，应将其视为等同于一个空数组。</font></font></font></p><p data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1">Similarly, <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_seats()</code> may be
    used to determine the list of seats on which the user currently
    has sessions. Similar semantics apply, however note that the user
    may have multiple sessions on the same seat as well as sessions
    with no attached seat and hence the number of entries in the
    returned array may differ from the one returned by
    <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_sessions()</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">类似地， <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_seats()</code> 可用于确定用户当前具有会话的座位列表。类似的语义适用，但请注意用户可能在同一座位上拥有多个会话，以及没有附加座位的会话，因此返回数组中的条目数可能与 <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_sessions()</code> 返回的条目数不同。</font></font></font></p><p data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_display()</code> returns the name
    of the "primary" session of a user. If the user has graphical
    sessions, it will be the oldest graphical session. Otherwise, it
    will be the oldest open session.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_display()</code> 返回用户的“主”会话的名称。如果用户有图形会话，则为最旧的图形会话。否则，将是最旧的打开会话。</font></font></font></p><p data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_login_time()</code> may be used to
    determine the time the user's service manager has been invoked,
    which is the time when the user's first active session, since which
    they stayed logged in continuously, began. The <em class="parameter" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><code data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">usec</code></em>
    is in microseconds since the epoch (<code class="constant" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">CLOCK_REALTIME</code>).
    This call will fail with <code class="constant" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">-ENXIO</code> if the user is not
    currently logged in.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_login_time()</code> 可用于确定用户的服务管理器被调用的时间，即用户的第一个活动会话开始的时间，从那时起他们一直保持登录状态。 <code data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">usec</code> 是自纪元以来的微秒数（ <code class="constant" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">CLOCK_REALTIME</code> ）。如果用户当前未登录，则此调用将失败并显示 <code class="constant" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">-ENXIO</code> 。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><a name="id-1.6" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"></a><h2 id="Return Value" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1">Return Value<a class="headerlink" title="Permalink to this headline" href="#Return%20Value" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">返回值</font></font></font></h2><p data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1">On success, <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_state()</code> and
    <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_login_time()</code> returns 0 or a positive
    integer. If the test succeeds, <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_is_on_seat()</code>
    returns a positive integer; if it fails, 0. <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_sessions()</code>
    and <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_seats()</code> return the number of entries
    in the returned arrays. <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_display()</code>
    returns a non-negative code on success. On failure, these calls return
    a negative errno-style error code.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">成功时， <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_state()</code> 和 <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_login_time()</code> 返回 0 或正整数。如果测试成功， <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_is_on_seat()</code> 返回正整数；如果失败，返回 0。 <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_sessions()</code> 和 <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_seats()</code> 返回返回的数组中条目的数量。 <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_display()</code> 在成功时返回非负代码。在失败时，这些调用将返回负的 errno 风格错误代码。</font></font></font></p><div class="refsect2" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><a name="id-1.6.3" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"></a><h3 id="Errors" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1">Errors<a class="headerlink" title="Permalink to this headline" href="#Errors" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">错误</font></font></font></h3><p data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1">Returned errors may indicate the following problems:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">返回的错误可能表示以下问题：</font></font></font></p><div class="variablelist" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><dl class="variablelist" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><dt id="-ENODATA" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><code class="constant" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">-ENODATA</code></span><a class="headerlink" title="Permalink to this term" href="#-ENODATA" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">¶</a></dt><dd data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><p data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1">The given field is not specified for the described user.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">给定字段未指定描述的用户。</font></font></font></p></dd><dt id="-ENXIO" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><code class="constant" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">-ENXIO</code></span><a class="headerlink" title="Permalink to this term" href="#-ENXIO" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">¶</a></dt><dd data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><p data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1">The specified seat is unknown.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定的座位未知。</font></font></font></p></dd><dt id="-EINVAL" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><code class="constant" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">-EINVAL</code></span><a class="headerlink" title="Permalink to this term" href="#-EINVAL" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">¶</a></dt><dd data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><p data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1">An input parameter was invalid (out of range, or <code class="constant" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">NULL</code>,
          where that is not accepted). This is also returned if the passed user ID is
          <code class="constant" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">0xFFFF</code> or <code class="constant" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">0xFFFFFFFF</code>, which are undefined on Linux.
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">输入参数无效（超出范围，或 <code class="constant" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">NULL</code> ，其中不被接受）。如果传递的用户 ID 是 <code class="constant" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">0xFFFF</code> 或 <code class="constant" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">0xFFFFFFFF</code> ，这在 Linux 上是未定义的。</font></font></font></p></dd><dt id="-ENOMEM" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><code class="constant" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">-ENOMEM</code></span><a class="headerlink" title="Permalink to this term" href="#-ENOMEM" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">¶</a></dt><dd data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><p data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1">Memory allocation failed.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内存分配失败。</font></font></font></p></dd></dl></div></div></div><div class="refsect1" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><a name="id-1.7" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"></a><h2 id="Notes" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1">Notes<a class="headerlink" title="Permalink to this headline" href="#Notes" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">笔记 ¶</font></font></font></h2><p data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1"><a name="pkgconfig-text" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"></a>Functions described here are available as a shared
  library, which can be compiled against and linked to with the
  <code class="constant" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">libsystemd</code>&nbsp;<a href="http://linux.die.net/man/1/pkg-config" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><span class="citerefentry" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><span class="refentrytitle" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">pkg-config</span>(1)</span></a>
  file.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处描述的函数可作为共享库使用，可以与 <code class="constant" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">libsystemd</code> pkg-config(1) 文件一起编译并链接。</font></font></font></p><p data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1"><a name="getenv" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"></a>The code described here uses
<a href="https://man7.org/linux/man-pages/man3/getenv.3.html" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><span class="citerefentry" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><span class="refentrytitle" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">getenv</span>(3)</span></a>,
which is declared to be not multi-thread-safe. This means that the code calling the functions described
here must not call
<a href="https://man7.org/linux/man-pages/man3/setenv.3.html" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><span class="citerefentry" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><span class="refentrytitle" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">setenv</span>(3)</span></a>
from a parallel thread. It is recommended to only do calls to <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">setenv()</code>
from an early phase of the program when no other threads have been started.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处描述的代码使用了 getenv(3)，该函数被声明为不支持多线程安全。这意味着调用此处描述的函数的代码不能从并行线程中调用 setenv(3)。建议仅在程序的早期阶段（没有启动其他线程时）调用 <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">setenv()</code> 。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><a name="id-1.8" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"></a><h2 id="History" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1">History<a class="headerlink" title="Permalink to this headline" href="#History" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">历史 ¶</font></font></font></h2><p data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_display()</code> was added in version 213.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_display()</code> 在版本 213 中添加。</font></font></font></p><p data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_login_time()</code> was added in version 254.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_uid_get_login_time()</code> 在版本 254 中添加。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><a name="id-1.9" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"></a><h2 id="See Also" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">另请参阅 ¶</font></font></font></h2><p data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6" data-immersive-translate-paragraph="1">
      <a href="systemd.html#" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><span class="citerefentry" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><span class="refentrytitle" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">systemd</span>(1)</span></a>,
      <a href="sd-login.html#" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><span class="citerefentry" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><span class="refentrytitle" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd-login</span>(3)</span></a>,
      <a href="sd_pid_get_owner_uid.html#" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><span class="citerefentry" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6"><span class="refentrytitle" data-immersive-translate-walked="102b1ef7-ebb7-4bf4-8524-25138511cbd6">sd_pid_get_owner_uid</span>(3)</span></a>
    </p></div></div>
</body></html>