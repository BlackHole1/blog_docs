<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>sd_bus_get_fd</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><a name="sd_bus_get_fd" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"></a><div class="titlepage" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"></div><div class="refnamediv" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><h2 data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1">sd_bus_get_fd, sd_bus_get_events, sd_bus_get_timeout — Get the file descriptor, I/O events and timeout to wait for from a message bus
    object<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">sd_bus_get_fd, sd_bus_get_events, sd_bus_get_timeout — 从消息总线对象获取文件描述符、I/O 事件和等待的超时时间</font></font></font></p></div><div class="refsynopsisdiv" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><h2 data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">简介</font></font></font></h2><div class="funcsynopsis"><pre class="funcsynopsisinfo">#include &lt;systemd/sd-bus.h&gt;</pre><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_get_fd</b>(</code></td><td>sd_bus *<var class="pdparam">bus</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_get_events</b>(</code></td><td>sd_bus *<var class="pdparam">bus</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_get_timeout</b>(</code></td><td>sd_bus *<var class="pdparam">bus</var>, </td></tr><tr><td>&nbsp;</td><td>uint64_t *<var class="pdparam">timeout_usec</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div></div></div><div class="refsect1" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><a name="id-1.5" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"></a><h2 id="Description" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_fd()</code> returns the file descriptor used to communicate from
    a message bus object. This descriptor can be used with
    <a href="https://man7.org/linux/man-pages/man3/poll.3.html" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="citerefentry" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="refentrytitle" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">poll</span>(3)</span></a>
    or a similar function to wait for I/O events on the specified bus connection object. If the bus
    object was configured with the <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_set_fd()</code> function, then the
    <em class="parameter" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><code data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">input_fd</code></em> file descriptor used in that call is returned.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_fd()</code> 返回用于从消息总线对象通信的文件描述符。此描述符可与 poll(3) 或类似函数一起使用，以等待指定总线连接对象上的 I/O 事件。如果总线对象是使用 <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_set_fd()</code> 函数配置的，则返回在该调用中使用的 <code data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">input_fd</code> 文件描述符。</font></font></font></p><p data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_events()</code> returns the I/O events to wait for, suitable for
    passing to <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">poll()</code> or a similar call. Returns a combination of
    <code class="constant" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">POLLIN</code>, <code class="constant" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">POLLOUT</code>, … events, or negative on error.
    <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_events()</code> 返回等待的 I/O 事件，适合传递给 <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">poll()</code> 或类似调用。返回 <code class="constant" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">POLLIN</code> 、 <code class="constant" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">POLLOUT</code> 等事件的组合，或在错误时返回负值。</font></font></font></p><p data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_timeout()</code> returns the <span class="emphasis" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><em data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">absolute</em></span> time-out in μs,
    from which the relative time-out to pass to <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">poll()</code> (or a similar call) can be
    derived, when waiting for events on the specified bus connection. The returned timeout may be zero, in
    which case a subsequent I/O polling call should be invoked in non-blocking mode. The returned timeout may
    be <code class="constant" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">UINT64_MAX</code> in which case the I/O polling call may block indefinitely, without any
    applied timeout. Note that the returned timeout should be considered only a maximum sleeping time. It is
    permissible (and even expected) that shorter timeouts are used by the calling program, in case other
    event sources are polled in the same event loop. Note that the returned time-value is absolute, based of
    <code class="constant" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">CLOCK_MONOTONIC</code> and specified in microseconds. When converting this value in order
    to pass it as third argument to <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">poll()</code> (which expects relative milliseconds), care
    should be taken to convert to a relative time and use a division that rounds up to ensure the I/O polling
    operation doesn't sleep for shorter than necessary, which might result in unintended busy looping
    (alternatively, use <a href="https://man7.org/linux/man-pages/man2/ppoll.2.html" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="citerefentry" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="refentrytitle" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">ppoll</span>(2)</span></a> instead
    of plain <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">poll()</code>, which understands timeouts with nano-second granularity).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_timeout()</code> 返回绝对超时时间（以微秒为单位），可以从中派生出相对超时时间以传递给 <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">poll()</code> （或类似调用），当在指定的总线连接上等待事件时。返回的超时时间可能为零，在这种情况下，应以非阻塞模式调用后续的 I/O 轮询调用。返回的超时时间可能为 <code class="constant" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">UINT64_MAX</code> ，在这种情况下，I/O 轮询调用可能会无限期地阻塞，而没有任何应用的超时时间。请注意，返回的超时时间应仅被视为最大睡眠时间。调用程序可以使用更短的超时时间，以便在同一事件循环中轮询其他事件源（这是允许的，甚至是预期的）。请注意，返回的时间值是绝对的，基于 <code class="constant" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">CLOCK_MONOTONIC</code> 并以微秒为单位指定。在将此值转换为传递给 <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">poll()</code> 的第三个参数时（该参数期望相对毫秒），应注意将其转换为相对时间，并使用四舍五入的除法，以确保 I/O 轮询操作不会睡眠时间比必要的更短，这可能导致意外的忙碌循环（或者，可以使用 ppoll(2) 而不是普通的 <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">poll()</code> ，它理解纳秒粒度的超时时间）。</font></font></font></p><p data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1">These three functions are useful to hook up a bus connection object with an external or
    manual event loop involving <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">poll()</code> or a similar I/O polling call. Before
    each invocation of the I/O polling call, all three functions should be invoked: the file
    descriptor returned by <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_fd()</code> should be polled for the events
    indicated by <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_events()</code>, and the I/O call should block for that up
    to the timeout returned by <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_timeout()</code>. After each I/O polling
    call the bus connection needs to process incoming or outgoing data, by invoking
    <a href="sd_bus_process.html#" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="citerefentry" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="refentrytitle" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_process</span>(3)</span></a>.
    <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这三个函数对于将总线连接对象与涉及 <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">poll()</code> 或类似 I/O 轮询调用的外部或手动事件循环进行连接非常有用。在每次调用 I/O 轮询调用之前，应调用这三个函数：应该对 <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_fd()</code> 返回的文件描述符进行轮询，以获取 <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_events()</code> 指示的事件，并且 I/O 调用应该阻塞直到 <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_timeout()</code> 返回的超时时间。在每次 I/O 轮询调用之后，总线连接需要通过调用 sd_bus_process(3)来处理传入或传出的数据。</font></font></font></p><p data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1">Note that these functions are only one of three supported ways to implement I/O event
    handling for bus connections. Alternatively use
    <a href="sd_bus_attach_event.html#" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="citerefentry" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="refentrytitle" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_attach_event</span>(3)</span></a>
    to attach a bus connection to an
    <a href="sd-event.html#" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="citerefentry" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="refentrytitle" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd-event</span>(3)</span></a>
    event loop. Or use
    <a href="sd_bus_wait.html#" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="citerefentry" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="refentrytitle" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_wait</span>(3)</span></a>
    as a simple synchronous, blocking I/O waiting call.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，这些函数只是实现总线连接的 I/O 事件处理的三种支持方式之一。或者使用 sd_bus_attach_event(3)将总线连接附加到 sd-event(3)事件循环。或者使用 sd_bus_wait(3)作为简单的同步、阻塞 I/O 等待调用。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><a name="id-1.6" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"></a><h2 id="Return Value" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1">Return Value<a class="headerlink" title="Permalink to this headline" href="#Return%20Value" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">返回值 ¶</font></font></font></h2><p data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1">On success, <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_fd()</code> returns the file descriptor used for
    communication. On failure, it returns a negative errno-style error code.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">成功时， <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_fd()</code> 返回用于通信的文件描述符。失败时，它返回一个负的 errno 风格的错误代码。</font></font></font></p><p data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1">On success, <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_events()</code> returns the I/O event mask to use for
    I/O event watching. On failure, it returns a negative errno-style error code.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在成功时， <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_events()</code> 返回用于 I/O 事件监视的 I/O 事件掩码。在失败时，它返回一个负的 errno 风格的错误代码。</font></font></font></p><p data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1">On success, <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_timeout()</code> returns a non-negative integer. On
    failure, it returns a negative errno-style error code.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在成功时， <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_timeout()</code> 返回一个非负整数。在失败时，它返回一个负的 errno 风格的错误代码。</font></font></font></p><div class="refsect2" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><a name="id-1.6.5" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"></a><h3 id="Errors" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1">Errors<a class="headerlink" title="Permalink to this headline" href="#Errors" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">错误 ¶</font></font></font></h3><p data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1">Returned errors may indicate the following problems:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">返回的错误可能表示以下问题：</font></font></font></p><div class="variablelist" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><dl class="variablelist" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><dt id="-EINVAL" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><code class="constant" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">-EINVAL</code></span><a class="headerlink" title="Permalink to this term" href="#-EINVAL" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">¶</a></dt><dd data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><p data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1">An invalid bus object was passed.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">传递了一个无效的总线对象。</font></font></font></p></dd><dt id="-ECHILD" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><code class="constant" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">-ECHILD</code></span><a class="headerlink" title="Permalink to this term" href="#-ECHILD" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">¶</a></dt><dd data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><p data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1">The bus connection was allocated in a parent process and is being reused
          in a child process after <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">fork()</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">公交车连接在父进程中分配，并在 <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">fork()</code> 后在子进程中被重用。</font></font></font></p></dd><dt id="-ENOTCONN" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><code class="constant" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">-ENOTCONN</code></span><a class="headerlink" title="Permalink to this term" href="#-ENOTCONN" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">¶</a></dt><dd data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><p data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1">The bus connection has been terminated.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">公交车连接已经终止。</font></font></font></p></dd><dt id="-EPERM" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><code class="constant" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">-EPERM</code></span><a class="headerlink" title="Permalink to this term" href="#-EPERM" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">¶</a></dt><dd data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><p data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1">Two distinct file descriptors were passed for input and output using
          <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_set_fd()</code>, which <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_fd()</code> cannot
          return.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_set_fd()</code> 传递了两个不同的文件描述符，一个用于输入，一个用于输出， <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_fd()</code> 无法返回。</font></font></font></p></dd><dt id="-ENOPKG" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><code class="constant" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">-ENOPKG</code></span><a class="headerlink" title="Permalink to this term" href="#-ENOPKG" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">¶</a></dt><dd data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><p data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1">The bus cannot be resolved.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">公交车无法解决。</font></font></font></p><p data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1"><a name="v246" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"></a>Added in version 246.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 246 中。</font></font></font></p></dd></dl></div></div></div><div class="refsect1" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><a name="id-1.7" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"></a><h2 id="Notes" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1">Notes<a class="headerlink" title="Permalink to this headline" href="#Notes" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意事项 ¶</font></font></font></h2><p data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1"><a name="pkgconfig-text" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"></a>Functions described here are available as a shared
  library, which can be compiled against and linked to with the
  <code class="constant" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">libsystemd</code>&nbsp;<a href="http://linux.die.net/man/1/pkg-config" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="citerefentry" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="refentrytitle" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">pkg-config</span>(1)</span></a>
  file.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处描述的函数可作为共享库使用，可以通过 <code class="constant" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">libsystemd</code> pkg-config(1) 文件进行编译和链接。</font></font></font></p><p data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1"><a name="getenv" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"></a>The code described here uses
<a href="https://man7.org/linux/man-pages/man3/getenv.3.html" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="citerefentry" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="refentrytitle" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">getenv</span>(3)</span></a>,
which is declared to be not multi-thread-safe. This means that the code calling the functions described
here must not call
<a href="https://man7.org/linux/man-pages/man3/setenv.3.html" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="citerefentry" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="refentrytitle" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">setenv</span>(3)</span></a>
from a parallel thread. It is recommended to only do calls to <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">setenv()</code>
from an early phase of the program when no other threads have been started.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处描述的代码使用了 getenv(3)，该函数被声明为非多线程安全。这意味着调用此处描述的函数的代码不能从并行线程中调用 setenv(3)。建议仅在程序的早期阶段进行对 <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">setenv()</code> 的调用，此时尚未启动其他线程。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><a name="id-1.8" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"></a><h2 id="History" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1">History<a class="headerlink" title="Permalink to this headline" href="#History" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">历史 ¶</font></font></font></h2><p data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_fd()</code> was added in version 231.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_fd()</code> 已在版本 231 中添加。</font></font></font></p><p data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_events()</code> and
    <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_timeout()</code> were added in version 240.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">版本 240 中添加了 <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_events()</code> 和 <code class="function" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_get_timeout()</code> 。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><a name="id-1.9" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"></a><h2 id="See Also" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">参见 ¶</font></font></font></h2><p data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d" data-immersive-translate-paragraph="1">
      <a href="systemd.html#" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="citerefentry" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="refentrytitle" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">systemd</span>(1)</span></a>,
      <a href="sd-bus.html#" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="citerefentry" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="refentrytitle" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd-bus</span>(3)</span></a>,
      <a href="sd_bus_process.html#" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="citerefentry" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="refentrytitle" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_process</span>(3)</span></a>,
      <a href="sd_bus_attach_event.html#" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="citerefentry" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="refentrytitle" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_attach_event</span>(3)</span></a>,
      <a href="sd_bus_wait.html#" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="citerefentry" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="refentrytitle" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_wait</span>(3)</span></a>,
      <a href="sd_bus_set_fd.html#" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="citerefentry" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="refentrytitle" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">sd_bus_set_fd</span>(3)</span></a>,
      <a href="https://man7.org/linux/man-pages/man3/poll.3.html" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="citerefentry" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d"><span class="refentrytitle" data-immersive-translate-walked="77bf4ff3-b3a8-460d-a275-b945881efb5d">poll</span>(3)</span></a>
    </p></div></div>
</body></html>