<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>systemd.generator</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><a name="systemd.generator" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"></a><div class="titlepage" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"></div><div class="refnamediv" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><h2 data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">systemd.generator — systemd unit generators<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">systemd.generator — systemd 单元生成器</font></font></font></p></div><div class="refsynopsisdiv" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><h2 data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">简介</font></font></font></h2><div class="cmdsynopsis" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1"><code class="command" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/path/to/generator</code>   <em class="replaceable" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><code data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">normal-dir</code></em>  [<em class="replaceable" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><code data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">early-dir</code></em>] [<em class="replaceable" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><code data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">late-dir</code></em>]</p></div><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">
      </p><div class="literallayout" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/run/systemd/system-generators/*</code><br data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">
<code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/etc/systemd/system-generators/*</code><br data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">
<code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/usr/local/lib/systemd/system-generators/*</code><br data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">
<code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/usr/lib/systemd/system-generators/*</code></p></div><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">
    </p><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">
      </p><div class="literallayout" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/run/systemd/user-generators/*</code><br data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">
<code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/etc/systemd/user-generators/*</code><br data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">
<code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/usr/local/lib/systemd/user-generators/*</code><br data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">
<code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/usr/lib/systemd/user-generators/*</code></p></div><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">
    </p></div><div class="refsect1" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><a name="id-1.5" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"></a><h2 id="Description" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Generators are small executables placed in <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/usr/lib/systemd/system-generators/</code> and other
    directories listed above.
    <a href="systemd.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd</span>(1)</span></a> will execute
    these binaries very early at bootup and at configuration reload time — before unit files are
    loaded. Their main purpose is to convert configuration and execution context parameters that are not
    native to the service manager into dynamically generated unit files, symlinks or unit file drop-ins, so
    that they can extend the unit file hierarchy the service manager subsequently loads and operates
    on.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">生成器是放置在 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/usr/lib/systemd/system-generators/</code> 和其他上面列出的目录中的小型可执行文件。systemd(1) 将在启动时和配置重新加载时非常早地执行这些二进制文件 — 在加载单元文件之前。它们的主要目的是将不是服务管理器本地的配置和执行上下文参数转换为动态生成的单元文件、符号链接或单元文件附加文件，以便它们可以扩展服务管理器随后加载和操作的单元文件层次结构。</font></font></font></p><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1"><span class="command" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><strong data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd</strong></span> will call each generator with three directory paths that are to be used
    for generator output. In these three directories, generators may dynamically generate unit files (regular
    ones, instances, as well as templates), unit file <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">.d/</code> drop-ins, and create symbolic
    links to unit files to add additional dependencies, create aliases, or instantiate existing templates.
    Those directories are included in the unit load path, allowing generated configuration to extend or
    override existing definitions. For tests, generators may be called with just one argument; the generator
    should assume that all three paths are the same in that case.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">systemd 将使用三个目录路径调用每个生成器，用于生成器输出。在这三个目录中，生成器可以动态生成单元文件（常规文件、实例以及模板）、单元文件 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">.d/</code> drop-ins，并创建符号链接到单元文件以添加额外的依赖项、创建别名或实例化现有模板。这些目录包含在单元加载路径中，允许生成的配置扩展或覆盖现有定义。对于测试，生成器可能只使用一个参数调用；在这种情况下，生成器应假定所有三个路径相同。</font></font></font></p><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Directory paths for generator output differ by priority: <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">…/generator.early</code> has
    priority higher than the admin configuration in <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/etc/</code>, while
    <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">…/generator</code> has lower priority than <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/etc/</code> but higher than
    vendor configuration in <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/usr/</code>, and <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">…/generator.late</code> has
    priority lower than all other configuration. See the next section and the discussion of unit load paths
    and unit overriding in
    <a href="systemd.unit.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd.unit</span>(5)</span></a>.
    <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">生成器输出的目录路径按优先级不同： <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">…/generator.early</code> 的优先级高于 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/etc/</code> 中的管理员配置，而 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">…/generator</code> 的优先级低于 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/etc/</code> 但高于 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/usr/</code> 中的供应商配置， <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">…/generator.late</code> 的优先级低于所有其他配置。请参阅下一节以及 systemd.unit(5) 中有关单元加载路径和单元覆盖的讨论。</font></font></font></p><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Generators are loaded from a set of paths determined during compilation, as listed above. System
    and user generators are loaded from directories with names ending in
    <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">system-generators/</code> and <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">user-generators/</code>,
    respectively. Generators found in directories listed earlier override the ones with the same name in
    directories lower in the list. A symlink to <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/dev/null</code> or an empty file can be used
    to mask a generator, thereby preventing it from running. Please note that the order of the two
    directories with the highest priority is reversed with respect to the unit load path, and generators in
    <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/run/</code> overwrite those in <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/etc/</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">生成器是在编译期间确定的一组路径中加载的，如上所列。系统和用户生成器分别从以 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">system-generators/</code> 和 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">user-generators/</code> 结尾的目录中加载。在较早列出的目录中找到的生成器会覆盖列表中较低目录中具有相同名称的生成器。可以使用指向 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/dev/null</code> 的符号链接或空文件来屏蔽生成器，从而阻止其运行。请注意，具有最高优先级的两个目录的顺序与单元加载路径相反，并且 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/run/</code> 中的生成器会覆盖 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/etc/</code> 中的生成器。</font></font></font></p><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">After installing new generators or updating the configuration, <span class="command" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><strong data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemctl
    daemon-reload</strong></span> may be executed. This will delete the previous configuration created by
    generators, re-run all generators, and cause <span class="command" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><strong data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd</strong></span> to reload units from disk. See
    <a href="systemctl.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemctl</span>(1)</span></a> for more
    information.
    <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">安装新生成器或更新配置后，可以执行 systemctl daemon-reload。这将删除生成器创建的先前配置，重新运行所有生成器，并导致 systemd 从磁盘重新加载单元。有关更多信息，请参阅 systemctl(1)。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><a name="id-1.6" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"></a><h2 id="Output directories" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Output directories<a class="headerlink" title="Permalink to this headline" href="#Output%20directories" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">输出目录</font></font></font></h2><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Generators are invoked with three arguments: paths to directories where generators can place their
    generated unit files or symlinks. By default those paths are runtime directories that are included in the
    search path of <span class="command" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><strong data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd</strong></span>, but a generator may be called with different paths for
    debugging purposes. If only one argument is provided, the generator should use the same directory as the
    three output paths.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">生成器被调用时带有三个参数：生成器可以放置其生成的单元文件或符号链接的目录路径。默认情况下，这些路径是 systemd 搜索路径中包含的运行时目录，但为了调试目的，生成器可能会使用不同的路径进行调用。如果只提供一个参数，则生成器应该使用与三个输出路径相同的目录。</font></font></font></p><div class="orderedlist" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><ol class="orderedlist" type="1" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><li class="listitem" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><em class="parameter" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><code data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">normal-dir</code></em></p><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">In normal use this is <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/run/systemd/generator</code> in case of the system
        generators and <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$XDG_RUNTIME_DIR/systemd/generator</code> in case of the user
        generators. Unit files placed in this directory take precedence over vendor unit configuration but
        not over native user/administrator unit configuration.
        <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在正常使用中，这是 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/run/systemd/generator</code> （系统生成器的情况）和 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$XDG_RUNTIME_DIR/systemd/generator</code> （用户生成器的情况）。放置在此目录中的单元文件优先于供应商单元配置，但不优先于本机用户/管理员单元配置。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><em class="parameter" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><code data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">early-dir</code></em></p><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">In normal use this is <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/run/systemd/generator.early</code> in case of the system
        generators and <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$XDG_RUNTIME_DIR/systemd/generator.early</code> in case of the user
        generators. Unit files placed in this directory override unit files in <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/usr/</code>,
        <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/run/</code> and <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/etc/</code>. This means that unit files placed in this
        directory take precedence over all normal configuration, both vendor and user/administrator.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在正常使用中，这是 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/run/systemd/generator.early</code> （系统生成器的情况）和 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$XDG_RUNTIME_DIR/systemd/generator.early</code> （用户生成器的情况）。放置在此目录中的单元文件会覆盖 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/usr/</code> 、 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/run/</code> 和 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/etc/</code> 中的单元文件。这意味着放置在此目录中的单元文件优先于所有正常配置，无论是供应商还是用户/管理员。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><em class="parameter" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><code data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">late-dir</code></em></p><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">In normal use this is <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/run/systemd/generator.late</code> in case of the system
        generators and <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$XDG_RUNTIME_DIR/systemd/generator.late</code> in case of the user
        generators. This directory may be used to extend the unit file tree without overriding any other unit
        files. Any native configuration files supplied by the vendor or user/administrator take
        precedence.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在正常使用中，对于系统生成器来说，这是 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/run/systemd/generator.late</code> ，对于用户生成器来说，这是 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$XDG_RUNTIME_DIR/systemd/generator.late</code> 。此目录可用于扩展单元文件树，而无需覆盖任何其他单元文件。供应商或用户/管理员提供的任何本机配置文件都具有优先权。</font></font></font></p></li></ol></div><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Note: generators <span class="emphasis" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><em data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">must not</em></span> write to other locations or otherwise make changes
    to system state. Generator output is supposed to last only until the next
    <span class="command" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><strong data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">daemon-reload</strong></span> or <span class="command" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><strong data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">daemon-reexec</strong></span>; if the generator is replaced
    or masked, its effects should vanish.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意：生成器不能写入其他位置或以其他方式更改系统状态。生成器输出应该仅持续到下一次守护程序重新加载或守护程序重新执行；如果生成器被替换或屏蔽，其效果应该消失。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><a name="id-1.7" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"></a><h2 id="Environment" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Environment<a class="headerlink" title="Permalink to this headline" href="#Environment" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">环境 ¶</font></font></font></h2><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">The service manager sets a number of environment variables when invoking generator
    executables. They carry information about the execution context of the generator, in order to simplify
    conditionalizing generators to specific environments. The following environment variables are set:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当调用生成器可执行文件时，服务管理器会设置一些环境变量。它们携带有关生成器执行上下文的信息，以简化将生成器条件化为特定环境。设置以下环境变量：</font></font></font></p><div class="variablelist" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><dl class="variablelist" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><dt id="$SYSTEMD_SCOPE" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$SYSTEMD_SCOPE</code></span><a class="headerlink" title="Permalink to this term" href="#%24SYSTEMD_SCOPE" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">¶</a></dt><dd data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">If the generator is invoked from the system service manager this variable is set to
        "<code class="literal" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">system</code>"; if invoked from the per-user service manager it is set to
        "<code class="literal" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">user</code>".<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果生成器是从系统服务管理器调用的，则将此变量设置为" <code class="literal" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">system</code> "; 如果是从每个用户服务管理器调用的，则将其设置为" <code class="literal" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">user</code> "。</font></font></font></p><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1"><a name="v251" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"></a>Added in version 251.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 251 中。</font></font></font></p></dd><dt id="$SYSTEMD_IN_INITRD" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$SYSTEMD_IN_INITRD</code></span><a class="headerlink" title="Permalink to this term" href="#%24SYSTEMD_IN_INITRD" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">¶</a></dt><dd data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">If the generator is run as part of an initrd this is set to "<code class="literal" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">1</code>". If
        it is run from the regular host (i.e. after the transition from initrd to host) it is set to
        "<code class="literal" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">0</code>". This environment variable is only set for system generators.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果生成器作为 initrd 的一部分运行，则将其设置为" <code class="literal" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">1</code> "。如果它是从常规主机运行的（即在从 initrd 到主机的过渡之后），则将其设置为" <code class="literal" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">0</code> "。此环境变量仅适用于系统生成器。</font></font></font></p><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1"><a name="v251" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"></a>Added in version 251.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 251 中。</font></font></font></p></dd><dt id="$SYSTEMD_FIRST_BOOT" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$SYSTEMD_FIRST_BOOT</code></span><a class="headerlink" title="Permalink to this term" href="#%24SYSTEMD_FIRST_BOOT" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">¶</a></dt><dd data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">If this boot-up cycle is considered a "first boot", this is set to
        "<code class="literal" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">1</code>"; if it is a subsequent, regular boot it is set to "<code class="literal" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">0</code>". For
        details see the documentation of <code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">ConditionFirstBoot=</code> in
        <a href="systemd.unit.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd.unit</span>(5)</span></a>. This
        environment variable is only set for system generators.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果此引导循环被视为“首次引导”，则将其设置为" <code class="literal" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">1</code> "; 如果是随后的常规引导，则将其设置为" <code class="literal" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">0</code> "。有关详细信息，请参阅 systemd.unit(5) 中的 <code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">ConditionFirstBoot=</code> 文档。此环境变量仅适用于系统生成器。</font></font></font></p><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1"><a name="v251" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"></a>Added in version 251.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 251 中。</font></font></font></p></dd><dt id="$SYSTEMD_VIRTUALIZATION" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$SYSTEMD_VIRTUALIZATION</code></span><a class="headerlink" title="Permalink to this term" href="#%24SYSTEMD_VIRTUALIZATION" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">¶</a></dt><dd data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">If the service manager is run in a virtualized environment,
        <code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$SYSTEMD_VIRTUALIZATION</code> is set to a pair of strings, separated by a colon. The
        first string is either "<code class="literal" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">vm</code>" or "<code class="literal" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">container</code>", categorizing the type
        of virtualization. The second string identifies the implementation of the virtualization
        technology. If no virtualization is detected this variable will not be set. This data is identical to
        what
        <a href="systemd-detect-virt.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd-detect-virt</span>(1)</span></a>
        detects and reports, and uses the same vocabulary of virtualization implementation
        identifiers.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果服务管理器在虚拟化环境中运行，则 <code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$SYSTEMD_VIRTUALIZATION</code> 将设置为由冒号分隔的一对字符串。第一个字符串要么是" <code class="literal" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">vm</code> "，要么是" <code class="literal" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">container</code> "，用于分类虚拟化类型。第二个字符串标识虚拟化技术的实现。如果未检测到虚拟化，则不会设置此变量。这些数据与 systemd-detect-virt(1)检测和报告的数据相同，并使用相同的虚拟化实现标识词汇。</font></font></font></p><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1"><a name="v251" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"></a>Added in version 251.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 251 中。</font></font></font></p></dd><dt id="$SYSTEMD_ARCHITECTURE" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$SYSTEMD_ARCHITECTURE</code></span><a class="headerlink" title="Permalink to this term" href="#%24SYSTEMD_ARCHITECTURE" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">¶</a></dt><dd data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">This variable is set to a short identifier of the reported architecture of the
        system. For details about defined values, see documentation of
        <code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">ConditionArchitecture=</code> in
        <a href="systemd.unit.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd.unit</span>(5)</span></a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此变量设置为系统报告的架构的简短标识符。有关定义值的详细信息，请参阅 systemd.unit(5)中的文档。</font></font></font></p><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1"><a name="v251" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"></a>Added in version 251.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 251 中。</font></font></font></p></dd><dt id="$CREDENTIALS_DIRECTORY" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$CREDENTIALS_DIRECTORY</code>, </span><span class="term" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$ENCRYPTED_CREDENTIALS_DIRECTORY</code></span><a class="headerlink" title="Permalink to this term" href="#%24CREDENTIALS_DIRECTORY" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$CREDENTIALS_DIRECTORY</code> ， <code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$ENCRYPTED_CREDENTIALS_DIRECTORY</code> ¶</font></font></font></dt><dd data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">If set, refers to the directory system credentials have been placed in. Credentials
        passed into the system in plaintext form will be placed in <code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$CREDENTIALS_DIRECTORY</code>,
        and those passed in in encrypted form will be placed in
        <code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$ENCRYPTED_CREDENTIALS_DIRECTORY</code>. Use the
        <a href="systemd-creds.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd-creds</span>(1)</span></a>
        command to automatically decrypt/authenticate credentials passed in, if needed. Specifically, use the
        <span class="command" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><strong data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd-creds --system cat</strong></span> command.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果设置，指的是系统凭据放置的目录。以明文形式传递到系统中的凭据将放置在 <code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$CREDENTIALS_DIRECTORY</code> 中，以加密形式传递的凭据将放置在 <code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$ENCRYPTED_CREDENTIALS_DIRECTORY</code> 中。如果需要，使用 systemd-creds(1)命令自动解密/验证传递的凭据。具体来说，使用 systemd-creds --system cat 命令。</font></font></font></p><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1"><a name="v254" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"></a>Added in version 254.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 254 中。</font></font></font></p></dd><dt id="$SYSTEMD_CONFIDENTIAL_VIRTUALIZATION" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$SYSTEMD_CONFIDENTIAL_VIRTUALIZATION</code></span><a class="headerlink" title="Permalink to this term" href="#%24SYSTEMD_CONFIDENTIAL_VIRTUALIZATION" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">¶</a></dt><dd data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">If the service manager is run in a confidential virtualized environment,
        <code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$SYSTEMD_CONFIDENTIAL_VIRTUALIZATION</code> is set to a string that identifies
        the confidential virtualization hardware technology. If no confidential virtualization is
        detected this variable will not be set. This data is identical to what
        <a href="systemd-detect-virt.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd-detect-virt</span>(1)</span></a>
        detects and reports, and uses the same vocabulary of confidential virtualization
        technology identifiers.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果服务管理器在保密的虚拟化环境中运行，则 <code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">$SYSTEMD_CONFIDENTIAL_VIRTUALIZATION</code> 将设置为标识保密虚拟化硬件技术的字符串。如果未检测到保密虚拟化，则不会设置此变量。这些数据与 systemd-detect-virt(1)检测和报告的数据相同，并使用相同的保密虚拟化技术标识词汇。</font></font></font></p><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1"><a name="v254" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"></a>Added in version 254.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 254 中。</font></font></font></p></dd></dl></div></div><div class="refsect1" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><a name="id-1.8" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"></a><h2 id="Notes about writing generators" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Notes about writing generators<a class="headerlink" title="Permalink to this headline" href="#Notes%20about%20writing%20generators" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">关于编写生成器的注意事项 ¶</font></font></font></h2><div class="itemizedlist" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><ul class="itemizedlist" style="list-style-type: disc; " data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><li class="listitem" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">All generators are executed in parallel. That means all executables are started at the very
        same time and need to be able to cope with this parallelism.
        <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">所有生成器都是并行执行的。这意味着所有可执行文件将同时启动，并且需要能够处理这种并行性。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Generators are run very early at boot and cannot rely on any external services. They may not
        talk to any other process. That includes simple things such as logging to <a href="https://man7.org/linux/man-pages/man3/syslog.3.html" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">syslog</span>(3)</span></a>, or
        <span class="command" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><strong data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd</strong></span> itself (this means: no
        <a href="systemctl.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemctl</span>(1)</span></a>)!
        Non-essential file systems like <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/var/</code> and <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/home/</code> are
        mounted after generators have run. Generators can however rely on the most basic kernel functionality
        to be available, as well as mounted <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/sys/</code>, <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/proc/</code>,
        <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/dev/</code>, <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/usr/</code> and <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/run/</code> file systems.
        <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">生成器在引导时非常早就运行，不能依赖任何外部服务。它们不能与任何其他进程通信。这包括简单的事情，比如记录到 syslog(3)，或者 systemd 本身（这意味着：不要使用 systemctl(1)）！非必要的文件系统像 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/var/</code> 和 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/home/</code> 在生成器运行后挂载。然而，生成器可以依赖于最基本的内核功能可用，以及挂载的 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/sys/</code> ， <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/proc/</code> ， <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/dev/</code> ， <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/usr/</code> 和 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/run/</code> 文件系统。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Units written by generators are removed when the configuration is reloaded. That means the
        lifetime of the generated units is closely bound to the reload cycles of <span class="command" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><strong data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd</strong></span>
        itself.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">由生成器编写的单元在重新加载配置时被删除。这意味着生成的单元的生命周期与 systemd 本身的重新加载周期密切相关。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Generators should only be used to generate unit files, <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">.d/*.conf</code> drop-ins
        for them and symlinks to them, not any other kind of non-unit related configuration. Due to the
        lifecycle logic mentioned above, generators are not a good fit to generate dynamic configuration for
        other services. If you need to generate dynamic configuration for other services, do so in normal
        services you order before the service in question.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">生成器应仅用于生成单元文件， <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">.d/*.conf</code> 为它们生成的附加配置和符号链接，而不是任何其他与单元无关的配置。由于上述生命周期逻辑，生成器不适合为其他服务生成动态配置。如果您需要为其他服务生成动态配置，请在您要求的服务之前的正常服务中执行。</font></font></font></p><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Note that using the <code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">StandardInputData=</code>/<code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">StandardInputText=</code>
        settings of service unit files (see
        <a href="systemd.exec.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd.exec</span>(5)</span></a>), it
        is possible to make arbitrary input data (including daemon-specific configuration) part of the unit
        definitions, which often might be sufficient to embed data or configuration for other programs into
        unit files in a native fashion.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，使用服务单元文件的 <code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">StandardInputData=</code> / <code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">StandardInputText=</code> 设置（参见 systemd.exec(5)），可以将任意输入数据（包括特定于守护程序的配置）作为单元定义的一部分，这通常足以以本机方式将数据或配置嵌入到单元文件中。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Since
        <a href="https://man7.org/linux/man-pages/man3/syslog.3.html" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">syslog</span>(3)</span></a>

        is not available (see above), log messages have to be written to <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/dev/kmsg</code>
        instead.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">由于 syslog(3) 不可用（请参见上文），日志消息必须写入 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/dev/kmsg</code> 。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">The generator should always include its own name in a comment at the top of the generated file,
        so that the user can easily figure out which component created or amended a particular unit.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">生成器应始终在生成的文件顶部的注释中包含自己的名称，以便用户可以轻松地确定哪个组件创建或修改了特定的单元。</font></font></font></p><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">The <code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">SourcePath=</code> directive should be used in generated files to specify the
        source configuration file they are generated from. This makes things more easily understood by the
        user and also has the benefit that systemd can warn the user about configuration files that changed
        on disk but have not been read yet by systemd. The <code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">SourcePath=</code> value does not have
        to be a file in a physical filesystem. For example, in the common case of the generator looking at
        the kernel command line, <code class="option" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">SourcePath=/proc/cmdline</code> should be used.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">SourcePath=</code> 指令应该在生成的文件中使用，以指定它们生成自哪个源配置文件。这样可以让用户更容易理解，并且还有一个好处，即 systemd 可以警告用户有关磁盘上已更改但尚未被 systemd 读取的配置文件。 <code class="varname" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">SourcePath=</code> 的值不必是物理文件系统中的文件。例如，在生成器查看内核命令行的常见情况下，应该使用 <code class="option" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">SourcePath=/proc/cmdline</code> 。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Generators may write out dynamic unit files or just hook unit files into other units with the
        usual <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">.wants/</code> or <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">.requires/</code> symlinks. Often, it is nicer to
        simply instantiate a template unit file from <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/usr/</code> with a generator instead of
        writing out entirely dynamic unit files. Of course, this works only if a single parameter is to be
        used.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">生成器可以编写动态单元文件，或者只是将单元文件挂接到其他单元中，使用通常的 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">.wants/</code> 或 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">.requires/</code> 符号链接。通常，最好是使用生成器从 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/usr/</code> 实例化模板单元文件，而不是完全编写动态单元文件。当然，这仅在要使用单个参数时才有效。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">If you are careful, you can implement generators in shell scripts. We do recommend C code
        however, since generators are executed synchronously and hence delay the entire boot if they are
        slow.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果您小心谨慎，可以在 shell 脚本中实现生成器。然而，我们建议使用 C 代码，因为生成器是同步执行的，如果它们运行缓慢，会延迟整个引导过程。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Regarding overriding semantics: there are two rules we try to follow when thinking about the
        overriding semantics:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">关于覆盖语义：在考虑覆盖语义时，我们尝试遵循两条规则：</font></font></font></p><div class="orderedlist" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><ol class="orderedlist" type="i" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><li class="listitem" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">User configuration should override vendor configuration. This (mostly) means that stuff
            from <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/etc/</code> should override stuff from <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/usr/</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用户配置应该覆盖供应商配置。这（大多数情况下）意味着来自 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/etc/</code> 的内容应该覆盖来自 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/usr/</code> 的内容。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Native configuration should override non-native configuration. This (mostly) means that
            stuff you generate should never override native unit files for the same purpose.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">本地配置应该覆盖非本地配置。这（大多数情况下）意味着您生成的内容不应该覆盖相同目的的本地单元文件。</font></font></font></p></li></ol></div><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Of these two rules the first rule is probably the more important one and breaks the second one
        sometimes. Hence, when deciding whether to use argv[1], argv[2], or argv[3], your default choice
        should probably be argv[1].<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在这两条规则中，第一条规则可能更重要，有时会违反第二条规则。因此，在决定是使用 argv[1]、argv[2] 还是 argv[3] 时，您的默认选择可能应该是 argv[1]。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Instead of heading off now and writing all kind of generators for legacy configuration file
        formats, please think twice! It is often a better idea to just deprecate old stuff instead of keeping
        it artificially alive.
        <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">而不是立即着手编写各种为传统配置文件格式生成器，请三思！通常最好的做法是废弃旧的东西，而不是让其人为地继续存在。</font></font></font></p></li></ul></div></div><div class="refsect1" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><a name="id-1.9" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"></a><h2 id="Examples" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Examples<a class="headerlink" title="Permalink to this headline" href="#Examples" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 ¶</font></font></font></h2><div class="example" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><a name="id-1.9.2" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"></a><p class="title" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><b data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Example&nbsp;1.&nbsp;systemd-fstab-generator<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 1. systemd-fstab-generator</font></font></font></b></p><div class="example-contents" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1"><a href="systemd-fstab-generator.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd-fstab-generator</span>(8)</span></a>
      converts <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/etc/fstab</code> into native mount units. It uses argv[1] as location to place
      the generated unit files in order to allow the user to override <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/etc/fstab</code> with
      their own native unit files, but also to ensure that <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/etc/fstab</code> overrides any
      vendor default from <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/usr/</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">systemd-fstab-generator(8) 将 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/etc/fstab</code> 转换为本机挂载单元。它使用 argv[1] 作为放置生成的单元文件的位置，以允许用户用自己的本机单元文件覆盖 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/etc/fstab</code> ，同时确保 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/etc/fstab</code> 覆盖来自 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/usr/</code> 的任何供应商默认设置。</font></font></font></p><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">After editing <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/etc/fstab</code>, the user should invoke <span class="command" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><strong data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemctl
      daemon-reload</strong></span>. This will re-run all generators and cause <span class="command" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><strong data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd</strong></span> to reload
      units from disk. To actually mount new directories added to <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">fstab</code>,
      <span class="command" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><strong data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemctl start <em class="replaceable" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><code data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/path/to/mountpoint</code></em></strong></span> or <span class="command" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><strong data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemctl
      start local-fs.target</strong></span> may be used.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">编辑完 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/etc/fstab</code> 后，用户应调用 systemctl daemon-reload。这将重新运行所有生成器，并导致 systemd 重新从磁盘加载单元。要实际挂载添加到 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">fstab</code> 的新目录，可以使用 systemctl start <code data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">/path/to/mountpoint</code> 或 systemctl start local-fs.target。</font></font></font></p></div></div><br class="example-break" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><div class="example" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><a name="id-1.9.3" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"></a><p class="title" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><b data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Example&nbsp;2.&nbsp;systemd-system-update-generator<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 2. systemd-system-update-generator</font></font></font></b></p><div class="example-contents" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1"><a href="systemd-system-update-generator.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd-system-update-generator</span>(8)</span></a>
      temporarily redirects <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">default.target</code> to <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">system-update.target</code>,
      if a system update is scheduled. Since this needs to override the default user configuration for
      <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">default.target</code>, it uses argv[2]. For details about this logic, see
      <a href="systemd.offline-updates.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd.offline-updates</span>(7)</span></a>.
      <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">systemd-system-update-generator(8) 临时将 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">default.target</code> 重定向到 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">system-update.target</code> ，如果系统更新已计划。由于这需要覆盖 <code class="filename" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">default.target</code> 的默认用户配置，因此它使用 argv[2]。有关此逻辑的详细信息，请参阅 systemd.offline-updates(7)。</font></font></font></p></div></div><br class="example-break" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><div class="example" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><a name="id-1.9.4" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"></a><p class="title" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><b data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">Example&nbsp;3.&nbsp;Debugging a generator<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 3. 调试生成器</font></font></font></b></p><div class="example-contents" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><pre class="programlisting">dir=$(mktemp -d)
SYSTEMD_LOG_LEVEL=debug /usr/lib/systemd/system-generators/systemd-fstab-generator \
        "$dir" "$dir" "$dir"
find $dir</pre></div></div><br class="example-break" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"></div><div class="refsect1" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><a name="id-1.10" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"></a><h2 id="See also" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">See also<a class="headerlink" title="Permalink to this headline" href="#See%20also" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">另请参见 ¶</font></font></font></h2><p data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928" data-immersive-translate-paragraph="1">
      <a href="systemd.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd</span>(1)</span></a>,
      <a href="systemd-cryptsetup-generator.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd-cryptsetup-generator</span>(8)</span></a>,
      <a href="systemd-debug-generator.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd-debug-generator</span>(8)</span></a>,
      <a href="systemd-fstab-generator.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd-fstab-generator</span>(8)</span></a>,
      <a href="https://man7.org/linux/man-pages/man5/fstab.5.html" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">fstab</span>(5)</span></a>,
      <a href="systemd-getty-generator.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd-getty-generator</span>(8)</span></a>,
      <a href="systemd-gpt-auto-generator.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd-gpt-auto-generator</span>(8)</span></a>,
      <a href="systemd-hibernate-resume-generator.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd-hibernate-resume-generator</span>(8)</span></a>,
      <a href="systemd-rc-local-generator.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd-rc-local-generator</span>(8)</span></a>,
      <a href="systemd-system-update-generator.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd-system-update-generator</span>(8)</span></a>,
      <a href="systemd-sysv-generator.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd-sysv-generator</span>(8)</span></a>,
      <a href="systemd-xdg-autostart-generator.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd-xdg-autostart-generator</span>(8)</span></a>,
      <a href="systemd.unit.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd.unit</span>(5)</span></a>,
      <a href="systemctl.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemctl</span>(1)</span></a>,
      <a href="systemd.environment-generator.html#" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="citerefentry" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928"><span class="refentrytitle" data-immersive-translate-walked="9bf47137-9d40-4f00-ba86-b206c02c9928">systemd.environment-generator</span>(7)</span></a>
    </p></div></div>
</body></html>