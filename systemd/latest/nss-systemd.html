<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>nss-systemd</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><a name="nss-systemd" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"></a><div class="titlepage" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"></div><div class="refnamediv" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><h2 data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1">nss-systemd, libnss_systemd.so.2 — UNIX user and group name resolution for user/group lookup via Varlink<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">nss-systemd，libnss_systemd.so.2 — 通过 Varlink 进行用户/组查找的 UNIX 用户和组名称解析</font></font></font></p></div><div class="refsynopsisdiv" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><h2 data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">概要</font></font></font></h2><p data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">libnss_systemd.so.2</code></p></div><div class="refsect1" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><a name="id-1.5" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"></a><h2 id="Description" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1"><span class="command" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><strong data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">nss-systemd</strong></span> is a plug-in module for the GNU Name Service Switch (NSS)
    functionality of the GNU C Library (<span class="command" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><strong data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">glibc</strong></span>), providing UNIX user and group name
    resolution for services implementing the <a class="ulink" href="https://systemd.io/USER_GROUP_API" target="_top" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">User/Group Record
    Lookup API via Varlink</a>, such as the system and service manager
    <a href="systemd.html#" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="citerefentry" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="refentrytitle" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">systemd</span>(1)</span></a> (for its
    <code class="varname" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">DynamicUser=</code> feature, see
    <a href="systemd.exec.html#" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="citerefentry" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="refentrytitle" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">systemd.exec</span>(5)</span></a> for
    details),
    <a href="systemd-homed.service.html#" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="citerefentry" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="refentrytitle" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">systemd-homed.service</span>(8)</span></a>, or <a href="systemd-machined.service.html#" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="citerefentry" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="refentrytitle" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">systemd-machined.service</span>(8)</span></a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">nss-systemd 是 GNU C 库（glibc）的 GNU 名称服务切换（NSS）功能的插件模块，为实现用户/组记录查找 API 的服务提供 UNIX 用户和组名称解析，例如系统和服务管理器 systemd(1)（有关其 <code class="varname" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">DynamicUser=</code> 功能，请参阅 systemd.exec(5)了解详情），systemd-homed.service(8)或 systemd-machined.service(8)。</font></font></font></p><p data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1">This module also ensures that the root and nobody users and groups (i.e. the users/groups with the UIDs/GIDs
    0 and 65534) remain resolvable at all times, even if they aren't listed in <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/passwd</code> or
    <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/group</code>, or if these files are missing.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">该模块还确保根用户和 nobody 用户和组（即具有 UID/GID 0 和 65534 的用户/组）始终可解析，即使它们未列在 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/passwd</code> 或 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/group</code> 中，或者这些文件丢失。</font></font></font></p><p data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1">This module preferably utilizes
    <a href="systemd-userdbd.service.html#" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="citerefentry" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="refentrytitle" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">systemd-userdbd.service</span>(8)</span></a>
    for resolving users and groups, but also works without the service running.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">该模块首选使用 systemd-userdbd.service(8)来解析用户和组，但即使没有运行该服务也可以工作。</font></font></font></p><p data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1">To activate the NSS module, add "<code class="literal" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">systemd</code>" to the lines starting with
    "<code class="literal" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">passwd:</code>", "<code class="literal" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">group:</code>", "<code class="literal" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">shadow:</code>" and
    "<code class="literal" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">gshadow:</code>" in <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/nsswitch.conf</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要激活 NSS 模块，请在以" <code class="literal" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">passwd:</code> "、" <code class="literal" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">group:</code> "、" <code class="literal" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">shadow:</code> "和" <code class="literal" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">gshadow:</code> "开头的行中添加" <code class="literal" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">systemd</code> "到 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/nsswitch.conf</code> 中。</font></font></font></p><p data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1">It is recommended to place "<code class="literal" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">systemd</code>" after the "<code class="literal" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">files</code>" entry of
    the <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/nsswitch.conf</code> lines so that <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/passwd</code>,
    <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/group</code>, <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/shadow</code> and <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/gshadow</code>
    based mappings take precedence.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">建议将" <code class="literal" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">systemd</code> "放在 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/nsswitch.conf</code> 行的" <code class="literal" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">files</code> "条目之后，以便基于 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/passwd</code> 、 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/group</code> 、 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/shadow</code> 和 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/gshadow</code> 的映射优先。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><a name="id-1.6" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"></a><h2 id="Static Drop-In JSON User/Group Records" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1">Static Drop-In JSON User/Group Records<a class="headerlink" title="Permalink to this headline" href="#Static%20Drop-In%20JSON%20User/Group%20Records" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">静态插入 JSON 用户/组记录 ¶</font></font></font></h2><p data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1">Besides user/group records acquired via the aforementioned Varlink IPC interfaces and the
    synthesized root and nobody accounts, this module also makes user and group accounts available to the
    system that are defined in static drop-in files in the <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/userdb/</code>,
    <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/run/userdb/</code>, <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/run/host/userdb/</code> and
    <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/usr/lib/userdb/</code> directories.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">除了通过前述 Varlink IPC 接口和合成的 root 和 nobody 帐户获取的用户/组记录外，该模块还使系统中定义的用户和组帐户可用，这些帐户在 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/userdb/</code> ， <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/run/userdb/</code> ， <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/run/host/userdb/</code> 和 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/usr/lib/userdb/</code> 目录中的静态插入文件中定义。</font></font></font></p><p data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1">This is a simple mechanism to provide static user and group records via JSON drop-in files. Such
    user records should be defined in the format described by the <a class="ulink" href="https://systemd.io/USER_RECORD" target="_top" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">JSON User Records</a> specification and be placed in one of the
    aforementioned directories under a file name composed of the user name suffixed with
    <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">.user</code>, with a world-readable access mode. A symlink named after the user record's
    UID formatted in decimal and suffixed with <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">.user</code> pointing to the primary record file
    should be created as well, in order to allow both lookups by username and by UID. Privileged user record
    data (e.g. hashed UNIX passwords) may optionally be provided as well, in a pair of separate companion
    files with the <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">.user-privileged</code> suffix. The data should be stored in a regular file
    named after the user name, suffixed with <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">.user-privileged</code>, and a symlink pointing to
    it, named after the used numeric UID formatted in decimal with the same suffix. These companion files
    should not be readable to anyone but root. Example:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这是一种通过 JSON 插入文件提供静态用户和组记录的简单机制。此类用户记录应按照 JSON 用户记录规范描述的格式进行定义，并放置在上述目录之一下，文件名由用户名称后缀 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">.user</code> 组成，并具有可读取的访问模式。还应创建一个符号链接，以用户记录的 UID 以十进制格式命名，并以 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">.user</code> 为后缀，指向主记录文件，以便通过用户名和 UID 进行查找。特权用户记录数据（例如，哈希的 UNIX 密码）也可以选择性地提供，以一对单独的伴随文件形式，带有 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">.user-privileged</code> 后缀。数据应存储在一个常规文件中，文件名为用户名，后缀为 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">.user-privileged</code> ，并创建一个指向它的符号链接，命名为使用的数值 UID 以十进制格式，并具有相同后缀。这些伴随文件不应对任何人可读，除了 root 用户。示例：</font></font></font></p><pre class="programlisting">-rw-r--r--. 1 root root  723 May 10 foobar.user
-rw-------. 1 root root  123 May 10 foobar.user-privileged
lrwxrwxrwx. 1 root root   19 May 10 4711.user -&gt; foobar.user
lrwxrwxrwx. 1 root root   19 May 10 4711.user-privileged -&gt; foobar.user-privileged</pre><p data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1">Similarly, group records following the format described in <a class="ulink" href="https://systemd.io/GROUP_RECORD" target="_top" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">JSON Group Record</a> may be defined, using the file suffixes
    <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">.group</code> and <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">.group-privileged</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">类似地，可以定义遵循 JSON 组记录中描述的格式的组记录，使用文件后缀 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">.group</code> 和 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">.group-privileged</code> 。</font></font></font></p><p data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1">The primary user/group record files (i.e. those with the <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">.user</code> and
    <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">.group</code> suffixes) should not contain the "<code class="literal" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">privileged</code>" section as
    described in the specifications. The privileged user/group record files (i.e. those with the
    <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">.user-privileged</code> and <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">.group-privileged</code> suffixes) should
    contain this section, exclusively.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">主用户/组记录文件（即带有 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">.user</code> 和 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">.group</code> 后缀的文件）不应包含规范中描述的“ <code class="literal" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">privileged</code> ”部分。特权用户/组记录文件（即带有 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">.user-privileged</code> 和 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">.group-privileged</code> 后缀的文件）应该独占包含此部分。</font></font></font></p><p data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1">Note that static user/group records generally do not override conflicting records in
    <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/passwd</code> or <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/group</code> or other account databases. In fact,
    before dropping in these files a reasonable level of care should be taken to avoid user/group name and
    UID/GID conflicts.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，静态用户/组记录通常不会覆盖 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/passwd</code> 或 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/group</code> 或其他帐户数据库中的冲突记录。事实上，在放入这些文件之前，应该谨慎地避免用户/组名称和 UID/GID 冲突。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><a name="id-1.7" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"></a><h2 id="Configuration in /etc/nsswitch.conf" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1">Configuration in <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/nsswitch.conf</code><a class="headerlink" title="Permalink to this headline" href="#Configuration%20in%20/etc/nsswitch.conf" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/nsswitch.conf</code> 中的配置 ¶</font></font></font></h2><p data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1">Here is an example <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/nsswitch.conf</code> file that enables
    <span class="command" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><strong data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">nss-systemd</strong></span> correctly:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这里是一个示例 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">/etc/nsswitch.conf</code> 文件，可以正确启用 nss-systemd：</font></font></font></p><pre class="programlisting">passwd:         files <span class="command"><strong>systemd</strong></span>
group:          files <span class="command"><strong>[SUCCESS=merge] systemd</strong></span>
shadow:         files <span class="command"><strong>systemd</strong></span>
gshadow:        files <span class="command"><strong>systemd</strong></span>

hosts:          mymachines resolve [!UNAVAIL=return] files myhostname dns
networks:       files

protocols:      db files
services:       db files
ethers:         db files
rpc:            db files

netgroup:       nis</pre></div><div class="refsect1" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><a name="id-1.8" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"></a><h2 id="Example: Mappings provided by systemd-machined.service" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1">Example: Mappings provided by <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">systemd-machined.service</code><a class="headerlink" title="Permalink to this headline" href="#Example:%20Mappings%20provided%20by%20systemd-machined.service" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例：由 <code class="filename" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">systemd-machined.service</code> 提供的映射 ¶</font></font></font></h2><p data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1">The container "<code class="literal" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">rawhide</code>" is spawned using
    <a href="systemd-nspawn.html#" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="citerefentry" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="refentrytitle" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">systemd-nspawn</span>(1)</span></a>:
    <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 systemd-nspawn(1) 生成容器 " <code class="literal" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">rawhide</code> "：</font></font></font></p><pre class="programlisting"># systemd-nspawn -M rawhide --boot --network-veth --private-users=pick
Spawning container rawhide on /var/lib/machines/rawhide.
Selected user namespace base 20119552 and range 65536.
...

$ machinectl --max-addresses=3
MACHINE CLASS     SERVICE        OS     VERSION ADDRESSES
rawhide container systemd-nspawn fedora 30      169.254.40.164 fe80::94aa:3aff:fe7b:d4b9

$ getent passwd vu-rawhide-0 vu-rawhide-81
vu-rawhide-0:*:20119552:65534:vu-rawhide-0:/:/usr/sbin/nologin
vu-rawhide-81:*:20119633:65534:vu-rawhide-81:/:/usr/sbin/nologin

$ getent group vg-rawhide-0 vg-rawhide-81
vg-rawhide-0:*:20119552:
vg-rawhide-81:*:20119633:

$ ps -o user:15,pid,tty,command -e|grep '^vu-rawhide'
vu-rawhide-0      692 ?        /usr/lib/systemd/systemd
vu-rawhide-0      731 ?        /usr/lib/systemd/systemd-journald
vu-rawhide-192    734 ?        /usr/lib/systemd/systemd-networkd
vu-rawhide-193    738 ?        /usr/lib/systemd/systemd-resolved
vu-rawhide-0      742 ?        /usr/lib/systemd/systemd-logind
vu-rawhide-81     744 ?        /usr/bin/dbus-daemon --system --address=systemd: --nofork --nopidfile --systemd-activation --syslog-only
vu-rawhide-0      746 ?        /usr/sbin/sshd -D ...
vu-rawhide-0      752 ?        /usr/lib/systemd/systemd --user
vu-rawhide-0      753 ?        (sd-pam)
vu-rawhide-0     1628 ?        login -- zbyszek
vu-rawhide-1000  1630 ?        /usr/lib/systemd/systemd --user
vu-rawhide-1000  1631 ?        (sd-pam)
vu-rawhide-1000  1637 pts/8    -zsh
</pre></div><div class="refsect1" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><a name="id-1.9" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"></a><h2 id="See Also" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">另请参阅 ¶</font></font></font></h2><p data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31" data-immersive-translate-paragraph="1">
      <a href="systemd.html#" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="citerefentry" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="refentrytitle" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">systemd</span>(1)</span></a>,
      <a href="systemd.exec.html#" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="citerefentry" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="refentrytitle" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">systemd.exec</span>(5)</span></a>,
      <a href="nss-resolve.html#" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="citerefentry" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="refentrytitle" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">nss-resolve</span>(8)</span></a>,
      <a href="nss-myhostname.html#" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="citerefentry" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="refentrytitle" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">nss-myhostname</span>(8)</span></a>,
      <a href="nss-mymachines.html#" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="citerefentry" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="refentrytitle" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">nss-mymachines</span>(8)</span></a>,
      <a href="systemd-userdbd.service.html#" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="citerefentry" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="refentrytitle" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">systemd-userdbd.service</span>(8)</span></a>,
      <a href="systemd-homed.service.html#" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="citerefentry" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="refentrytitle" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">systemd-homed.service</span>(8)</span></a>,
      <a href="systemd-machined.service.html#" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="citerefentry" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="refentrytitle" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">systemd-machined.service</span>(8)</span></a>,
      <a href="https://man7.org/linux/man-pages/man5/nsswitch.conf.5.html" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="citerefentry" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="refentrytitle" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">nsswitch.conf</span>(5)</span></a>,
      <a href="https://man7.org/linux/man-pages/man1/getent.1.html" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="citerefentry" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31"><span class="refentrytitle" data-immersive-translate-walked="9ac7a7dc-95f9-40d4-8599-d71e8b208e31">getent</span>(1)</span></a>
    </p></div></div>
</body></html>