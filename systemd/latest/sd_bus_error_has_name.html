<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>sd_bus_error</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><a name="sd_bus_error" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"></a><div class="titlepage" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"></div><div class="refnamediv" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><h2 data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">sd_bus_error, SD_BUS_ERROR_MAKE_CONST, SD_BUS_ERROR_NULL, sd_bus_error_free, sd_bus_error_set, sd_bus_error_setf, sd_bus_error_setfv, sd_bus_error_set_const, sd_bus_error_set_errno, sd_bus_error_set_errnof, sd_bus_error_set_errnofv, sd_bus_error_get_errno, sd_bus_error_copy, sd_bus_error_move, sd_bus_error_is_set, sd_bus_error_has_name, sd_bus_error_has_names_sentinel, sd_bus_error_has_names — sd-bus error handling<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">sd_bus_error, SD_BUS_ERROR_MAKE_CONST, SD_BUS_ERROR_NULL, sd_bus_error_free, sd_bus_error_set, sd_bus_error_setf, sd_bus_error_setfv, sd_bus_error_set_const, sd_bus_error_set_errno, sd_bus_error_set_errnof, sd_bus_error_set_errnofv, sd_bus_error_get_errno, sd_bus_error_copy, sd_bus_error_move, sd_bus_error_is_set, sd_bus_error_has_name, sd_bus_error_has_names_sentinel, sd_bus_error_has_names — sd-bus 错误处理</font></font></font></p></div><div class="refsynopsisdiv" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><h2 data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">概要</font></font></font></h2><div class="funcsynopsis"><pre class="funcsynopsisinfo">#include &lt;systemd/sd-bus.h&gt;</pre><pre class="funcsynopsisinfo">typedef struct {
        const char *name;
        const char *message;
        …
} sd_bus_error;</pre><p>
        <code class="constant">SD_BUS_ERROR_MAKE_CONST(<em class="replaceable"><code>name</code></em>, <em class="replaceable"><code>message</code></em>)</code>
      </p><p>
        <code class="constant">SD_BUS_ERROR_NULL</code>
      </p><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">void <b class="fsfunc">sd_bus_error_free</b>(</code></td><td>sd_bus_error *<var class="pdparam">e</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_error_set</b>(</code></td><td>sd_bus_error *<var class="pdparam">e</var>, </td></tr><tr><td>&nbsp;</td><td>const char *<var class="pdparam">name</var>, </td></tr><tr><td>&nbsp;</td><td>const char *<var class="pdparam">message</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_error_setf</b>(</code></td><td>sd_bus_error *<var class="pdparam">e</var>, </td></tr><tr><td>&nbsp;</td><td>const char *<var class="pdparam">name</var>, </td></tr><tr><td>&nbsp;</td><td>const char *<var class="pdparam">format</var>, </td></tr><tr><td>&nbsp;</td><td>…<code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_error_setfv</b>(</code></td><td>sd_bus_error *<var class="pdparam">e</var>, </td></tr><tr><td>&nbsp;</td><td>const char *<var class="pdparam">name</var>, </td></tr><tr><td>&nbsp;</td><td>const char *<var class="pdparam">format</var>, </td></tr><tr><td>&nbsp;</td><td>va_list <var class="pdparam">ap</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_error_set_const</b>(</code></td><td>sd_bus_error *<var class="pdparam">e</var>, </td></tr><tr><td>&nbsp;</td><td>const char *<var class="pdparam">name</var>, </td></tr><tr><td>&nbsp;</td><td>const char *<var class="pdparam">message</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_error_set_errno</b>(</code></td><td>sd_bus_error *<var class="pdparam">e</var>, </td></tr><tr><td>&nbsp;</td><td>int <var class="pdparam">error</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_error_set_errnof</b>(</code></td><td>sd_bus_error *<var class="pdparam">e</var>, </td></tr><tr><td>&nbsp;</td><td>int <var class="pdparam">error</var>, </td></tr><tr><td>&nbsp;</td><td>const char *<var class="pdparam">format</var>, </td></tr><tr><td>&nbsp;</td><td>…<code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_error_set_errnofv</b>(</code></td><td>sd_bus_error *<var class="pdparam">e</var>, </td></tr><tr><td>&nbsp;</td><td>int <var class="pdparam">error</var>, </td></tr><tr><td>&nbsp;</td><td>const char *<var class="pdparam">format</var>, </td></tr><tr><td>&nbsp;</td><td>va_list <var class="pdparam">ap</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_error_get_errno</b>(</code></td><td>const sd_bus_error *<var class="pdparam">e</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_error_copy</b>(</code></td><td>sd_bus_error *<var class="pdparam">dst</var>, </td></tr><tr><td>&nbsp;</td><td>const sd_bus_error *<var class="pdparam">e</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_error_move</b>(</code></td><td>sd_bus_error *<var class="pdparam">dst</var>, </td></tr><tr><td>&nbsp;</td><td>sd_bus_error *<var class="pdparam">e</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_error_is_set</b>(</code></td><td>const sd_bus_error *<var class="pdparam">e</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_error_has_name</b>(</code></td><td>const sd_bus_error *<var class="pdparam">e</var>, </td></tr><tr><td>&nbsp;</td><td>const char *<var class="pdparam">name</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_error_has_names_sentinel</b>(</code></td><td>const sd_bus_error *<var class="pdparam">e</var>, </td></tr><tr><td>&nbsp;</td><td>...<code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><p>
        #define sd_bus_error_has_names(e, ...) sd_bus_error_has_names_sentinel(e, ..., NULL)
      </p></div></div><div class="refsect1" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><a name="id-1.5" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"></a><h2 id="Description" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">The <span class="structname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error</span> structure carries information about a D-Bus error
    condition, or lack thereof. The functions described below may be used to set and query fields in this
    structure.
    <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">sd_bus_error 结构体携带有关 D-Bus 错误条件或其缺失的信息。下面描述的函数可用于设置和查询此结构中的字段。</font></font></font></p><div class="itemizedlist" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><ul class="itemizedlist" style="list-style-type: disc; " data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><li class="listitem" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">The <em class="structfield" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code></em> field contains a short identifier of an error. It
      should follow the rules for error names described in the D-Bus specification, subsection <a class="ulink" href="https://dbus.freedesktop.org/doc/dbus-specification.html#message-protocol-names#message-protocol-names" target="_top" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">Valid
      D-Bus Names</a>. A number of common, standardized error names are described in
      <a href="sd-bus-errors.html#" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="citerefentry" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="refentrytitle" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd-bus-errors</span>(3)</span></a>, but
      additional domain-specific errors may be defined by applications.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code> 字段包含错误的简短标识符。它应遵循 D-Bus 规范中描述的错误名称规则，子节有效的 D-Bus 名称。 sd-bus-errors(3)中描述了许多常见的标准化错误名称，但应用程序可以定义其他特定于域的错误。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">The <em class="structfield" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">message</code></em> field usually contains a human-readable string
      describing the details, but might be <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">message</code> 字段通常包含一个人类可读的字符串，描述细节，但可能是 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> 。</font></font></font></p></li></ul></div><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">
    An unset <span class="structname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error</span> structure should have both fields initialized to
    <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code>, and signifies lack of an error, i.e. success. Assign
    <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">SD_BUS_ERROR_NULL</code> to the structure in order to initialize both fields to
    <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code>. When no longer necessary, resources held by the
    <span class="structname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error</span> structure should be destroyed with
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_free()</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">未设置的 sd_bus_error 结构应将两个字段都初始化为 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> ，表示没有错误，即成功。将 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">SD_BUS_ERROR_NULL</code> 分配给该结构以初始化两个字段为 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> 。当不再需要时，应使用 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_free()</code> 销毁 sd_bus_error 结构持有的资源。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set()</code> sets an error structure to the specified name and message
    strings. The strings will be copied into internal, newly allocated memory. It is essential to free the
    contents again when they are not required anymore (see above). Do not use this call on error structures
    that have already been set. If you intend to reuse an error structure, free the old data stored in it
    with <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_free()</code> first.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set()</code> 将错误结构设置为指定的名称和消息字符串。这些字符串将被复制到内部的新分配内存中。当不再需要时，再次释放内容是至关重要的（参见上文）。不要对已经设置过的错误结构使用此调用。如果打算重用错误结构，请先使用 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_free()</code> 释放其中存储的旧数据。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set()</code> will return an <code class="varname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">errno</code>-like value (see
    <a href="https://man7.org/linux/man-pages/man3/errno.3.html" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="citerefentry" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="refentrytitle" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">errno</span>(3)</span></a>)
    determined from the specified error name <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code></em>. If <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code></em> is
    <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code>, it is assumed that no error occurred, and <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">0</code> is returned.
    If <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code></em> is nonnull, a negative value is always returned. If
    <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code></em> is <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code>, no error structure is initialized, but
    <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code></em> is still converted into an <code class="varname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">errno</code>-style value.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set()</code> 将返回类似于 <code class="varname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">errno</code> 的值（请参阅 errno(3)），该值是根据指定的错误名称 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code> 确定的。如果 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code> 是 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> ，则假定没有发生错误，并返回 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">0</code> 。如果 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code> 是非空的，则始终返回负值。如果 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code> 是 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> ，则不会初始化错误结构，但仍会将 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code> 转换为 <code class="varname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">errno</code> 风格的值。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">Various well-known D-Bus errors are converted to well-known <code class="varname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">errno</code> counterparts,
    and the other ones to <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">-EIO</code>. See
    <a href="sd-bus-errors.html#" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="citerefentry" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="refentrytitle" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd-bus-errors</span>(3)</span></a> for a
    list of well-known error names. Additional error mappings may be defined with
    <a href="sd_bus_error_add_map.html#" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="citerefentry" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="refentrytitle" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_add_map</span>(3)</span></a>.
    <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">各种知名的 D-Bus 错误会转换为知名的 <code class="varname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">errno</code> 对应项，其他错误会转换为 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">-EIO</code> 。请参阅 sd-bus-errors(3) 以获取知名错误名称列表。可以使用 sd_bus_error_add_map(3) 定义其他错误映射。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set()</code> is designed to be conveniently used in a
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">return</code> statement. If <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">message</code></em> is <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code>, no
    message is set. This call can fail if no memory may be allocated for the name and message strings, in
    which case an <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">SD_BUS_ERROR_NO_MEMORY</code> error will be set instead and
    <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">-ENOMEM</code> returned. <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set()</code> 设计为方便在 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">return</code> 语句中使用。如果 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">message</code> 是 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> ，则不设置任何消息。如果无法为名称和消息字符串分配内存，此调用可能失败，在这种情况下，将设置 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">SD_BUS_ERROR_NO_MEMORY</code> 错误，并返回 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">-ENOMEM</code> 。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_setf()</code> and <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_setfv()</code> are similar
    to <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set()</code>, but take a <a href="https://man7.org/linux/man-pages/man3/printf.3.html" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="citerefentry" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="refentrytitle" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">printf</span>(3)</span></a> format
    string and corresponding arguments to generate the <em class="structfield" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">message</code></em> field.
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_setf()</code> uses variadic arguments, and
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_setfv()</code> accepts the arguments as a
    <a href="https://man7.org/linux/man-pages/man3/va_arg.3.html" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="citerefentry" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="refentrytitle" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">va_arg</span>(3)</span></a>
    parameter list.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_setf()</code> 和 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_setfv()</code> 类似于 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set()</code> ，但采用 printf(3)格式字符串和相应参数来生成 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">message</code> 字段。 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_setf()</code> 使用可变参数， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_setfv()</code> 将参数作为 va_arg(3)参数列表接受。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_const()</code> is similar to
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set()</code>, but the string parameters are not copied internally, and must
    hence remain constant and valid for the lifetime of <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code></em>. Use this call to avoid
    memory allocations when setting error structures. Since this call does not allocate memory, it will not
    fail with an out-of-memory condition as <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set()</code> may, as described
    above. Alternatively, the <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">SD_BUS_ERROR_MAKE_CONST()</code> macro may be used to generate a
    literal, constant bus error structure on-the-fly.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_const()</code> 类似于 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set()</code> ，但字符串参数不会在内部复制，因此必须在 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code> 的生命周期内保持不变和有效。在设置错误结构时使用此调用可避免内存分配。由于此调用不分配内存，因此不会像 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set()</code> 那样因内存不足而失败，如上所述。或者， <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">SD_BUS_ERROR_MAKE_CONST()</code> 宏可用于即时生成字面常量总线错误结构。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errno()</code> will immediately return <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">0</code> if the
    specified error parameter <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">error</code></em> is <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">0</code>. Otherwise, it will set
    <em class="structfield" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code></em> from an <code class="varname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">errno</code>-like value that is converted to a D-Bus
    error. <a href="http://linux.die.net/man/3/strerror_r" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="citerefentry" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="refentrytitle" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">strerror_r</span>(3)</span></a> will
    be used to set <em class="structfield" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">message</code></em>. Well-known D-Bus error names will be used for
    <em class="structfield" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code></em> if applicable, otherwise a name in the "<code class="literal" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">System.Error.</code>"
    namespace will be generated. The sign of the specified error number is ignored and the absolute value is
    used implicitly. If the specified error <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">error</code></em> is non-zero, the call always returns
    a negative value, for convenient usage in <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">return</code> statements. This call might fail
    due to lack of memory, in which case an <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">SD_BUS_ERROR_NO_MEMORY</code> error is set instead,
    and <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">-ENOMEM</code> is returned.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果指定的错误参数 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">error</code> 为 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">0</code> ，则 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errno()</code> 将立即返回 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">0</code> 。否则，它将设置 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code> 为类似于 <code class="varname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">errno</code> 的值，该值将转换为 D-Bus 错误。将使用 strerror_r(3)来设置 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">message</code> 。如果适用，将使用众所周知的 D-Bus 错误名称来设置 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code> ，否则将在“ <code class="literal" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">System.Error.</code> ”命名空间中生成一个名称。指定的错误数字的符号将被忽略，并且绝对值将被隐式使用。如果指定的错误 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">error</code> 非零，则调用始终返回负值，以便在 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">return</code> 语句中方便使用。此调用可能由于缺乏内存而失败，在这种情况下，将设置一个 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">SD_BUS_ERROR_NO_MEMORY</code> 错误，并返回 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">-ENOMEM</code> 。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errnof()</code> and <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errnof()</code>
    are similar to <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errno()</code>, but in addition to
    <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">error</code></em>, take a <a href="https://man7.org/linux/man-pages/man3/printf.3.html" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="citerefentry" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="refentrytitle" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">printf</span>(3)</span></a> format
    string and corresponding arguments. The <em class="structfield" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">message</code></em> field will be generated from
    <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">format</code></em> and the arguments.
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errnof()</code> uses variadic arguments, and
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errnofv()</code> accepts the arguments as a
    <a href="https://man7.org/linux/man-pages/man3/va_arg.3.html" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="citerefentry" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="refentrytitle" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">va_arg</span>(3)</span></a>
    parameter list.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errnof()</code> 和 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errnof()</code> 类似于 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errno()</code> ，但除了 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">error</code> 之外，还接受 printf(3)格式字符串和相应的参数。 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">message</code> 字段将从 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">format</code> 和参数生成。 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errnof()</code> 使用可变参数，并且 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errnofv()</code> 接受参数作为 va_arg(3)参数列表。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_get_errno()</code> converts the <em class="structfield" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code></em> field of
    an error structure to an <code class="varname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">errno</code>-like (positive) value using the same rules as
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set()</code>.  If <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code></em> is <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code>,
    <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">0</code> will be returned.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_get_errno()</code> 将错误结构的 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code> 字段转换为类似于 <code class="varname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">errno</code> （正数）的值，使用与 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set()</code> 相同的规则。如果 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code> 为 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> ，将返回 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">0</code> 。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_copy()</code> will initialize <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">dst</code></em> using the
    values in <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code></em>, if <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code></em> has been set with an error value before.
    Otherwise, it will return immediately. If the strings in <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code></em> were set using
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_const()</code>, they will be shared. Otherwise, they will be
    copied. Before this call, <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">dst</code></em> must be unset, i.e. either freshly initialized with
    <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> or reset using <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_free()</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_copy()</code> 将使用 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code> 中的值初始化 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">dst</code> ，如果 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code> 之前已设置为错误值。否则，将立即返回。如果使用 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_const()</code> 设置了 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code> 中的字符串，它们将被共享。否则，它们将被复制。在此调用之前， <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">dst</code> 必须未设置，即要么使用 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> 进行新初始化，要么使用 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_free()</code> 进行重置。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_copy()</code> generally returns <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">0</code> or a negative
    <code class="varname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">errno</code>-like value based on the input parameter <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code></em>:
    <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">0</code> if it was unset and a negative integer if it was set to some error, similarly to
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set()</code>. It may however also return an error generated internally, for
    example <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">-ENOMEM</code> if a memory allocation fails.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_copy()</code> 通常根据输入参数 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code> 返回 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">0</code> 或类似于负 <code class="varname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">errno</code> 的值：如果未设置，则返回 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">0</code> ，如果设置为某个错误，则返回负整数，类似于 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set()</code> 。但是，它也可能返回内部生成的错误，例如如果内存分配失败，则返回 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">-ENOMEM</code> 。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_move()</code> is similar to <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_copy()</code>,
    but will move any error information from <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code></em> into <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">dst</code></em>,
    resetting the former. This function cannot fail, as no new memory is allocated. Note that if
    <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code></em> is not set, <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">dst</code></em> is initialized to
    <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">SD_BUS_ERROR_NULL</code>. Moreover, if <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">dst</code></em> is
    <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> no operation is executed on it and resources held by <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code></em>
    are freed and reset. Returns a converted <code class="varname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">errno</code>-like, non-positive error value.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_move()</code> 类似于 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_copy()</code> ，但会将 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code> 中的任何错误信息移动到 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">dst</code> 中，并重置前者。此函数不会失败，因为不会分配新内存。请注意，如果未设置 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code> ，则 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">dst</code> 将初始化为 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">SD_BUS_ERROR_NULL</code> 。此外，如果 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">dst</code> 是 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> ，则不会对其执行任何操作，并且将释放和重置 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code> 持有的资源。返回转换后的 <code class="varname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">errno</code> 样式，非正错误值。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_is_set()</code> will return a
    non-zero value if <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code></em> is
    non-<code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> and an error has been set,
    <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">false</code> otherwise.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code> 非 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> 且已设置错误，则 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_is_set()</code> 将返回非零值，否则返回 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">false</code> 。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_has_name()</code> will return a
    non-zero value if <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code></em> is
    non-<code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> and an error with the same
    <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code></em> has been set,
    <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">false</code> otherwise.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code> 非 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> 且已设置相同 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code> 的错误，则 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_has_name()</code> 将返回非零值，否则返回 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">false</code> 。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_has_names_sentinel()</code> is similar to
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_has_name()</code>, but takes multiple names to check against. The list must be
    terminated with <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code>. <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_has_names()</code>
    is a macro wrapper around <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_has_names_sentinel()</code> that adds the
    <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> sentinel automatically.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_has_names_sentinel()</code> 类似于 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_has_name()</code> ，但接受多个名称进行检查。列表必须以 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> 结束。 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_has_names()</code> 是对 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_has_names_sentinel()</code> 的宏包装器，自动添加 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> 哨兵。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_free()</code> will destroy
    resources held by <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code></em>. The parameter itself
    will not be deallocated, and must be <a href="https://man7.org/linux/man-pages/man3/free.3.html" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="citerefentry" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="refentrytitle" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">free</span>(3)</span></a>d
    by the caller if necessary. The function may also be called safely
    on unset errors (error structures with both fields set to <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code>),
    in which case it performs no operation. This call will reset the
    error structure after freeing the data, so that all fields are set
    to <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code>. The structure may be reused afterwards.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_free()</code> 将销毁由 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code> 持有的资源。参数本身不会被释放，如有必要，必须由调用者进行释放。如果在未设置错误时（错误结构的两个字段均设置为 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> ）调用该函数也是安全的，此时它不执行任何操作。此调用将在释放数据后重置错误结构，以便所有字段均设置为 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> 。结构体可以在之后被重用。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><a name="id-1.6" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"></a><h2 id="Reference ownership" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">Reference ownership<a class="headerlink" title="Permalink to this headline" href="#Reference%20ownership" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">参考所有权 ¶</font></font></font></h2><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><span class="structname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error</span> is not reference-counted. Users should destroy resources held
    by it by calling <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_free()</code>. Usually, error structures are allocated on the
    stack or passed in as function parameters, but they may also be allocated dynamically, in which case it
    is the duty of the caller to <a href="https://man7.org/linux/man-pages/man3/free.3.html" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="citerefentry" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="refentrytitle" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">free</span>(3)</span></a> the memory
    held by the structure itself after freeing its contents with
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_free()</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">sd_bus_error 不是引用计数的。用户应通过调用 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_free()</code> 来销毁其持有的资源。通常，错误结构在堆栈上分配或作为函数参数传递，但也可以动态分配，此时调用者有责任在释放其内容后释放结构体本身所持有的内存，方法是使用 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_free()</code> 。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><a name="id-1.7" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"></a><h2 id="Return Value" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">Return Value<a class="headerlink" title="Permalink to this headline" href="#Return%20Value" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">返回值</font></font></font></h2><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">The functions <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set()</code>, <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_setf()</code>,
    and <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_const()</code> always return <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">0</code> when the specified
    error value is <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code>, and a negative errno-like value corresponding to the
    <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code></em> parameter otherwise. The functions
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errno()</code>, <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errnof()</code> and
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errnofv()</code>, return <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">0</code> when the specified error
    value is <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">0</code>, and a negative errno-like value corresponding to the
    <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">error</code></em> parameter otherwise. If an error occurs internally, one of the negative
    error values listed below will be returned. This allows those functions to be conveniently used in a
    <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">return</code> statement, see the example below.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当指定的错误值为 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> 时，函数 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set()</code> ， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_setf()</code> 和 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_const()</code> 总是返回 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">0</code> ，否则返回与 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code> 参数对应的负 errno 值。当指定的错误值为 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">0</code> 时，函数 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errno()</code> ， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errnof()</code> 和 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errnofv()</code> 返回 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">0</code> ，否则返回与 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">error</code> 参数对应的负 errno 值。如果内部发生错误，将返回下面列出的负错误值之一。这使得这些函数可以方便地在 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">return</code> 语句中使用，参见下面的示例。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_get_errno()</code> returns
    <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">false</code> when <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code></em> is
    <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code>, and a positive errno value mapped from
    <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e-&gt;name</code></em> otherwise.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code> 为 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> 时， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_get_errno()</code> 返回 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">false</code> ，否则返回从 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e-&gt;name</code> 映射而来的正 errno 值。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_copy()</code> and <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_move()</code> return a
    negative error value converted from the source error, and zero if the error has not been set.  This
    allows those functions to be conveniently used in a <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">return</code> statement, see the
    example below.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当错误已设置时， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_copy()</code> 和 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_move()</code> 返回从源错误转换而来的负错误值，否则返回零。这使得这些函数可以方便地在 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">return</code> 语句中使用，参见下面的示例。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_is_set()</code> returns a
    non-zero value when <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code></em> and the
    <em class="structfield" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code></em> field are
    non-<code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code>, zero otherwise.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code> 和 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code> 字段非 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> 时， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_is_set()</code> 返回非零值，否则返回零。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_has_name()</code>, <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_has_names()</code>, and
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_has_names_sentinel()</code> return a non-zero value when <em class="parameter" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code></em> is
    non-<code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> and the <em class="structfield" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code></em> field is equal to one of the given
    names, zero otherwise.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">e</code> 非 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> 且 <code data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">name</code> 字段等于给定名称之一时， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_has_name()</code> ， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_has_names()</code> 和 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_has_names_sentinel()</code> 返回非零值，否则返回零。</font></font></font></p><div class="refsect2" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><a name="id-1.7.7" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"></a><h3 id="Errors" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">Errors<a class="headerlink" title="Permalink to this headline" href="#Errors" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">错误</font></font></font></h3><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">Return value may indicate the following problems in the invocation of the function itself:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">返回值可能指示函数本身调用中的以下问题：</font></font></font></p><div class="variablelist" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><dl class="variablelist" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><dt id="-EINVAL" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">-EINVAL</code></span><a class="headerlink" title="Permalink to this term" href="#-EINVAL" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">¶</a></dt><dd data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">Error was already set in the <span class="structname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error</span> structure when
          one the error-setting functions was called.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当调用其中一个设置错误的函数时，错误已经在 sd_bus_error 结构中设置。</font></font></font></p></dd><dt id="-ENOMEM" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">-ENOMEM</code></span><a class="headerlink" title="Permalink to this term" href="#-ENOMEM" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">¶</a></dt><dd data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">Memory allocation failed.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内存分配失败。</font></font></font></p></dd></dl></div><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">On success, <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set()</code>, <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_setf()</code>,
      <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_const()</code>, <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errno()</code>,
      <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errnof()</code>, <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errnofv()</code>,
      <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_copy()</code>, and <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_move()</code> will return a
      negative converted <code class="varname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">errno</code>-style value, or <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">0</code> if the error
      parameter is <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> or unset. D-Bus errors are converted to the integral
      <code class="varname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">errno</code>-style value, and the mapping mechanism is extensible, see the discussion
      above. This effectively means that almost any negative <code class="varname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">errno</code>-style value can be
      returned.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">成功时， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set()</code> ， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_setf()</code> ， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_const()</code> ， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errno()</code> ， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errnof()</code> ， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errnofv()</code> ， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_copy()</code> 和 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_move()</code> 将返回一个负的转换 <code class="varname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">errno</code> 风格的值，或者如果错误参数是 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">NULL</code> 或未设置，则返回 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">0</code> 。 D-Bus 错误将转换为整数 <code class="varname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">errno</code> 风格的值，并且映射机制是可扩展的，请参阅上面的讨论。这实际上意味着几乎任何负的 <code class="varname" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">errno</code> 风格的值都可以被返回。</font></font></font></p></div></div><div class="refsect1" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><a name="id-1.8" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"></a><h2 id="Examples" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">Examples<a class="headerlink" title="Permalink to this headline" href="#Examples" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例</font></font></font></h2><div class="example" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><a name="id-1.8.2" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"></a><p class="title" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><b data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">Example&nbsp;1.&nbsp;Using the negative return value to propagate an error<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 1. 使用负返回值传播错误</font></font></font></b></p><div class="example-contents" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><pre class="programlisting">/* SPDX-License-Identifier: MIT-0 */

#include &lt;errno.h&gt;
#include &lt;string.h&gt;
#include &lt;unistd.h&gt;
#include &lt;sd-bus.h&gt;

int writer_with_negative_errno_return(int fd, sd_bus_error *error) {
  const char *message = "Hello, World!\n";

  ssize_t n = write(fd, message, strlen(message));
  if (n &gt;= 0)
    return n; /* On success, return the number of bytes written, possibly 0. */

  /* On error, initialize the error structure, and also propagate the errno
   * value that write(2) set for us. */
  return sd_bus_error_set_errnof(error, errno, "Failed to write to fd %i: %m", fd);
}
</pre></div></div><br class="example-break" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"></div><div class="refsect1" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><a name="id-1.9" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"></a><h2 id="Notes" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">Notes<a class="headerlink" title="Permalink to this headline" href="#Notes" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">笔记 ¶</font></font></font></h2><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><a name="pkgconfig-text" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"></a>Functions described here are available as a shared
  library, which can be compiled against and linked to with the
  <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">libsystemd</code>&nbsp;<a href="http://linux.die.net/man/1/pkg-config" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="citerefentry" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="refentrytitle" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">pkg-config</span>(1)</span></a>
  file.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处描述的函数可作为共享库使用，可以与 <code class="constant" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">libsystemd</code> pkg-config(1) 文件一起编译并链接。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><a name="getenv" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"></a>The code described here uses
<a href="https://man7.org/linux/man-pages/man3/getenv.3.html" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="citerefentry" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="refentrytitle" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">getenv</span>(3)</span></a>,
which is declared to be not multi-thread-safe. This means that the code calling the functions described
here must not call
<a href="https://man7.org/linux/man-pages/man3/setenv.3.html" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="citerefentry" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="refentrytitle" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">setenv</span>(3)</span></a>
from a parallel thread. It is recommended to only do calls to <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">setenv()</code>
from an early phase of the program when no other threads have been started.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处描述的代码使用了 getenv(3)，该函数被声明为不支持多线程安全。这意味着调用此处描述的函数的代码不能从并行线程中调用 setenv(3)。建议仅在程序的早期阶段（没有启动其他线程时）调用 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">setenv()</code> 。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><a name="id-1.10" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"></a><h2 id="History" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">History<a class="headerlink" title="Permalink to this headline" href="#History" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">历史 ¶</font></font></font></h2><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_free()</code>,
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set()</code>,
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_setf()</code>,
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_const()</code>,
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errno()</code>,
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errnof()</code>,
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_get_errno()</code>,
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_copy()</code>,
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_is_set()</code>, and
    <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_has_name()</code> were added in version 209.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_free()</code> ， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set()</code> ， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_setf()</code> ， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_const()</code> ， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errno()</code> ， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errnof()</code> ， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_get_errno()</code> ， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_copy()</code> ， <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_is_set()</code> ，和 <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_has_name()</code> 在版本 209 中添加。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errnofv()</code> was added in version 223.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_set_errnofv()</code> 在版本 223 中添加。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_move()</code> was added in version 240.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_move()</code> 在版本 240 中添加。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_has_names_sentinel()</code> was added in version 247.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_has_names_sentinel()</code> 已在版本 247 中添加。</font></font></font></p><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_setfv()</code> was added in version 252.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_setfv()</code> 已在版本 252 中添加。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><a name="id-1.11" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"></a><h2 id="See Also" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">另请参阅 ¶</font></font></font></h2><p data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c" data-immersive-translate-paragraph="1">
      <a href="systemd.html#" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="citerefentry" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="refentrytitle" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">systemd</span>(1)</span></a>,
      <a href="sd-bus.html#" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="citerefentry" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="refentrytitle" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd-bus</span>(3)</span></a>,
      <a href="sd-bus-errors.html#" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="citerefentry" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="refentrytitle" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd-bus-errors</span>(3)</span></a>,
      <a href="sd_bus_error_add_map.html#" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="citerefentry" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="refentrytitle" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">sd_bus_error_add_map</span>(3)</span></a>,
      <a href="https://man7.org/linux/man-pages/man3/errno.3.html" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="citerefentry" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="refentrytitle" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">errno</span>(3)</span></a>,
      <a href="https://man7.org/linux/man-pages/man3/strerror_r.3.html" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="citerefentry" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c"><span class="refentrytitle" data-immersive-translate-walked="19e191b0-f958-4faa-954e-e99a76d20a5c">strerror_r</span>(3)</span></a>
    </p></div></div>
</body></html>