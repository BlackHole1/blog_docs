<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>pam_systemd_home</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><a name="pam_systemd_home" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"></a><div class="titlepage" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"></div><div class="refnamediv" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><h2 data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1">pam_systemd_home — Authenticate users and mount home directories via <code class="filename" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">systemd-homed.service</code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">pam_systemd_home — 通过 <code class="filename" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">systemd-homed.service</code> 对用户进行身份验证并挂载主目录</font></font></font>
    </p></div><div class="refsynopsisdiv" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><h2 data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">简介</font></font></font></h2><p data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><code class="filename" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">pam_systemd_home.so</code></p></div><div class="refsect1" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><a name="id-1.5" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"></a><h2 id="Description" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1"><span class="command" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><strong data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">pam_systemd_home</strong></span> ensures that home directories managed by
    <a href="systemd-homed.service.html#" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><span class="citerefentry" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><span class="refentrytitle" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">systemd-homed.service</span>(8)</span></a>
    are automatically activated (mounted) on user login, and are deactivated (unmounted) when the last
    session of the user ends. For such users, it also provides authentication (when per-user disk encryption
    is used, the disk encryption key is derived from the authentication credential supplied at login time),
    account management (the <a class="ulink" href="https://systemd.io/USER_RECORD/" target="_top" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">JSON user record</a> embedded in
    the home store contains account details), and implements the updating of the encryption password (which
    is also used for user authentication).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">pam_systemd_home 确保由 systemd-homed.service(8) 管理的主目录在用户登录时自动激活（挂载），并在用户最后一个会话结束时停用（卸载）。对于这样的用户，它还提供身份验证（当使用每用户磁盘加密时，磁盘加密密钥是从登录时提供的身份验证凭据派生的），帐户管理（嵌入在主存储中的 JSON 用户记录包含帐户详细信息），并实现加密密码的更新（该密码也用于用户身份验证）。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><a name="id-1.6" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"></a><h2 id="Options" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1">Options<a class="headerlink" title="Permalink to this headline" href="#Options" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">选项</font></font></font></h2><p data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1">The following options are understood:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以下选项已被理解:</font></font></font></p><div class="variablelist" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><dl class="variablelist" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><dt id="suspend=" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><code class="varname" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">suspend=</code></span><a class="headerlink" title="Permalink to this term" href="#suspend=" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">¶</a></dt><dd data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><p data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1">Takes a boolean argument. If true, the home directory of the user will be suspended
        automatically during system suspend; if false it will remain active. Automatic suspending of the home
        directory improves security substantially as secret key material is automatically removed from memory
        before the system is put to sleep and must be re-acquired (through user re-authentication) when
        coming back from suspend. It is recommended to set this parameter for all PAM applications that have
        support for automatically re-authenticating via PAM on system resume. If multiple sessions of the
        same user are open in parallel the user's home directory will be left unsuspended on system suspend
        as long as at least one of the sessions does not set this parameter to on. Defaults to
        off.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受一个布尔参数。如果为 true，则在系统暂停期间用户的主目录将自动暂停；如果为 false，则保持活动状态。自动暂停主目录显著提高安全性，因为在系统进入睡眠状态之前，秘钥材料会自动从内存中删除，并且在从暂停状态恢复时必须重新获取（通过用户重新验证）。建议为所有支持通过 PAM 在系统恢复时自动重新验证的 PAM 应用程序设置此参数。如果同一用户的多个会话并行打开，则只要至少有一个会话未将此参数设置为 on，用户的主目录将在系统暂停期间保持未暂停状态。默认为 off。</font></font></font></p><p data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1">Note that TTY logins generally do not support re-authentication on system resume.
        Re-authentication on system resume is primarily a concept implementable in graphical environments, in
        the form of lock screens brought up automatically when the system goes to sleep. This means that if a
        user concurrently uses graphical login sessions that implement the required re-authentication
        mechanism and console logins that do not, the home directory is not locked during suspend, due to the
        logic explained above. That said, it is possible to set this field for TTY logins too, ignoring the
        fact that TTY logins actually don't support the re-authentication mechanism. In that case the TTY
        sessions will appear hung until the user logs in on another virtual terminal (regardless if via
        another TTY session or graphically) which will resume the home directory and unblock the original TTY
        session. (Do note that lack of screen locking on TTY sessions means even though the TTY session
        appears hung, keypresses can still be queued into it, and the existing screen contents be read
        without re-authentication; this limitation is unrelated to the home directory management
        <span class="command" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><strong data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">pam_systemd_home</strong></span> and <code class="filename" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">systemd-homed.service</code> implement.)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，TTY 登录通常不支持系统恢复时的重新认证。系统恢复时的重新认证主要是一个可以在图形环境中实现的概念，以锁定屏幕的形式自动弹出，当系统进入睡眠状态时。这意味着，如果用户同时使用实现所需重新认证机制的图形登录会话和不支持该机制的控制台登录，由于上述逻辑的解释，主目录在挂起期间不会被锁定。也就是说，也可以为 TTY 登录设置此字段，忽略 TTY 登录实际上不支持重新认证机制的事实。在这种情况下，TTY 会话将显示为挂起状态，直到用户在另一个虚拟终端上登录（无论是通过另一个 TTY 会话还是图形方式），这将恢复主目录并解锁原始 TTY 会话。（请注意，TTY 会话缺乏屏幕锁定意味着即使 TTY 会话显示为挂起状态，按键仍然可以排队进入其中，并且可以在不重新认证的情况下读取现有屏幕内容；这种限制与主目录管理 pam_systemd_home 和 <code class="filename" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">systemd-homed.service</code> 的实现无关。）</font></font></font></p><p data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1">Turning this option on by default is highly recommended for all sessions, but only if the
        service managing these sessions correctly implements the aforementioned re-authentication. Note that
        the re-authentication must take place from a component running outside of the user's context, so that
        it does not require access to the user's home directory for operation. Traditionally, most desktop
        environments do not implement screen locking this way, and need to be updated
        accordingly.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将此选项默认打开对于所有会话都是强烈推荐的，但前提是管理这些会话的服务正确实现了前述的重新认证。请注意，重新认证必须来自于在用户上下文之外运行的组件，这样它就不需要访问用户的主目录来进行操作。传统上，大多数桌面环境并不以这种方式实现屏幕锁定，因此需要相应更新。</font></font></font></p><p data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1">This setting may also be controlled via the <code class="varname" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">$SYSTEMD_HOME_SUSPEND</code>
        environment variable (see below), which <span class="command" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><strong data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">pam_systemd_home</strong></span> reads during initialization and sets
        for sessions. If both the environment variable is set and the module parameter specified the latter
        takes precedence.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">该设置也可以通过 <code class="varname" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">$SYSTEMD_HOME_SUSPEND</code> 环境变量（见下文）进行控制，pam_systemd_home 在初始化期间读取并为会话设置该环境变量。如果环境变量和模块参数都设置了，后者优先。</font></font></font></p><p data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1"><a name="v245" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"></a>Added in version 245.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 245 中添加。</font></font></font></p></dd><dt id="debug=" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><code class="varname" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">debug</code>[<span class="optional" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">=</span>]</span><a class="headerlink" title="Permalink to this term" href="#debug=" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">¶</a></dt><dd data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><p data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1">Takes an optional boolean argument. If yes or without the argument, the module will log
        debugging information as it operates.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受一个可选的布尔参数。如果是 yes 或者没有参数，模块将在操作时记录调试信息。</font></font></font></p><p data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1"><a name="v245" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"></a>Added in version 245.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 245 中添加。</font></font></font></p></dd></dl></div></div><div class="refsect1" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><a name="id-1.7" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"></a><h2 id="Module Types Provided" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1">Module Types Provided<a class="headerlink" title="Permalink to this headline" href="#Module%20Types%20Provided" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">模块提供的类型</font></font></font></h2><p data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1">The module implements all four PAM operations: <code class="option" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">auth</code> (to allow authentication using
    the encrypted data), <code class="option" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">account</code> (because users with
    <code class="filename" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">systemd-homed.service</code> user accounts are described in a <a class="ulink" href="https://systemd.io/USER_RECORD/" target="_top" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">JSON user record</a> and may be configured in more detail than
    in the traditional Linux user database), <code class="option" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">session</code> (because user sessions must be tracked
    in order to implement automatic release when the last session of the user is gone),
    <code class="option" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">password</code> (to change the encryption password — also used for user authentication —
    through PAM).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">该模块实现了所有四个 PAM 操作： <code class="option" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">auth</code> （允许使用加密数据进行身份验证）， <code class="option" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">account</code> （因为使用 <code class="filename" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">systemd-homed.service</code> 用户帐户的用户在 JSON 用户记录中描述，并且可以进行比传统的 Linux 用户数据库更详细的配置）， <code class="option" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">session</code> （因为必须跟踪用户会话以便在用户的最后一个会话消失时实现自动释放）， <code class="option" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">password</code> （通过 PAM 更改加密密码 — 也用于用户身份验证）。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><a name="id-1.8" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"></a><h2 id="Environment" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1">Environment<a class="headerlink" title="Permalink to this headline" href="#Environment" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">环境 ¶</font></font></font></h2><p data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1">The following environment variables are initialized by the module and available to the processes of the
    user's session:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">该模块初始化并提供给用户会话进程使用的以下环境变量：</font></font></font></p><div class="variablelist" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><dl class="variablelist" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><dt id="$SYSTEMD_HOME=1" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><code class="varname" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">$SYSTEMD_HOME=1</code></span><a class="headerlink" title="Permalink to this term" href="#%24SYSTEMD_HOME=1" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">¶</a></dt><dd data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><p data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1">Indicates that the user's home directory is managed by <code class="filename" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">systemd-homed.service</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">表示用户的主目录由 <code class="filename" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">systemd-homed.service</code> 管理。</font></font></font></p><p data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1"><a name="v245" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"></a>Added in version 245.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 245 中添加。</font></font></font></p></dd><dt id="$SYSTEMD_HOME_SUSPEND=" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><code class="varname" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">$SYSTEMD_HOME_SUSPEND=</code></span><a class="headerlink" title="Permalink to this term" href="#%24SYSTEMD_HOME_SUSPEND=" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">¶</a></dt><dd data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><p data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1">Indicates whether the session has been registered with the suspend mechanism enabled
        or disabled (see above). The variable's value is either "<code class="literal" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">0</code>" or
        "<code class="literal" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">1</code>". Note that the module both reads the variable when initializing, and sets it for
        sessions.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">表示会话是否已注册并启用或禁用挂起机制（请参阅上文）。该变量的值为 " <code class="literal" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">0</code> " 或 " <code class="literal" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">1</code> "。请注意，该模块在初始化时读取变量，并为会话设置变量。</font></font></font></p><p data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1"><a name="v246" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"></a>Added in version 246.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 246 中。</font></font></font></p></dd></dl></div></div><div class="refsect1" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><a name="id-1.9" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"></a><h2 id="Example" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1">Example<a class="headerlink" title="Permalink to this headline" href="#Example" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 ¶</font></font></font></h2><p data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1">Here's an example PAM configuration fragment that permits users managed by
    <code class="filename" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">systemd-homed.service</code> to log in:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这是一个示例 PAM 配置片段，允许由 <code class="filename" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">systemd-homed.service</code> 管理的用户登录:</font></font></font></p><pre class="programlisting">#%PAM-1.0
auth      sufficient pam_unix.so
<span class="command"><strong>-auth     sufficient pam_systemd_home.so</strong></span>
auth      required   pam_deny.so

account   required   pam_nologin.so
<span class="command"><strong>-account  sufficient pam_systemd_home.so</strong></span>
account   sufficient pam_unix.so
account   required   pam_permit.so

<span class="command"><strong>-password sufficient pam_systemd_home.so</strong></span>
password  sufficient pam_unix.so sha512 shadow try_first_pass use_authtok
password  required   pam_deny.so

-session  optional   pam_keyinit.so revoke
-session  optional   pam_loginuid.so
<span class="command"><strong>-session  optional   pam_systemd_home.so</strong></span>
-session  optional   pam_systemd.so
session   required   pam_unix.so</pre></div><div class="refsect1" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><a name="id-1.10" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"></a><h2 id="See Also" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">参见 ¶</font></font></font></h2><p data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb" data-immersive-translate-paragraph="1">
      <a href="systemd.html#" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><span class="citerefentry" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><span class="refentrytitle" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">systemd</span>(1)</span></a>,
      <a href="systemd-homed.service.html#" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><span class="citerefentry" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><span class="refentrytitle" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">systemd-homed.service</span>(8)</span></a>,
      <a href="homed.conf.html#" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><span class="citerefentry" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><span class="refentrytitle" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">homed.conf</span>(5)</span></a>,
      <a href="homectl.html#" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><span class="citerefentry" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><span class="refentrytitle" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">homectl</span>(1)</span></a>,
      <a href="pam_systemd.html#" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><span class="citerefentry" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><span class="refentrytitle" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">pam_systemd</span>(8)</span></a>,
      <a href="https://man7.org/linux/man-pages/man5/pam.conf.5.html" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><span class="citerefentry" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><span class="refentrytitle" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">pam.conf</span>(5)</span></a>,
      <a href="https://man7.org/linux/man-pages/man5/pam.d.5.html" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><span class="citerefentry" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><span class="refentrytitle" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">pam.d</span>(5)</span></a>,
      <a href="https://man7.org/linux/man-pages/man8/pam.8.html" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><span class="citerefentry" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb"><span class="refentrytitle" data-immersive-translate-walked="27c36a1f-4ebc-4a3f-87a2-f91f78744bfb">pam</span>(8)</span></a>
    </p></div></div>
</body></html>