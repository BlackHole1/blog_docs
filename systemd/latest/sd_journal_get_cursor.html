<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>sd_journal_get_cursor</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><a name="sd_journal_get_cursor" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"></a><div class="titlepage" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"></div><div class="refnamediv" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><h2 data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55" data-immersive-translate-paragraph="1">sd_journal_get_cursor, sd_journal_test_cursor — Get cursor string for or test cursor string against the current journal entry<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">sd_journal_get_cursor, sd_journal_test_cursor — 获取当前日志条目的游标字符串或测试游标字符串是否与当前日志条目匹配</font></font></font></p></div><div class="refsynopsisdiv" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><h2 data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">简介</font></font></font></h2><div class="funcsynopsis"><pre class="funcsynopsisinfo">#include &lt;systemd/sd-journal.h&gt;</pre><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_journal_get_cursor</b>(</code></td><td>sd_journal *<var class="pdparam">j</var>, </td></tr><tr><td>&nbsp;</td><td>char **<var class="pdparam">cursor</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_journal_test_cursor</b>(</code></td><td>sd_journal *<var class="pdparam">j</var>, </td></tr><tr><td>&nbsp;</td><td>const char *<var class="pdparam">cursor</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div></div></div><div class="refsect1" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><a name="id-1.5" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"></a><h2 id="Description" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">sd_journal_get_cursor()</code> returns a
    cursor string for the current journal entry. A cursor is a
    serialization of the current journal position formatted as text.
    The string only contains printable characters and can be passed
    around in text form. The cursor identifies a journal entry
    globally and in a stable way and may be used to later seek to it
    via
    <a href="sd_journal_seek_cursor.html#" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><span class="citerefentry" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><span class="refentrytitle" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">sd_journal_seek_cursor</span>(3)</span></a>.
    The cursor string should be considered opaque and not be parsed by
    clients. Seeking to a cursor position without the specific entry
    being available locally will seek to the next closest (in terms of
    time) available entry. The call takes two arguments: a journal
    context object and a pointer to a string pointer where the cursor
    string will be placed. The string is allocated via libc
    <a href="https://man7.org/linux/man-pages/man3/malloc.3.html" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><span class="citerefentry" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><span class="refentrytitle" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">malloc</span>(3)</span></a>
    and should be freed after use with
    <a href="https://man7.org/linux/man-pages/man3/free.3.html" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><span class="citerefentry" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><span class="refentrytitle" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">free</span>(3)</span></a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">sd_journal_get_cursor()</code> 返回当前日志条目的游标字符串。游标是当前日志位置的序列化，格式化为文本。该字符串仅包含可打印字符，并且可以以文本形式传递。游标以全局且稳定的方式标识日志条目，并且可以稍后通过 sd_journal_seek_cursor(3) 来寻找它。游标字符串应被视为不透明，并且不应由客户端解析。在没有特定条目在本地可用的情况下寻找游标位置将会寻找到下一个最接近（按时间顺序）的可用条目。该调用接受两个参数：一个日志上下文对象和一个指向字符串指针的指针，游标字符串将被放置在其中。该字符串通过 libc malloc(3) 进行分配，应在使用后使用 free(3) 进行释放。</font></font></font></p><p data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55" data-immersive-translate-paragraph="1">Note that <code class="function" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">sd_journal_get_cursor()</code> will
    not work before
    <a href="sd_journal_next.html#" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><span class="citerefentry" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><span class="refentrytitle" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">sd_journal_next</span>(3)</span></a>
    (or related call) has been called at least once, in order to
    position the read pointer at a valid entry.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，在至少调用一次 sd_journal_next(3)（或相关调用）将读取指针定位到有效条目之前， <code class="function" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">sd_journal_get_cursor()</code> 将不起作用。</font></font></font></p><p data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">sd_journal_test_cursor()</code>
    may be used to check whether the current position in
    the journal matches the specified cursor. This is
    useful since cursor strings do not uniquely identify
    an entry: the same entry might be referred to by
    multiple different cursor strings, and hence string
    comparing cursors is not possible. Use this call to
    verify after an invocation of
    <a href="sd_journal_seek_cursor.html#" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><span class="citerefentry" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><span class="refentrytitle" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">sd_journal_seek_cursor</span>(3)</span></a>
    whether the entry being sought to was actually found
    in the journal or the next closest entry was used
    instead.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">sd_journal_test_cursor()</code> 可用于检查日志中的当前位置是否与指定的游标匹配。这很有用，因为游标字符串不能唯一标识一个条目：同一条目可能被多个不同的游标字符串引用，因此无法进行字符串比较游标。在调用 sd_journal_seek_cursor(3) 后使用此调用来验证正在查找的条目是否实际在日志中找到，或者是否使用了下一个最接近的条目。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><a name="id-1.6" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"></a><h2 id="Return Value" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55" data-immersive-translate-paragraph="1">Return Value<a class="headerlink" title="Permalink to this headline" href="#Return%20Value" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">返回值 ¶</font></font></font></h2><p data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">sd_journal_get_cursor()</code> returns 0 on
    success or a negative errno-style error code.
    <code class="function" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">sd_journal_test_cursor()</code> returns positive if
    the current entry matches the specified cursor, 0 if it does not
    match the specified cursor or a negative errno-style error code on
    failure.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">sd_journal_get_cursor()</code> 成功时返回 0，或者返回负的 errno 风格错误代码。 <code class="function" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">sd_journal_test_cursor()</code> 如果当前条目与指定的游标匹配，则返回正值，如果不匹配指定的游标则返回 0，失败时返回负的 errno 风格错误代码。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><a name="id-1.7" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"></a><h2 id="Notes" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55" data-immersive-translate-paragraph="1">Notes<a class="headerlink" title="Permalink to this headline" href="#Notes" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意事项 ¶</font></font></font></h2><p data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55" data-immersive-translate-paragraph="1"><a name="strict" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"></a>All functions listed here are thread-agnostic and only a single specific thread may operate on a
given object during its entire lifetime. It's safe to allocate multiple independent objects and use each from a
specific thread in parallel. However, it's not safe to allocate such an object in one thread, and operate or free it
from any other, even if locking is used to ensure these threads don't operate on it at the very same time.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处列出的所有函数都与线程无关，只能有一个特定的线程在整个生命周期内操作给定对象。安全地分配多个独立对象，并在并行线程中使用每个对象。但是，在一个线程中分配这样的对象，然后在任何其他线程中操作或释放它是不安全的，即使使用锁定来确保这些线程不会同时对其进行操作。</font></font></font></p><p data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55" data-immersive-translate-paragraph="1"><a name="pkgconfig-text" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"></a>Functions described here are available as a shared
  library, which can be compiled against and linked to with the
  <code class="constant" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">libsystemd</code>&nbsp;<a href="http://linux.die.net/man/1/pkg-config" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><span class="citerefentry" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><span class="refentrytitle" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">pkg-config</span>(1)</span></a>
  file.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处描述的函数可作为共享库使用，可以通过 <code class="constant" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">libsystemd</code> pkg-config(1) 文件进行编译和链接。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><a name="id-1.8" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"></a><h2 id="History" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55" data-immersive-translate-paragraph="1">History<a class="headerlink" title="Permalink to this headline" href="#History" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">历史 ¶</font></font></font></h2><p data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">sd_journal_get_cursor()</code> was added in version 187.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">sd_journal_get_cursor()</code> 在版本 187 中添加。</font></font></font></p><p data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">sd_journal_test_cursor()</code> was added in version 195.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">sd_journal_test_cursor()</code> 在版本 195 中添加。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><a name="id-1.9" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"></a><h2 id="See Also" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55" data-immersive-translate-paragraph="1">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">参见 ¶</font></font></font></h2><p data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55" data-immersive-translate-paragraph="1">
      <a href="systemd.html#" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><span class="citerefentry" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><span class="refentrytitle" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">systemd</span>(1)</span></a>,
      <a href="sd-journal.html#" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><span class="citerefentry" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><span class="refentrytitle" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">sd-journal</span>(3)</span></a>,
      <a href="sd_journal_open.html#" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><span class="citerefentry" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><span class="refentrytitle" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">sd_journal_open</span>(3)</span></a>,
      <a href="sd_journal_seek_cursor.html#" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><span class="citerefentry" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55"><span class="refentrytitle" data-immersive-translate-walked="d08fd015-21ab-4c71-adbf-3e1c4e8f3e55">sd_journal_seek_cursor</span>(3)</span></a>
    </p></div></div>
</body></html>