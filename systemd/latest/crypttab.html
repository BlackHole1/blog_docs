<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>crypttab</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><a name="crypttab" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a><div class="titlepage" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></div><div class="refnamediv" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><h2 data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">crypttab — Configuration for encrypted block devices<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">crypttab — 针对加密块设备的配置</font></font></font></p></div><div class="refsynopsisdiv" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><h2 data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">简介</font></font></font></h2><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/etc/crypttab</code></p></div><div class="refsect1" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><a name="id-1.5" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a><h2 id="Description" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">The <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/etc/crypttab</code> file describes
    encrypted block devices that are set up during system boot.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/etc/crypttab</code> 文件描述了在系统引导过程中设置的加密块设备。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Empty lines and lines starting with the "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">#</code>"
    character are ignored. Each of the remaining lines describes one
    encrypted block device. Fields are delimited by white space.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">空行和以 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">#</code> " 字符开头的行将被忽略。剩余的每行描述一个加密块设备。字段由空格分隔。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Each line is in the form<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">每行的形式如下</font></font></font></p><pre class="programlisting"><em class="replaceable"><code>volume-name</code></em> <em class="replaceable"><code>encrypted-device</code></em> <em class="replaceable"><code>key-file</code></em> <em class="replaceable"><code>options</code></em></pre><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">
    The first two fields are mandatory, the remaining two are
    optional.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">前两个字段是必填的，其余两个是可选的。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Setting up encrypted block devices using this file supports four encryption modes: LUKS, TrueCrypt,
    BitLocker and plain. See <a href="http://linux.die.net/man/8/cryptsetup" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cryptsetup</span>(8)</span></a> for
    more information about each mode. When no mode is specified in the options field and the block device
    contains a LUKS signature, it is opened as a LUKS device; otherwise, it is assumed to be in raw dm-crypt
    (plain mode) format.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用此文件设置加密块设备支持四种加密模式：LUKS、TrueCrypt、BitLocker 和 plain。有关每种模式的更多信息，请参阅 cryptsetup(8)。当在选项字段中未指定模式且块设备包含 LUKS 签名时，它将被打开为 LUKS 设备；否则，它被假定为处于原始 dm-crypt（plain 模式）格式中。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">The four fields of <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/etc/crypttab</code> are defined as follows:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/etc/crypttab</code> 的四个字段定义如下：</font></font></font></p><div class="orderedlist" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><ol class="orderedlist" type="1" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><li class="listitem" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">The first field contains the name of the resulting volume with decrypted data; its
      block device is set up below <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/dev/mapper/</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">第一个字段包含解密数据的结果卷的名称；其块设备设置在下面 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/dev/mapper/</code> 。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">The second field contains a path to the underlying block
      device or file, or a specification of a block device via
      "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">UUID=</code>" followed by the UUID.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">第二个字段包含底层块设备或文件的路径，或通过 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">UUID=</code> " 后跟 UUID 指定块设备。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">The third field specifies an absolute path to a file with the encryption
      key. Optionally, the path may be followed by "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">:</code>" and an
      <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/etc/fstab</code> style device specification (e.g. starting with
      "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">LABEL=</code>" or similar); in which case the path is taken relative to the specified
      device's file system root. If the field is not present or is "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">none</code>" or
      "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">-</code>", a key file named after the volume to unlock (i.e. the first column of the line),
      suffixed with <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">.key</code> is automatically loaded from the
      <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/etc/cryptsetup-keys.d/</code> and <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/run/cryptsetup-keys.d/</code>
      directories, if present. Otherwise, the password has to be manually entered during system boot. For
      swap encryption, <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/dev/urandom</code> may be used as key file, resulting in a randomized
      key.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">第三个字段指定带有加密密钥的文件的绝对路径。 可选地，路径可以后跟 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">:</code> " 和 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/etc/fstab</code> 样式的设备规范（例如以 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">LABEL=</code> " 开头或类似的）；在这种情况下，路径相对于指定设备的文件系统根目录。 如果字段不存在或为 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">none</code> " 或 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">-</code> "，则会自动从 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/etc/cryptsetup-keys.d/</code> 和 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/run/cryptsetup-keys.d/</code> 目录加载以解锁卷命名的密钥文件（即行的第一列），后缀为 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">.key</code> 。 否则，在系统引导期间必须手动输入密码。 对于交换加密， <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/dev/urandom</code> 可以用作密钥文件，导致随机化密钥。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">If the specified key file path refers to an <code class="constant" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">AF_UNIX</code> stream socket in the
      file system, the key is acquired by connecting to the socket and reading it from the connection. This
      allows the implementation of a service to provide key information dynamically, at the moment when it is
      needed. For details see below.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果指定的密钥文件路径引用文件系统中的套接字流，则通过连接到套接字并从连接中读取密钥来获取密钥。这允许服务的实现在需要时动态提供密钥信息。有关详细信息，请参见下文。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">The fourth field, if present, is a comma-delimited list of options. The supported
      options are listed below.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">第四个字段（如果存在）是一个逗号分隔的选项列表。支持的选项如下所示。</font></font></font></p></li></ol></div></div><div class="refsect1" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><a name="id-1.6" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a><h2 id="Key Acquisition" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Key Acquisition<a class="headerlink" title="Permalink to this headline" href="#Key%20Acquisition" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">密钥获取</font></font></font></h2><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Six different mechanisms for acquiring the decryption key or passphrase unlocking the encrypted
    volume are supported. Specifically:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">支持六种不同的机制来获取解密密钥或密码破解加密卷。具体来说：</font></font></font></p><div class="orderedlist" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><ol class="orderedlist" type="1" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><li class="listitem" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Most prominently, the user may be queried interactively during volume activation
      (i.e. typically at boot), asking them to type in the necessary passphrases.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">最显著的是，在卷激活期间（即通常在启动时），用户可能会被交互式询问，要求他们输入必要的密码。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">The (unencrypted) key may be read from a file on disk, possibly on removable media. The third field
      of each line encodes the location, for details see above.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">（未加密的）密钥可以从磁盘上的文件中读取，可能在可移动介质上。每行的第三个字段编码了位置，详情请参见上文。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">The (unencrypted) key may be requested from another service, by specifying an
      <code class="constant" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">AF_UNIX</code> file system socket in place of a key file in the third field. For details
      see above and below.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">（未加密的）密钥可以通过指定第三字段中的文件系统套接字而不是密钥文件从另一个服务请求。有关详细信息，请参见上文和下文。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">The key may be acquired via a PKCS#11 compatible hardware security token or
      smartcard. In this case an encrypted key is stored on disk/removable media, acquired via
      <code class="constant" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">AF_UNIX</code>, or stored in the LUKS2 JSON token metadata header. The encrypted key is
      then decrypted by the PKCS#11 token with an RSA key stored on it, and then used to unlock the encrypted
      volume. Use the <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">pkcs11-uri=</code> option described below to use this mechanism.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">密钥可以通过 PKCS#11 兼容的硬件安全令牌或智能卡获取。在这种情况下，加密密钥存储在磁盘/可移动介质上，通过 <code class="constant" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">AF_UNIX</code> 获取，或存储在 LUKS2 JSON 令牌元数据头中。然后，使用存储在其中的 RSA 密钥的 PKCS#11 令牌解密加密密钥，然后用于解锁加密卷。使用下面描述的 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">pkcs11-uri=</code> 选项来使用此机制。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Similarly, the key may be acquired via a FIDO2 compatible hardware security token
      (which must implement the "hmac-secret" extension). In this case a key generated randomly during
      enrollment is stored on disk/removable media, acquired via <code class="constant" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">AF_UNIX</code>, or stored in
      the LUKS2 JSON token metadata header. The random key is hashed via a keyed hash function (HMAC) on the
      FIDO2 token, using a secret key stored on the token that never leaves it. The resulting hash value is
      then used as key to unlock the encrypted volume. Use the <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">fido2-device=</code> option
      described below to use this mechanism.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">同样，密钥可以通过 FIDO2 兼容的硬件安全令牌（必须实现“hmac-secret”扩展）获取。在这种情况下，在注册期间随机生成的密钥存储在磁盘/可移动介质上，通过 <code class="constant" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">AF_UNIX</code> 获取，或存储在 LUKS2 JSON 令牌元数据头中。然后，通过 FIDO2 令牌上的秘密密钥使用键控哈希函数（HMAC）对随机密钥进行哈希处理，该秘密密钥存储在令牌上，永远不会离开令牌。然后，将生成的哈希值用作密钥来解锁加密卷。使用下面描述的 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">fido2-device=</code> 选项来使用此机制。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Similarly, the key may be acquired via a TPM2 security chip. In this case a (during
      enrollment) randomly generated key — encrypted by an asymmetric key derived from the TPM2 chip's seed
      key — is stored on disk/removable media, acquired via <code class="constant" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">AF_UNIX</code>, or stored in the
      LUKS2 JSON token metadata header. Use the <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tpm2-device=</code> option described below to use
      this mechanism.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">同样，密钥可以通过 TPM2 安全芯片获取。在这种情况下，一个（在注册期间）随机生成的密钥 — 由从 TPM2 芯片的种子密钥派生的非对称密钥加密 — 被存储在磁盘/可移动介质上，通过 <code class="constant" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">AF_UNIX</code> 获取，或存储在 LUKS2 JSON 令牌元数据头中。使用下面描述的 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tpm2-device=</code> 选项来使用这种机制。</font></font></font></p></li></ol></div><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">For the latter five mechanisms the source for the key material used for unlocking the volume is
    primarily configured in the third field of each <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/etc/crypttab</code> line, but may also
    configured in <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/etc/cryptsetup-keys.d/</code> and
    <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/run/cryptsetup-keys.d/</code> (see above) or in the LUKS2 JSON token header (in case of
    the latter three). Use the
    <a href="systemd-cryptenroll.html#" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd-cryptenroll</span>(1)</span></a>
    tool to enroll PKCS#11, FIDO2 and TPM2 devices in LUKS2 volumes.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">对于后五种机制，用于解锁卷的密钥材料的来源主要配置在每个 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/etc/crypttab</code> 行的第三个字段中，但也可以配置在 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/etc/cryptsetup-keys.d/</code> 和 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/run/cryptsetup-keys.d/</code> （见上文）或在 LUKS2 JSON 令牌头中（对于后三种情况）。使用 systemd-cryptenroll(1) 工具在 LUKS2 卷中注册 PKCS#11、FIDO2 和 TPM2 设备。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><a name="id-1.7" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a><h2 id="Supported Options" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Supported Options<a class="headerlink" title="Permalink to this headline" href="#Supported%20Options" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">支持的选项 ¶</font></font></font></h2><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">The following options may be used in the fourth field of each line:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以下选项可用于每行的第四个字段中：</font></font></font></p><div class="variablelist" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><dl class="variablelist" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><dt id="cipher=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cipher=</code></span><a class="headerlink" title="Permalink to this term" href="#cipher=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Specifies the cipher to use. See <a href="http://linux.die.net/man/8/cryptsetup" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cryptsetup</span>(8)</span></a>
        for possible values and the default value of this option. A cipher with unpredictable IV values, such
        as "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">aes-cbc-essiv:sha256</code>", is recommended. Embedded commas in the cipher
        specification need to be escaped by preceding them with a backslash, see example below.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定要使用的密码。有关可能的值和此选项的默认值，请参阅 cryptsetup(8)。建议使用具有不可预测 IV 值的密码，例如 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">aes-cbc-essiv:sha256</code> "。密码规范中的嵌入逗号需要通过在其前面加上反斜杠进行转义，参见下面的示例。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v186" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 186.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 186 中。</font></font></font></p></dd><dt id="discard" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">discard</code></span><a class="headerlink" title="Permalink to this term" href="#discard" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Allow discard requests to be passed through the encrypted block
        device. This improves performance on SSD storage but has security implications.
        <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">允许通过加密块设备传递丢弃请求。这可以提高 SSD 存储的性能，但会带来安全性问题。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v207" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 207.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 207 中。</font></font></font></p></dd><dt id="hash=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">hash=</code></span><a class="headerlink" title="Permalink to this term" href="#hash=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Specifies the hash to use for password
        hashing. See
        <a href="http://linux.die.net/man/8/cryptsetup" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cryptsetup</span>(8)</span></a>
        for possible values and the default value of this
        option.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定用于密码哈希的哈希值。有关可能的值和此选项的默认值，请参阅 cryptsetup(8)。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v186" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 186.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 186 中。</font></font></font></p></dd><dt id="header=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">header=</code></span><a class="headerlink" title="Permalink to this term" href="#header=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Use a detached (separated) metadata device or file
        where the header containing the master key(s) is stored. This
        option is only relevant for LUKS and TrueCrypt/VeraCrypt devices. See
        <a href="http://linux.die.net/man/8/cryptsetup" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cryptsetup</span>(8)</span></a>
        for possible values and the default value of this option.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用一个分离的元数据设备或文件，其中包含存储主密钥的头部。此选项仅适用于 LUKS 和 TrueCrypt/VeraCrypt 设备。有关可能的值和此选项的默认值，请参阅 cryptsetup(8)。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Optionally, the path may be followed by "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">:</code>" and an
        <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/etc/fstab</code> device specification (e.g. starting with "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">UUID=</code>" or
        similar); in which case, the path is relative to the device file system root. The device gets mounted
        automatically for LUKS device activation duration only.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可选地，路径后面可以跟着“ <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">:</code> ”和一个 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/etc/fstab</code> 设备规范（例如以“ <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">UUID=</code> ”开头或类似的）；在这种情况下，路径是相对于设备文件系统根目录的。设备仅在 LUKS 设备激活期间自动挂载。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v219" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 219.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 219 中。</font></font></font></p></dd><dt id="keyfile-offset=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">keyfile-offset=</code></span><a class="headerlink" title="Permalink to this term" href="#keyfile-offset=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Specifies the number of bytes to skip at the
        start of the key file. See
        <a href="http://linux.die.net/man/8/cryptsetup" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cryptsetup</span>(8)</span></a>
        for possible values and the default value of this
        option.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定在密钥文件开头跳过的字节数。请参阅 cryptsetup(8) 以获取此选项的可能值和默认值。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v187" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 187.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 187 中添加。</font></font></font></p></dd><dt id="keyfile-size=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">keyfile-size=</code></span><a class="headerlink" title="Permalink to this term" href="#keyfile-size=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Specifies the maximum number of bytes to read
        from the key file. See
        <a href="http://linux.die.net/man/8/cryptsetup" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cryptsetup</span>(8)</span></a>
        for possible values and the default value of this option. This
        option is ignored in plain encryption mode, as the key file
        size is then given by the key size.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定从密钥文件中读取的最大字节数。有关此选项的可能值和默认值，请参阅 cryptsetup(8)。在明文加密模式下，此选项将被忽略，因为此时密钥文件大小由密钥大小确定。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v188" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 188.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 188 中添加。</font></font></font></p></dd><dt id="keyfile-erase" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">keyfile-erase</code></span><a class="headerlink" title="Permalink to this term" href="#keyfile-erase" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">If enabled, the specified key file is erased after the volume is activated or when
        activation fails. This is in particular useful when the key file is only acquired transiently before
        activation (e.g. via a file in <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/run/</code>, generated by a service running before
        activation), and shall be removed after use. Defaults to off.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果启用，指定的密钥文件将在卷被激活后或激活失败时被擦除。当密钥文件在激活之前仅临时获取（例如通过激活前运行的服务生成的文件），并且在使用后应该被删除时，这是特别有用的。默认为关闭。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v246" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 246.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 246 中。</font></font></font></p></dd><dt id="key-slot=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">key-slot=</code></span><a class="headerlink" title="Permalink to this term" href="#key-slot=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Specifies the key slot to compare the
        passphrase or key against. If the key slot does not match the
        given passphrase or key, but another would, the setup of the
        device will fail regardless. This option implies
        <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">luks</code>. See
        <a href="http://linux.die.net/man/8/cryptsetup" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cryptsetup</span>(8)</span></a>
        for possible values. The default is to try all key slots in
        sequential order.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定要将口令或密钥与之比较的密钥槽。如果密钥槽与给定的口令或密钥不匹配，但其他密钥槽匹配，则设备的设置将失败。此选项意味着 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">luks</code> 。有关可能的值，请参阅 cryptsetup(8)。默认情况下，将按顺序尝试所有密钥槽。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v209" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 209.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 209 中添加。</font></font></font></p></dd><dt id="keyfile-timeout=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">keyfile-timeout=</code></span><a class="headerlink" title="Permalink to this term" href="#keyfile-timeout=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"> Specifies the timeout for the device on
        which the key file resides or the device used as the key file,
        and falls back to a password if it could not be accessed. See
        <a href="systemd-cryptsetup-generator.html#" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd-cryptsetup-generator</span>(8)</span></a>
        for key files on external devices.
        <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定密钥文件所在设备的超时时间，如果无法访问，则回退到密码。有关外部设备上密钥文件的信息，请参阅 systemd-cryptsetup-generator(8)。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v243" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 243.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加于版本 243。</font></font></font></p></dd><dt id="luks" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">luks</code></span><a class="headerlink" title="Permalink to this term" href="#luks" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Force LUKS mode. When this mode is used, the
        following options are ignored since they are provided by the
        LUKS header on the device: <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cipher=</code>,
        <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">hash=</code>,
        <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">size=</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">强制使用 LUKS 模式。使用此模式时，以下选项将被忽略，因为它们由设备上的 LUKS 头提供： <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cipher=</code> ， <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">hash=</code> ， <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">size=</code> 。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v186" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 186.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 186 中。</font></font></font></p></dd><dt id="bitlk" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">bitlk</code></span><a class="headerlink" title="Permalink to this term" href="#bitlk" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Decrypt BitLocker drive. Encryption parameters
        are deduced by cryptsetup from BitLocker header.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">解密 BitLocker 驱动器。加密参数由 cryptsetup 从 BitLocker 头中推导出。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v246" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 246.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 246 中。</font></font></font></p></dd><dt id="_netdev" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">_netdev</code></span><a class="headerlink" title="Permalink to this term" href="#_netdev" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Marks this cryptsetup device as requiring network. It will be
        started after the network is available, similarly to
        <a href="systemd.mount.html#" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd.mount</span>(5)</span></a>
        units marked with <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">_netdev</code>. The service unit to set up this device
        will be ordered between <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">remote-fs-pre.target</code> and
        <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">remote-cryptsetup.target</code>, instead of
        <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cryptsetup-pre.target</code> and
        <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cryptsetup.target</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将此 cryptsetup 设备标记为需要网络。在网络可用后启动，类似于标记为 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">_netdev</code> 的 systemd.mount(5) 单元。用于设置此设备的服务单元将在 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">remote-fs-pre.target</code> 和 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">remote-cryptsetup.target</code> 之间排序，而不是在 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cryptsetup-pre.target</code> 和 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cryptsetup.target</code> 之间。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Hint: if this device is used for a mount point that is specified in
        <a href="https://man7.org/linux/man-pages/man5/fstab.5.html" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">fstab</span>(5)</span></a>,
        the <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">_netdev</code> option should also be used for the mount
        point. Otherwise, a dependency loop might be created where the mount point
        will be pulled in by <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">local-fs.target</code>, while the
        service to configure the network is usually only started <span class="emphasis" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><em data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">after</em></span>
        the local file system has been mounted.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">提示：如果此设备用于在 fstab(5) 中指定的挂载点，则挂载点也应使用 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">_netdev</code> 选项。否则，可能会创建依赖循环，其中挂载点将被 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">local-fs.target</code> 拉入，而通常只有在本地文件系统挂载后才会启动配置网络的服务。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v235" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 235.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 235 中。</font></font></font></p></dd><dt id="noauto" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">noauto</code></span><a class="headerlink" title="Permalink to this term" href="#noauto" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">This device will not be added to <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cryptsetup.target</code>.
        This means that it will not be automatically unlocked on boot, unless something else pulls
        it in. In particular, if the device is used for a mount point, it'll be unlocked
        automatically during boot, unless the mount point itself is also disabled with
        <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">noauto</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此设备不会添加到 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cryptsetup.target</code> 中。这意味着除非有其他内容将其拉入，否则它不会在启动时自动解锁。特别是，如果该设备用于挂载点，则在启动期间将自动解锁，除非挂载点本身也使用 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">noauto</code> 禁用。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v186" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 186.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 186 中。</font></font></font></p></dd><dt id="nofail" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">nofail</code></span><a class="headerlink" title="Permalink to this term" href="#nofail" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">This device will not be a hard dependency of
        <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cryptsetup.target</code>. It'll still be pulled in and started, but the system
        will not wait for the device to show up and be unlocked, and boot will not fail if this is
        unsuccessful. Note that other units that depend on the unlocked device may still fail. In
        particular, if the device is used for a mount point, the mount point itself also needs to
        have the <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">nofail</code> option, or the boot will fail if the device is not unlocked
        successfully.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">该设备不会成为 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cryptsetup.target</code> 的硬依赖。它仍然会被拉取并启动，但系统不会等待设备出现并解锁，如果这一步骤失败，系统也不会启动失败。请注意，依赖于已解锁设备的其他单元可能仍然会失败。特别是，如果设备用于挂载点，挂载点本身也需要具有 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">nofail</code> 选项，否则如果设备未成功解锁，则引导将失败。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v186" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 186.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 186 中。</font></font></font></p></dd><dt id="offset=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">offset=</code></span><a class="headerlink" title="Permalink to this term" href="#offset=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Start offset in the backend device, in 512-byte sectors. This
        option is only relevant for plain devices.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">后端设备中的起始偏移量，以 512 字节扇区为单位。此选项仅适用于普通设备。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v220" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 220.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 220 中添加。</font></font></font></p></dd><dt id="plain" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">plain</code></span><a class="headerlink" title="Permalink to this term" href="#plain" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Force plain encryption mode.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">强制使用普通加密模式。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v186" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 186.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 186 中。</font></font></font></p></dd><dt id="read-only" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">read-only</code>, </span><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">readonly</code></span><a class="headerlink" title="Permalink to this term" href="#read-only" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">read-only</code> ， <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">readonly</code> ¶</font></font></font></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Set up the encrypted block device in read-only
        mode.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在只读模式下设置加密块设备。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v186" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 186.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 186 中。</font></font></font></p></dd><dt id="same-cpu-crypt" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">same-cpu-crypt</code></span><a class="headerlink" title="Permalink to this term" href="#same-cpu-crypt" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Perform encryption using the same CPU that IO was submitted on. The default is to use
        an unbound workqueue so that encryption work is automatically balanced between available CPUs.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用提交 IO 的相同 CPU 执行加密。默认情况下，使用未绑定的工作队列，以便加密工作在可用 CPU 之间自动平衡。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">This requires kernel 4.0 or newer.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这需要内核 4.0 或更新版本。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v242" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 242.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 242 中添加。</font></font></font></p></dd><dt id="submit-from-crypt-cpus" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">submit-from-crypt-cpus</code></span><a class="headerlink" title="Permalink to this term" href="#submit-from-crypt-cpus" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Disable offloading writes to a separate thread after encryption. There are some
        situations where offloading write requests from the encryption threads to a dedicated thread degrades
        performance significantly. The default is to offload write requests to a dedicated thread because it
        benefits the CFQ scheduler to have writes submitted using the same context.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在加密后禁用将写操作卸载到单独线程。有些情况下，将写请求从加密线程卸载到专用线程会显著降低性能。默认情况下，将写请求卸载到专用线程，因为这有利于 CFQ 调度程序使用相同的上下文提交写操作。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">This requires kernel 4.0 or newer.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这需要内核 4.0 或更新版本。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v242" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 242.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 242 中添加。</font></font></font></p></dd><dt id="no-read-workqueue" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">no-read-workqueue</code></span><a class="headerlink" title="Permalink to this term" href="#no-read-workqueue" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Bypass dm-crypt internal workqueue and process read requests synchronously. The
        default is to queue these requests and process them asynchronously.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">绕过 dm-crypt 内部工作队列，并同步处理读取请求。默认情况下，将这些请求排队并异步处理。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">This requires kernel 5.9 or newer.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这需要内核 5.9 或更新版本。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v248" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 248.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 248 中添加。</font></font></font></p></dd><dt id="no-write-workqueue" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">no-write-workqueue</code></span><a class="headerlink" title="Permalink to this term" href="#no-write-workqueue" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Bypass dm-crypt internal workqueue and process write requests synchronously. The
        default is to queue these requests and process them asynchronously.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">绕过 dm-crypt 内部工作队列，并同步处理写请求。默认情况下是将这些请求排队并异步处理。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">This requires kernel 5.9 or newer.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这需要内核 5.9 或更新版本。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v248" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 248.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 248 中添加。</font></font></font></p></dd><dt id="skip=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">skip=</code></span><a class="headerlink" title="Permalink to this term" href="#skip=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">How many 512-byte sectors of the encrypted data to skip at the
        beginning. This is different from the <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">offset=</code> option with respect
        to the sector numbers used in initialization vector (IV) calculation. Using
        <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">offset=</code> will shift the IV calculation by the same negative
        amount. Hence, if <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">offset=<em class="replaceable"><code>n</code></em></code> is given,
        sector <em class="replaceable" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">n</code></em> will get a sector number of 0 for the IV
        calculation. Using <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">skip=</code> causes sector
        <em class="replaceable" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">n</code></em> to also be the first sector of the mapped device, but
        with its number for IV generation being <em class="replaceable" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">n</code></em>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">跳过加密数据开头的多少个 512 字节扇区。这与 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">offset=</code> 选项在初始化向量（IV）计算中使用的扇区号不同。使用 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">offset=</code> 将使 IV 计算向负方向偏移相同的量。因此，如果给定 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">offset=<em class="replaceable"><code>n</code></em></code> ，扇区 <code data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">n</code> 将在 IV 计算中得到扇区号 0。使用 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">skip=</code> 会导致扇区 <code data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">n</code> 也成为映射设备的第一个扇区，但其 IV 生成的号码为 <code data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">n</code> 。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">This option is only relevant for plain devices.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项仅适用于普通设备。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v220" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 220.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 220 中添加。</font></font></font></p></dd><dt id="size=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">size=</code></span><a class="headerlink" title="Permalink to this term" href="#size=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Specifies the key size in bits. See
        <a href="http://linux.die.net/man/8/cryptsetup" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cryptsetup</span>(8)</span></a>
        for possible values and the default value of this
        option.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定密钥大小（以位为单位）。请参阅 cryptsetup(8) 以获取此选项的可能值和默认值。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v186" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 186.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 186 中。</font></font></font></p></dd><dt id="sector-size=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">sector-size=</code></span><a class="headerlink" title="Permalink to this term" href="#sector-size=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Specifies the sector size in bytes. See
        <a href="http://linux.die.net/man/8/cryptsetup" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cryptsetup</span>(8)</span></a>
        for possible values and the default value of this
        option.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定以字节为单位的扇区大小。请参阅 cryptsetup(8) 以获取可能的值和此选项的默认值。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v240" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 240.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 240 中添加。</font></font></font></p></dd><dt id="swap" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">swap</code></span><a class="headerlink" title="Permalink to this term" href="#swap" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">The encrypted block device will be used as a
        swap device, and will be formatted accordingly after setting
        up the encrypted block device, with
        <a href="https://man7.org/linux/man-pages/man8/mkswap.8.html" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">mkswap</span>(8)</span></a>.
        This option implies <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">plain</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">加密的块设备将用作交换设备，并在设置加密的块设备后相应地进行格式化，使用 mkswap(8)。此选项意味着 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">plain</code> 。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">WARNING: Using the <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">swap</code> option will
        destroy the contents of the named partition during every boot,
        so make sure the underlying block device is specified
        correctly.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">警告：在每次启动期间使用 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">swap</code> 选项将销毁命名分区的内容，因此请确保正确指定底层块设备。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v186" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 186.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 186 中。</font></font></font></p></dd><dt id="tcrypt" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tcrypt</code></span><a class="headerlink" title="Permalink to this term" href="#tcrypt" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Use TrueCrypt encryption mode. When this mode
        is used, the following options are ignored since they are
        provided by the TrueCrypt header on the device or do not
        apply:
        <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cipher=</code>,
        <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">hash=</code>,
        <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">keyfile-offset=</code>,
        <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">keyfile-size=</code>,
        <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">size=</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 TrueCrypt 加密模式。当使用此模式时，以下选项将被忽略，因为它们由设备上的 TrueCrypt 头部提供，或者不适用： <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cipher=</code> ， <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">hash=</code> ， <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">keyfile-offset=</code> ， <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">keyfile-size=</code> ， <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">size=</code> 。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">When this mode is used, the passphrase is read from the
        key file given in the third field. Only the first line of this
        file is read, excluding the new line character.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当使用此模式时，密码将从第三个字段中给定的密钥文件中读取。只读取此文件的第一行，不包括换行符。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Note that the TrueCrypt format uses both passphrase and
        key files to derive a password for the volume. Therefore, the
        passphrase and all key files need to be provided. Use
        <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tcrypt-keyfile=</code> to provide the absolute path
        to all key files. When using an empty passphrase in
        combination with one or more key files, use
        "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/dev/null</code>" as the password file in the third
        field.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，TrueCrypt 格式使用密码和密钥文件来生成卷的密码。因此，需要提供密码和所有密钥文件。使用 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tcrypt-keyfile=</code> 提供所有密钥文件的绝对路径。当结合一个或多个密钥文件使用空密码时，在第三个字段中使用 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/dev/null</code> " 作为密码文件。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v206" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 206.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 206 中。</font></font></font></p></dd><dt id="tcrypt-hidden" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tcrypt-hidden</code></span><a class="headerlink" title="Permalink to this term" href="#tcrypt-hidden" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Use the hidden TrueCrypt volume. This option
        implies <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tcrypt</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用隐藏的 TrueCrypt 卷。此选项意味着 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tcrypt</code> 。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">This will map the hidden volume that is inside of the
        volume provided in the second field. Please note that there is
        no protection for the hidden volume if the outer volume is
        mounted instead. See
        <a href="http://linux.die.net/man/8/cryptsetup" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cryptsetup</span>(8)</span></a>
        for more information on this limitation.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这将映射位于第二字段提供的卷内部的隐藏卷。请注意，如果挂载外部卷而不是隐藏卷，则隐藏卷将没有保护。有关此限制的更多信息，请参阅 cryptsetup(8)。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v206" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 206.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 206 中。</font></font></font></p></dd><dt id="tcrypt-keyfile=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tcrypt-keyfile=</code></span><a class="headerlink" title="Permalink to this term" href="#tcrypt-keyfile=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Specifies the absolute path to a key file to
        use for a TrueCrypt volume. This implies
        <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tcrypt</code> and can be used more than once to
        provide several key files.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定用于 TrueCrypt 卷的密钥文件的绝对路径。这意味着 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tcrypt</code> ，可以多次使用以提供多个密钥文件。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">See the entry for <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tcrypt</code> on the
        behavior of the passphrase and key files when using TrueCrypt
        encryption mode.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">查看 TrueCrypt 加密模式下使用密码短语和密钥文件行为的条目。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v206" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 206.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 206 中。</font></font></font></p></dd><dt id="tcrypt-system" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tcrypt-system</code></span><a class="headerlink" title="Permalink to this term" href="#tcrypt-system" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Use TrueCrypt in system encryption mode. This
        option implies <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tcrypt</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在系统加密模式下使用 TrueCrypt。此选项意味着 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tcrypt</code> 。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v206" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 206.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 206 中。</font></font></font></p></dd><dt id="tcrypt-veracrypt" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tcrypt-veracrypt</code></span><a class="headerlink" title="Permalink to this term" href="#tcrypt-veracrypt" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Check for a VeraCrypt volume.  VeraCrypt is a fork of
        TrueCrypt that is mostly compatible, but uses different, stronger key
        derivation algorithms that cannot be detected without this flag.
        Enabling this option could substantially slow down unlocking, because
        VeraCrypt's key derivation takes much longer than TrueCrypt's.  This
        option implies <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tcrypt</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">检查 VeraCrypt 卷。VeraCrypt 是 TrueCrypt 的一个分支，大部分兼容，但使用不同、更强大的密钥派生算法，没有此标志无法检测。启用此选项可能会显著减慢解锁速度，因为 VeraCrypt 的密钥派生时间比 TrueCrypt 长得多。此选项意味着 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tcrypt</code> 。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v232" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 232.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 232 中添加。</font></font></font></p></dd><dt id="veracrypt-pim=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">veracrypt-pim=</code></span><a class="headerlink" title="Permalink to this term" href="#veracrypt-pim=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Specifies a custom Personal Iteration Multiplier (PIM)
        value, which can range from 0..2147468 for standard veracrypt volumes
        and 0..65535 for veracrypt system volumes. A value of 0 will imply the
        VeraCrypt default.

        This option is only effective when <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tcrypt-veracrypt</code> is
        set.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定自定义的个人迭代乘数（PIM）值，标准 VeraCrypt 卷的范围为 0 到 2147468，Veracrypt 系统卷的范围为 0 到 65535。值为 0 将意味着 VeraCrypt 默认值。此选项仅在设置 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tcrypt-veracrypt</code> 时有效。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Note that VeraCrypt enforces a minimal allowed PIM value depending on the
        password strength and the hash algorithm used for key derivation, however
        <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">veracrypt-pim=</code> is not checked against these bounds.
        See
        <a class="ulink" href="https://www.veracrypt.fr/en/Personal%20Iterations%20Multiplier%20%28PIM%29.html" target="_top" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">Veracrypt Personal Iterations Multiplier</a>
        documentation for more information.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，VeraCrypt 根据密码强度和用于密钥派生的哈希算法强制执行最小允许的 PIM 值，但不会检查 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">veracrypt-pim=</code> 是否符合这些边界。有关更多信息，请参阅 Veracrypt 个人迭代乘数文档。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v254" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 254.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 254 中。</font></font></font></p></dd><dt id="timeout=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">timeout=</code></span><a class="headerlink" title="Permalink to this term" href="#timeout=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Specifies the timeout for querying for a
        password. If no unit is specified, seconds is used. Supported
        units are s, ms, us, min, h, d. A timeout of 0 waits
        indefinitely (which is the default).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定查询密码的超时时间。如果未指定单位，则使用秒。支持的单位有 s、ms、us、min、h、d。超时时间为 0 表示无限等待（默认值）。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v186" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 186.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 186 中。</font></font></font></p></dd><dt id="tmp=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tmp=</code></span><a class="headerlink" title="Permalink to this term" href="#tmp=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">The encrypted block device will be prepared for using it as
        <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/tmp/</code>; it will be formatted using <a href="https://man7.org/linux/man-pages/man8/mkfs.8.html" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">mkfs</span>(8)</span></a>. Takes
        a file system type as argument, such as "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">ext4</code>", "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">xfs</code>" or
        "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">btrfs</code>". If no argument is specified defaults to "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">ext4</code>". This
        option implies <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">plain</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">加密的块设备将被准备好用作 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/tmp/</code> ；它将使用 mkfs(8) 进行格式化。以文件系统类型作为参数，例如 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">ext4</code> "、" <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">xfs</code> " 或 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">btrfs</code> "。如果未指定参数，默认为 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">ext4</code> "。此选项意味着 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">plain</code> 。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">WARNING: Using the <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tmp</code> option will destroy the contents of the named partition
        during every boot, so make sure the underlying block device is specified correctly.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">警告：使用 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tmp</code> 选项将在每次启动时销毁命名分区的内容，因此请确保正确指定底层块设备。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v186" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 186.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 186 中。</font></font></font></p></dd><dt id="tries=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tries=</code></span><a class="headerlink" title="Permalink to this term" href="#tries=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Specifies the maximum number of times the user
        is queried for a password. The default is 3. If set to 0, the
        user is queried for a password indefinitely.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定用户被询问密码的最大次数。默认值为 3。如果设置为 0，则用户将无限期被询问密码。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v186" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 186.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 186 中。</font></font></font></p></dd><dt id="headless=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">headless=</code></span><a class="headerlink" title="Permalink to this term" href="#headless=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Takes a boolean argument, defaults to false. If true, never query interactively
        for the password/PIN. Useful for headless systems.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受一个布尔参数，默认为 false。如果为 true，则永远不会为密码/PIN 交互查询。适用于无头系统。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v249" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 249.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 249 中。</font></font></font></p></dd><dt id="verify" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">verify</code></span><a class="headerlink" title="Permalink to this term" href="#verify" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">If the encryption password is read from console, it has to be entered twice to
        prevent typos.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果加密密码从控制台读取，则必须输入两次以防止输入错误。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v186" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 186.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 186 中。</font></font></font></p></dd><dt id="password-echo=yes|no|masked" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">password-echo=yes|no|masked</code></span><a class="headerlink" title="Permalink to this term" href="#password-echo=yes%7Cno%7Cmasked" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Controls whether to echo passwords or security token PINs
        that are read from console. Takes a boolean or the special string "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">masked</code>".
        The default is <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">password-echo=masked</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">控制是否回显从控制台读取的密码或安全令牌 PIN。接受布尔值或特殊字符串 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">masked</code> "。默认值为 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">password-echo=masked</code> 。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">If enabled, the typed characters are echoed literally. If disabled,
        the typed characters are not echoed in any form, the user will not get
        feedback on their input. If set to "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">masked</code>", an asterisk
        ("<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">*</code>") is echoed for each character typed. Regardless of
        which mode is chosen, if the user hits the tabulator key ("<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">↹</code>")
        at any time, or the backspace key ("<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">⌫</code>") before any other
        data has been entered, then echo is turned off.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果启用，则输入的字符会被逐字回显。如果禁用，则输入的字符不会以任何形式回显，用户将无法获得有关其输入的反馈。如果设置为 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">masked</code> "，则每键入一个字符都会回显一个星号(" <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">*</code> ")。无论选择哪种模式，如果用户在任何时候按下制表键(" <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">↹</code> ")或在输入任何其他数据之前按下退格键(" <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">⌫</code> ")，则回显将被关闭。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v249" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 249.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 249 中。</font></font></font></p></dd><dt id="pkcs11-uri=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">pkcs11-uri=</code></span><a class="headerlink" title="Permalink to this term" href="#pkcs11-uri=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Takes either the special value "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">auto</code>" or an <a class="ulink" href="https://tools.ietf.org/html/rfc7512" target="_top" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">RFC7512 PKCS#11 URI</a> pointing to a private RSA key
        which is used to decrypt the encrypted key specified in the third column of the line. This is useful
        for unlocking encrypted volumes through PKCS#11 compatible security tokens or smartcards. See below
        for an example how to set up this mechanism for unlocking a LUKS2 volume with a YubiKey security
        token.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可以采用特殊值 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">auto</code> " 或指向用于解密行中第三列指定的加密密钥的私有 RSA 密钥的 RFC7512 PKCS#11 URI。这对于通过 PKCS#11 兼容的安全令牌或智能卡解锁加密卷非常有用。请参阅下面的示例，了解如何设置此机制以使用 YubiKey 安全令牌解锁 LUKS2 卷。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">If specified as "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">auto</code>" the volume must be of type LUKS2 and must carry PKCS#11
        security token metadata in its LUKS2 JSON token section. In this mode the URI and the encrypted key
        are automatically read from the LUKS2 JSON token header. Use
        <a href="systemd-cryptenroll.html#" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd-cryptenroll</span>(1)</span></a>
        as simple tool for enrolling PKCS#11 security tokens or smartcards in a way compatible with
        "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">auto</code>". In this mode the third column of the line should remain empty (that is,
        specified as "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">-</code>").<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果指定为 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">auto</code> "，则卷必须是 LUKS2 类型，并且必须在其 LUKS2 JSON 令牌部分携带 PKCS#11 安全令牌元数据。在此模式下，URI 和加密密钥将自动从 LUKS2 JSON 令牌头中读取。使用 systemd-cryptenroll(1) 作为一个简单的工具，以一种与 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">auto</code> " 兼容的方式注册 PKCS#11 安全令牌或智能卡。在此模式下，行的第三列应保持空白（即指定为 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">-</code> "）。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">The specified URI can refer directly to a private RSA key stored on a token or alternatively
        just to a slot or token, in which case a search for a suitable private RSA key will be performed.  In
        this case if multiple suitable objects are found the token is refused. The encrypted key configured
        in the third column of the line is passed as is (i.e. in binary form, unprocessed) to RSA
        decryption. The resulting decrypted key is then Base64 encoded before it is used to unlock the LUKS
        volume.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定的 URI 可直接引用存储在令牌上的私有 RSA 密钥，或者仅引用插槽或令牌，此时将执行对适当的私有 RSA 密钥的搜索。在这种情况下，如果找到多个适当的对象，则拒绝令牌。行的第三列中配置的加密密钥将原样传递（即以二进制形式、未经处理）给 RSA 解密。然后，解密后的密钥在用于解锁 LUKS 卷之前进行 Base64 编码。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Use <span class="command" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><strong data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd-cryptenroll --pkcs11-token-uri=list</strong></span> to list all suitable PKCS#11
        security tokens currently plugged in, along with their URIs.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 systemd-cryptenroll --pkcs11-token-uri=list 列出当前插入的所有适用的 PKCS#11 安全令牌，以及它们的 URI。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Note that many newer security tokens that may be used as PKCS#11 security token typically also
        implement the newer and simpler FIDO2 standard. Consider using <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">fido2-device=</code>
        (described below) to enroll it via FIDO2 instead. Note that a security token enrolled via PKCS#11
        cannot be used to unlock the volume via FIDO2, unless also enrolled via FIDO2, and vice
        versa.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，许多较新的安全令牌，可能被用作 PKCS#11 安全令牌，通常也实现了更新且更简单的 FIDO2 标准。考虑使用 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">fido2-device=</code> （下文有描述）通过 FIDO2 进行注册。请注意，通过 PKCS#11 注册的安全令牌无法用于通过 FIDO2 解锁卷，除非也通过 FIDO2 进行注册，反之亦然。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v245" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 245.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 245 中添加。</font></font></font></p></dd><dt id="fido2-device=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">fido2-device=</code></span><a class="headerlink" title="Permalink to this term" href="#fido2-device=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Takes either the special value "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">auto</code>" or the path to a
        "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">hidraw</code>" device node (e.g. <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/dev/hidraw1</code>) referring to a FIDO2
        security token that implements the "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">hmac-secret</code>" extension (most current hardware
        security tokens do). See below for an example how to set up this mechanism for unlocking an encrypted
        volume with a FIDO2 security token.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可以选择特殊值 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">auto</code> " 或指向实现 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">hmac-secret</code> " 扩展（大多数当前硬件安全令牌都支持）的 FIDO2 安全令牌的设备节点路径（例如 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/dev/hidraw1</code> ）。请参阅下文，了解如何设置此机制以使用 FIDO2 安全令牌解锁加密卷的示例。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">If specified as "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">auto</code>" the FIDO2 token device is automatically discovered, as
        it is plugged in.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果指定为 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">auto</code> "，则 FIDO2 令牌设备将自动被发现，因为它已插入。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">FIDO2 volume unlocking requires a client ID hash (CID) to be configured via
        <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">fido2-cid=</code> (see below) and a key to pass to the security token's HMAC functionality
        (configured in the line's third column) to operate. If not configured and the volume is of type
        LUKS2, the CID and the key are read from LUKS2 JSON token metadata instead. Use
        <a href="systemd-cryptenroll.html#" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd-cryptenroll</span>(1)</span></a>
        as simple tool for enrolling FIDO2 security tokens, compatible with this automatic mode, which is
        only available for LUKS2 volumes.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">FIDO2 卷解锁需要通过 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">fido2-cid=</code> 配置客户端 ID 哈希（CID）并将密钥传递给安全令牌的 HMAC 功能（在行的第三列中配置）来操作。如果未配置且卷的类型为 LUKS2，则 CID 和密钥将从 LUKS2 JSON 令牌元数据中读取。使用 systemd-cryptenroll(1)作为简单工具来注册 FIDO2 安全令牌，与此自动模式兼容，该模式仅适用于 LUKS2 卷。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Use <span class="command" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><strong data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd-cryptenroll --fido2-device=list</strong></span> to list all suitable FIDO2
        security tokens currently plugged in, along with their device nodes.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 systemd-cryptenroll --fido2-device=list 列出当前插入的所有适用的 FIDO2 安全令牌，以及它们的设备节点。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">This option implements the following mechanism: the configured key is hashed via they HMAC
        keyed hash function the FIDO2 device implements, keyed by a secret key embedded on the device. The
        resulting hash value is Base64 encoded and used to unlock the LUKS2 volume. As it should not be
        possible to extract the secret from the hardware token, it should not be possible to retrieve the
        hashed key given the configured key — without possessing the hardware token.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项实现以下机制：通过 FIDO2 设备实现的 HMAC 密钥散列函数对配置的密钥进行散列，由设备上嵌入的秘密密钥进行密钥化。生成的散列值进行 Base64 编码并用于解锁 LUKS2 卷。由于不应该能够从硬件令牌中提取秘密，因此在不拥有硬件令牌的情况下，不可能检索到已配置密钥的散列密钥。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Note that many security tokens that implement FIDO2 also implement PKCS#11, suitable for
        unlocking volumes via the <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">pkcs11-uri=</code> option described above. Typically the newer,
        simpler FIDO2 standard is preferable.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，许多实现 FIDO2 的安全令牌也实现了 PKCS#11，适用于通过上述描述的 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">pkcs11-uri=</code> 选项解锁卷。通常，更新、更简单的 FIDO2 标准更可取。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v248" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 248.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 248 中添加。</font></font></font></p></dd><dt id="fido2-cid=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">fido2-cid=</code></span><a class="headerlink" title="Permalink to this term" href="#fido2-cid=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Takes a Base64 encoded FIDO2 client ID to use for the FIDO2 unlock operation. If
        specified, but <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">fido2-device=</code> is not, <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">fido2-device=auto</code> is
        implied. If <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">fido2-device=</code> is used but <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">fido2-cid=</code> is not, the volume
        must be of LUKS2 type, and the CID is read from the LUKS2 JSON token header. Use
        <a href="systemd-cryptenroll.html#" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd-cryptenroll</span>(1)</span></a>
        for enrolling a FIDO2 token in the LUKS2 header compatible with this automatic
        mode.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">获取一个 Base64 编码的 FIDO2 客户端 ID 用于 FIDO2 解锁操作。如果指定了，但未指定 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">fido2-device=</code> ，则暗示 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">fido2-device=auto</code> 。如果使用了 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">fido2-device=</code> 但未使用 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">fido2-cid=</code> ，则卷必须是 LUKS2 类型，并且 CID 从 LUKS2 JSON 令牌头中读取。使用 systemd-cryptenroll(1) 来在与此自动模式兼容的 LUKS2 头中注册 FIDO2 令牌。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v248" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 248.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 248 中添加。</font></font></font></p></dd><dt id="fido2-rp=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">fido2-rp=</code></span><a class="headerlink" title="Permalink to this term" href="#fido2-rp=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Takes a string, configuring the FIDO2 Relying Party (rp) for the FIDO2 unlock
        operation. If not specified "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">io.systemd.cryptsetup</code>" is used, except if the LUKS2
        JSON token header contains a different value. It should normally not be necessary to override
        this.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">获取一个字符串，用于配置 FIDO2 Relying Party (rp) 以进行 FIDO2 解锁操作。如果未指定，则使用 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">io.systemd.cryptsetup</code> "，除非 LUKS2 JSON 令牌头包含不同的值。通常不需要覆盖此设置。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v248" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 248.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 248 中添加。</font></font></font></p></dd><dt id="tpm2-device=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tpm2-device=</code></span><a class="headerlink" title="Permalink to this term" href="#tpm2-device=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Takes either the special value "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">auto</code>" or the path to a device node
        (e.g. <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/dev/tpmrm0</code>) referring to a TPM2 security chip. See below for an example
        how to set up this mechanism for unlocking an encrypted volume with a TPM2 chip.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受特殊值 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">auto</code> " 或指向 TPM2 安全芯片的设备节点路径（例如 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/dev/tpmrm0</code> ）。请参阅下面的示例，了解如何设置此机制以解锁带有 TPM2 芯片的加密卷。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Use <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tpm2-pcrs=</code> (see below) to configure the set of TPM2 PCRs to bind the
        volume unlocking to. Use
        <a href="systemd-cryptenroll.html#" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd-cryptenroll</span>(1)</span></a>
        as simple tool for enrolling TPM2 security chips in LUKS2 volumes.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tpm2-pcrs=</code> （请参阅下文）配置要绑定卷解锁的 TPM2 PCR 集。使用 systemd-cryptenroll(1) 作为在 LUKS2 卷中注册 TPM2 安全芯片的简单工具。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">If specified as "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">auto</code>" the TPM2 device is automatically discovered. Use
        <span class="command" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><strong data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd-cryptenroll --tpm2-device=list</strong></span> to list all suitable TPM2 devices currently
        available, along with their device nodes.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果指定为 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">auto</code> "，TPM2 设备将自动发现。使用 systemd-cryptenroll --tpm2-device=list 列出当前可用的所有适用 TPM2 设备，以及它们的设备节点。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">This option implements the following mechanism: when enrolling a TPM2 device via
        <span class="command" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><strong data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd-cryptenroll</strong></span> on a LUKS2 volume, a randomized key unlocking the volume is
        generated on the host and loaded into the TPM2 chip where it is encrypted with an asymmetric
        "primary" key pair derived from the TPM2's internal "seed" key. Neither the seed key nor the primary
        key are permitted to ever leave the TPM2 chip — however, the now encrypted randomized key may. It is
        saved in the LUKS2 volume JSON token header. When unlocking the encrypted volume, the primary key
        pair is generated on the TPM2 chip again (which works as long as the chip's seed key is correctly
        maintained by the TPM2 chip), which is then used to decrypt (on the TPM2 chip) the encrypted key from
        the LUKS2 volume JSON token header saved there during enrollment. The resulting decrypted key is then
        used to unlock the volume. When the randomized key is encrypted the current values of the selected
        PCRs (see below) are included in the operation, so that different PCR state results in different
        encrypted keys and the decrypted key can only be recovered if the same PCR state is
        reproduced.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项实现以下机制：通过 systemd-cryptenroll 在 LUKS2 卷上注册 TPM2 设备时，在主机上生成一个随机密钥用于解锁卷，并加载到 TPM2 芯片中，然后使用从 TPM2 内部“种子”密钥派生的非对称“主”密钥对其进行加密。种子密钥和主密钥均不得离开 TPM2 芯片 —— 然而，现在加密的随机密钥可能会离开。它保存在 LUKS2 卷的 JSON 令牌头中。解锁加密卷时，TPM2 芯片上再次生成主密钥对（只要芯片的种子密钥由 TPM2 芯片正确维护），然后用于解密（在 TPM2 芯片上）在注册期间保存在那里的 LUKS2 卷 JSON 令牌头中的加密密钥。然后使用解密后的密钥来解锁卷。在加密随机密钥时，所选 PCR 的当前值（见下文）包含在操作中，因此不同的 PCR 状态会导致不同的加密密钥，只有在重现相同 PCR 状态时才能恢复解密密钥。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v248" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 248.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 248 中添加。</font></font></font></p></dd><dt id="tpm2-pcrs=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tpm2-pcrs=</code></span><a class="headerlink" title="Permalink to this term" href="#tpm2-pcrs=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Takes a "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">+</code>" separated list of numeric TPM2 PCR (i.e. "Platform
        Configuration Register") indexes to bind the TPM2 volume unlocking to. This option is only useful
        when TPM2 enrollment metadata is not available in the LUKS2 JSON token header already, the way
        <span class="command" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><strong data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd-cryptenroll</strong></span> writes it there. If not used (and no metadata in the LUKS2
        JSON token header defines it), defaults to a list of a single entry: PCR 7. Assign an empty string to
        encode a policy that binds the key to no PCRs, making the key accessible to local programs regardless
        of the current PCR state.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受一个以数字 TPM2 PCR（即“平台配置寄存器”）索引分隔的列表，用于绑定 TPM2 卷解锁。当 LUKS2 JSON 令牌头中不存在 TPM2 注册元数据时，此选项才有用，就像 systemd-cryptenroll 在那里写入的那样。如果不使用（且 LUKS2 JSON 令牌头中没有元数据定义它），默认为单个条目的列表：PCR 7。将空字符串分配给它以编码将密钥绑定到无 PCR 的策略，使密钥可供本地程序访问，而不考虑当前的 PCR 状态。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v248" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 248.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 248 中添加。</font></font></font></p></dd><dt id="tpm2-pin=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tpm2-pin=</code></span><a class="headerlink" title="Permalink to this term" href="#tpm2-pin=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Takes a boolean argument, defaults to "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">false</code>". Controls whether
        TPM2 volume unlocking is bound to a PIN in addition to PCRs. Similarly, this option is only useful
        when TPM2 enrollment metadata is not available.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受一个布尔参数，默认为“ <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">false</code> ”。控制是否将 TPM2 卷解锁绑定到 PIN，除 PCRs 外。同样，此选项仅在 TPM2 注册元数据不可用时才有用。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v251" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 251.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 251 中。</font></font></font></p></dd><dt id="tpm2-signature=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tpm2-signature=</code></span><a class="headerlink" title="Permalink to this term" href="#tpm2-signature=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Takes an absolute path to a TPM2 PCR JSON signature file, as produced by the
        <a href="systemd-measure.html#" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd-measure</span>(1)</span></a>
        tool. This permits locking LUKS2 volumes to any PCR values for which a valid signature matching a
        public key specified at key enrollment time can be provided. See
        <a href="systemd-cryptenroll.html#" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd-cryptenroll</span>(1)</span></a>
        for details on enrolling TPM2 PCR public keys. If this option is not specified but it is attempted to
        unlock a LUKS2 volume with a signed TPM2 PCR enrollment a suitable signature file
        <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tpm2-pcr-signature.json</code> is searched for in <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/etc/systemd/</code>,
        <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/run/systemd/</code>, <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/usr/lib/systemd/</code> (in this
        order).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受由 systemd-measure(1)工具生成的 TPM2 PCR JSON 签名文件的绝对路径。这允许将 LUKS2 卷锁定到在密钥注册时提供了与公钥匹配的有效签名的任何 PCR 值。有关注册 TPM2 PCR 公钥的详细信息，请参阅 systemd-cryptenroll(1)。如果未指定此选项，但尝试使用已签名的 TPM2 PCR 注册解锁 LUKS2 卷，则会在 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/etc/systemd/</code> ， <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/run/systemd/</code> ， <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/usr/lib/systemd/</code> （按此顺序）中搜索适当的签名文件。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v252" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 252.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 252 中添加。</font></font></font></p></dd><dt id="tpm2-pcrlock=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tpm2-pcrlock=</code></span><a class="headerlink" title="Permalink to this term" href="#tpm2-pcrlock=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Takes an absolute path to a TPM2 pcrlock policy file, as produced by the
        <a href="systemd-pcrlock.html#" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd-pcrlock</span>(1)</span></a>
        tool. This permits locking LUKS2 volumes to a local policy of allowed PCR values with
        variants. See
        <a href="systemd-cryptenroll.html#" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd-cryptenroll</span>(1)</span></a>
        for details on enrolling TPM2 pcrlock policies. If this option is not specified but it is attempted
        to unlock a LUKS2 volume with a TPM2 pcrlock enrollment a suitable signature file
        <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">pcrlock.json</code> is searched for in <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/run/systemd/</code> and
        <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/var/lib/systemd/</code> (in this order).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受由 systemd-pcrlock(1)工具生成的 TPM2 pcrlock 策略文件的绝对路径。这允许将 LUKS2 卷锁定到允许 PCR 值变体的本地策略。有关注册 TPM2 pcrlock 策略的详细信息，请参阅 systemd-cryptenroll(1)。如果未指定此选项，但尝试使用 TPM2 pcrlock 注册解锁 LUKS2 卷，则会在 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/run/systemd/</code> 和 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/var/lib/systemd/</code> （按此顺序）中搜索适当的签名文件。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v255" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 255.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 255 中添加。</font></font></font></p></dd><dt id="tpm2-measure-pcr=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tpm2-measure-pcr=</code></span><a class="headerlink" title="Permalink to this term" href="#tpm2-measure-pcr=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Controls whether to measure the volume key of the encrypted volume to a TPM2 PCR. If
        set to "no" (which is the default) no PCR extension is done. If set to "yes" the volume key is
        measured into PCR 15. If set to a decimal integer in the range 0…23 the volume key is measured into
        the specified PCR. The volume key is measured along with the activated volume name and its UUID. This
        functionality is particularly useful for the encrypted volume backing the root file system, as it
        then allows later TPM objects to be securely bound to the root file system and hence the specific
        installation.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">控制是否将加密卷的音量键测量到 TPM2 PCR。如果设置为“no”（默认值），则不进行 PCR 扩展。如果设置为“yes”，则音量键将测量到 PCR 15。如果设置为范围在 0 到 23 之间的十进制整数，则音量键将测量到指定的 PCR。音量键将与已激活的卷名称及其 UUID 一起测量。此功能对于支持根文件系统的加密卷特别有用，因为它允许稍后将 TPM 对象安全地绑定到根文件系统，从而绑定到特定的安装。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v253" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 253.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 253 中。</font></font></font></p></dd><dt id="tpm2-measure-bank=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tpm2-measure-bank=</code></span><a class="headerlink" title="Permalink to this term" href="#tpm2-measure-bank=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Selects one or more TPM2 PCR banks to measure the volume key into, as configured with
        <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tpm2-measure-pcr=</code> above. Multiple banks may be specified, separated by a colon
        character. If not specified automatically determines available and used banks. Expects a message
        digest name (e.g. "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">sha1</code>", "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">sha256</code>", …) as argument, to identify the
        bank.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">选择一个或多个 TPM2 PCR 银行来测量音量键，如上面的配置 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">tpm2-measure-pcr=</code> 。可以通过冒号字符分隔指定多个银行。如果未指定，将自动确定可用和已使用的银行。期望一个消息摘要名称（例如 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">sha1</code> "，" <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">sha256</code> "，…）作为参数，以识别银行。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v253" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 253.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 253 中。</font></font></font></p></dd><dt id="token-timeout=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">token-timeout=</code></span><a class="headerlink" title="Permalink to this term" href="#token-timeout=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Specifies how long to wait at most for configured security devices (i.e. FIDO2,
        PKCS#11, TPM2) to show up. Takes a time value in seconds (but other time units may be specified too,
        see <a href="systemd.time.html#" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd.time</span>(7)</span></a>
        for supported formats). Defaults to 30s. Once the specified timeout elapsed authentication via
        password is attempted. Note that this timeout applies to waiting for the security device to show up —
        it does not apply to the PIN prompt for the device (should one be needed) or similar. Pass 0 to turn
        off the time-out and wait forever.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定配置的安全设备（即 FIDO2、PKCS#11、TPM2）最多等待多长时间才能显示出来。以秒为单位的时间值（但也可以指定其他时间单位，有关支持的格式，请参阅 systemd.time(7)）。默认为 30 秒。一旦指定的超时时间到达，将尝试通过密码进行身份验证。请注意，此超时时间适用于等待安全设备显示出来，而不适用于设备的 PIN 提示（如果需要的话）或类似情况。传递 0 以关闭超时并永远等待。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v250" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 250.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 250 中添加。</font></font></font></p></dd><dt id="try-empty-password=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">try-empty-password=</code></span><a class="headerlink" title="Permalink to this term" href="#try-empty-password=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Takes a boolean argument. If enabled, right before asking the user for a password it
        is first attempted to unlock the volume with an empty password. This is useful for systems that are
        initialized with an encrypted volume with only an empty password set, which shall be replaced with a
        suitable password during first boot, but after activation.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受布尔参数。如果启用，将在要求用户输入密码之前首先尝试使用空密码解锁卷。这对于使用仅设置了空密码的加密卷初始化的系统很有用，该密码应在首次启动后但激活之前替换为适当的密码。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v246" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 246.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 246 中。</font></font></font></p></dd><dt id="x-systemd.device-timeout=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">x-systemd.device-timeout=</code></span><a class="headerlink" title="Permalink to this term" href="#x-systemd.device-timeout=" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Specifies how long systemd should wait for a block device to show up before
        giving up on the entry. The argument is a time in seconds or explicitly specified units of
        "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">s</code>", "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">min</code>", "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">h</code>", "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">ms</code>".
        <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定 systemd 在放弃该条目之前应等待块设备显示的时间。参数是以秒为单位的时间或明确指定的单位“ <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">s</code> ”、“ <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">min</code> ”、“ <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">h</code> ”、“ <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">ms</code> ”。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v216" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 216.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 216 中。</font></font></font></p></dd><dt id="x-initrd.attach" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">x-initrd.attach</code></span><a class="headerlink" title="Permalink to this term" href="#x-initrd.attach" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a></dt><dd data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Setup this encrypted block device in the initrd, similarly to
        <a href="systemd.mount.html#" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd.mount</span>(5)</span></a>
        units marked with <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">x-initrd.mount</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在 initrd 中设置这个加密块设备，类似于标记为 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">x-initrd.mount</code> 的 systemd.mount(5) 单元。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Although it's not necessary to mark the mount entry for the root file system with
        <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">x-initrd.mount</code>, <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">x-initrd.attach</code> is still recommended with
        the encrypted block device containing the root file system as otherwise systemd will
        attempt to detach the device during the regular system shutdown while it's still in
        use. With this option the device will still be detached but later after the root file
        system is unmounted.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">尽管不需要使用 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">x-initrd.mount</code> 标记根文件系统的挂载条目，但建议对包含根文件系统的加密块设备使用 <code class="option" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">x-initrd.attach</code> ，否则 systemd 在常规系统关闭期间会尝试在仍在使用时分离设备。使用此选项后，设备仍将被分离，但在卸载根文件系统后才会发生。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">All other encrypted block devices that contain file systems mounted in the initrd should use
        this option.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">所有在 initrd 中挂载文件系统的其他加密块设备都应该使用此选项。</font></font></font></p><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><a name="v245" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a>Added in version 245.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 245 中添加。</font></font></font></p></dd></dl></div><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">At early boot and when the system manager configuration is
    reloaded, this file is translated into native systemd units by
    <a href="systemd-cryptsetup-generator.html#" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd-cryptsetup-generator</span>(8)</span></a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在早期引导和重新加载系统管理器配置时，此文件将由 systemd-cryptsetup-generator(8)转换为本机 systemd 单元。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><a name="id-1.8" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a><h2 id="AF_UNIX Key Files" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1"><code class="constant" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">AF_UNIX</code> Key Files<a class="headerlink" title="Permalink to this headline" href="#AF_UNIX%20Key%20Files" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="constant" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">AF_UNIX</code> 密钥文件 ¶</font></font></font></h2><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">If the key file path (as specified in the third column of <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/etc/crypttab</code>
    entries, see above) refers to an <code class="constant" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">AF_UNIX</code> stream socket in the file system, the key
    is acquired by connecting to the socket and reading the key from the connection. The connection is made
    from an <code class="constant" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">AF_UNIX</code> socket name in the abstract namespace, see <a href="https://man7.org/linux/man-pages/man7/unix.7.html" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">unix</span>(7)</span></a> for
    details. The source socket name is chosen according the following format:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果密钥文件路径（如上面 <code class="filename" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/etc/crypttab</code> 条目的第三列中指定的）指向文件系统中的 <code class="constant" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">AF_UNIX</code> 流套接字，则通过连接到套接字并从连接中读取密钥来获取密钥。连接是从抽象命名空间中的 <code class="constant" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">AF_UNIX</code> 套接字名称进行的，请参阅 unix(7)获取详细信息。源套接字名称根据以下格式选择：</font></font></font></p><pre class="programlisting"><code class="constant">NUL</code> <em class="replaceable"><code>RANDOM</code></em> /cryptsetup/ <em class="replaceable"><code>VOLUME</code></em></pre><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">In other words: a <code class="constant" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">NUL</code> byte (as required for abstract namespace sockets),
    followed by a random string (consisting of alphanumeric characters only), followed by the literal
    string "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/cryptsetup/</code>", followed by the name of the volume to acquire they key
    for. For example, for the volume "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">myvol</code>":<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">换句话说：一个 <code class="constant" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">NUL</code> 字节（用于抽象命名空间套接字），后跟一个随机字符串（仅由字母数字字符组成），后跟文字字符串 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/cryptsetup/</code> "，后跟要获取密钥的卷的名称。例如，对于卷 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">myvol</code> "：</font></font></font></p><pre class="programlisting">\0d7067f78d9827418/cryptsetup/myvol</pre><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Services listening on the <code class="constant" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">AF_UNIX</code> stream socket may query the source socket
    name with <a href="https://man7.org/linux/man-pages/man2/getpeername.2.html" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">getpeername</span>(2)</span></a>,
    and use this to determine which key to send, allowing a single listening socket to serve keys for
    multiple volumes. If the PKCS#11 logic is used (see above), the socket source name is picked in similar
    fashion, except that the literal string "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/cryptsetup-pkcs11/</code>" is used. And similarly for
    FIDO2 ("<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/cryptsetup-fido2/</code>") and TPM2 ("<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/cryptsetup-tpm2/</code>"). A different
    path component is used so that services providing key material know that the secret key was not requested
    directly, but instead an encrypted key that will be decrypted via the PKCS#11/FIDO2/TPM2 logic to acquire
    the final secret key.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">监听 <code class="constant" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">AF_UNIX</code> 流套接字的服务可以使用 getpeername(2) 查询源套接字名称，并使用此信息确定要发送的密钥，从而使单个监听套接字可以为多个卷提供密钥。如果使用 PKCS#11 逻辑（请参见上文），则以类似的方式选择套接字源名称，只是使用文字字符串 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/cryptsetup-pkcs11/</code> "。对于 FIDO2（" <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/cryptsetup-fido2/</code> "）和 TPM2（" <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">/cryptsetup-tpm2/</code> "）也是如此。使用不同的路径组件，以便提供密钥材料的服务知道秘密密钥不是直接请求的，而是通过 PKCS#11/FIDO2/TPM2 逻辑解密以获取最终秘密密钥。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><a name="id-1.9" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a><h2 id="Examples" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Examples<a class="headerlink" title="Permalink to this headline" href="#Examples" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 ¶</font></font></font></h2><div class="example" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><a name="id-1.9.2" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a><p class="title" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><b data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Example&nbsp;1.&nbsp;/etc/crypttab example<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 1. /etc/crypttab 示例</font></font></font></b></p><div class="example-contents" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Set up four encrypted block devices. One using LUKS for normal storage, another one for usage as
      a swap device and two TrueCrypt volumes. For the fourth device, the option string is interpreted as two
      options "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cipher=xchacha12,aes-adiantum-plain64</code>",
      "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">keyfile-timeout=10s</code>".<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置四个加密块设备。一个使用 LUKS 用于普通存储，另一个用作交换设备，还有两个 TrueCrypt 卷。对于第四个设备，选项字符串被解释为两个选项 " <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cipher=xchacha12,aes-adiantum-plain64</code> "，" <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">keyfile-timeout=10s</code> "。</font></font></font></p><pre class="programlisting">luks       UUID=2505567a-9e27-4efe-a4d5-15ad146c258b
swap       /dev/sda7       /dev/urandom       swap
truecrypt  /dev/sda2       /etc/container_password  tcrypt
hidden     /mnt/tc_hidden  /dev/null    tcrypt-hidden,tcrypt-keyfile=/etc/keyfile
external   /dev/sda3       keyfile:LABEL=keydev keyfile-timeout=10s,cipher=xchacha12\,aes-adiantum-plain64
</pre></div></div><br class="example-break" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><div class="example" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><a name="id-1.9.3" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a><p class="title" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><b data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Example&nbsp;2.&nbsp;Yubikey-based PKCS#11 Volume Unlocking Example<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 2. 基于 Yubikey 的 PKCS#11 卷解锁示例</font></font></font></b></p><div class="example-contents" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">The PKCS#11 logic allows hooking up any compatible security token that is capable of storing RSA
      decryption keys for unlocking an encrypted volume. Here's an example how to set up a Yubikey security
      token for this purpose on a LUKS2 volume, using <a href="https://manpages.debian.org/unstable/ykmap/ykmap.1.en.html" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">ykmap</span>(1)</span></a> from the
      yubikey-manager project to initialize the token and
      <a href="systemd-cryptenroll.html#" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd-cryptenroll</span>(1)</span></a>
      to add it in the LUKS2 volume:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">PKCS#11 逻辑允许连接任何兼容的安全令牌，该令牌能够存储用于解锁加密卷的 RSA 解密密钥。以下是如何在 LUKS2 卷上为此目的设置 Yubikey 安全令牌的示例，使用 yubikey-manager 项目中的 ykmap(1) 初始化令牌，并使用 systemd-cryptenroll(1) 将其添加到 LUKS2 卷中：</font></font></font></p><pre class="programlisting"># SPDX-License-Identifier: MIT-0

# Destroy any old key on the Yubikey (careful!)
ykman piv reset

# Generate a new private/public key pair on the device, store the public key in
# 'pubkey.pem'.
ykman piv generate-key -a RSA2048 9d pubkey.pem

# Create a self-signed certificate from this public key, and store it on the
# device. The "subject" should be an arbitrary user-chosen string to identify
# the token with.
ykman piv generate-certificate --subject "Knobelei" 9d pubkey.pem

# We don't need the public key anymore, let's remove it. Since it is not
# security sensitive we just do a regular "rm" here.
rm pubkey.pem

# Enroll the freshly initialized security token in the LUKS2 volume. Replace
# /dev/sdXn by the partition to use (e.g. /dev/sda1).
sudo systemd-cryptenroll --pkcs11-token-uri=auto /dev/sdXn

# Test: Let's run systemd-cryptsetup to test if this all worked.
sudo systemd-cryptsetup attach mytest /dev/sdXn - pkcs11-uri=auto

# If that worked, let's now add the same line persistently to /etc/crypttab,
# for the future. We don't want to use the (unstable) /dev/sdX name, so let's
# figure out a stable link:
udevadm info -q -r symlink /dev/sdXn

# Now add the line using the by-uuid symlink to /etc/crypttab:
sudo bash -c 'echo "mytest /dev/disk/by-uuid/... - pkcs11-uri=auto" &gt;&gt;/etc/crypttab'

# Depending on your distribution and encryption setup, you may need to manually
# regenerate your initramfs to be able to use a Yubikey / PKCS#11 token to
# unlock the partition during early boot.
# More information at https://unix.stackexchange.com/a/705809.
# On Fedora based systems:
sudo dracut --force
# On Debian based systems:
sudo update-initramfs -u
</pre><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">A few notes on the above:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">关于上述内容的一些说明：</font></font></font></p><div class="itemizedlist" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><ul class="itemizedlist" style="list-style-type: disc; " data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><li class="listitem" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">We use RSA2048, which is the longest key size current Yubikeys support<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">我们使用 RSA2048，这是当前 Yubikeys 支持的最长密钥大小</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">We use Yubikey key slot 9d, since that's apparently the keyslot to use for decryption purposes,
        see
        <a class="ulink" href="https://developers.yubico.com/PIV/Introduction/Certificate_slots.html" target="_top" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">Yubico PIV certificate slots</a>.
        <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">我们使用 Yubikey 密钥槽 9d，因为显然这是用于解密目的的密钥槽，请参阅 Yubico PIV 证书槽。</font></font></font></p></li></ul></div></div></div><br class="example-break" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><div class="example" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><a name="id-1.9.4" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a><p class="title" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><b data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Example&nbsp;3.&nbsp;FIDO2 Volume Unlocking Example<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 3. FIDO2 卷解锁示例</font></font></font></b></p><div class="example-contents" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">The FIDO2 logic allows using any compatible FIDO2 security token that implements the
      "<code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">hmac-secret</code>" extension for unlocking an encrypted volume. Here's an example how to
      set up a FIDO2 security token for this purpose for a LUKS2 volume, using
      <a href="systemd-cryptenroll.html#" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd-cryptenroll</span>(1)</span></a>:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">FIDO2 逻辑允许使用任何实现“ <code class="literal" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">hmac-secret</code> ”扩展的兼容 FIDO2 安全令牌来解锁加密卷。以下是如何为此目的设置 FIDO2 安全令牌以用于 LUKS2 卷的示例，使用 systemd-cryptenroll(1)：</font></font></font></p><pre class="programlisting"># SPDX-License-Identifier: MIT-0

# Enroll the security token in the LUKS2 volume. Replace /dev/sdXn by the
# partition to use (e.g. /dev/sda1).
sudo systemd-cryptenroll --fido2-device=auto /dev/sdXn

# Test: Let's run systemd-cryptsetup to test if this worked.
sudo systemd-cryptsetup attach mytest /dev/sdXn - fido2-device=auto

# If that worked, let's now add the same line persistently to /etc/crypttab,
# for the future. We don't want to use the (unstable) /dev/sdX name, so let's
# figure out a stable link:
udevadm info -q -r symlink /dev/sdXn

# Now add the line using the by-uuid symlink to /etc/crypttab:
sudo bash -c 'echo "mytest /dev/disk/by-uuid/... - fido2-device=auto" &gt;&gt;/etc/crypttab'

# Depending on your distribution and encryption setup, you may need to manually
# regenerate your initramfs to be able to use a FIDO2 device to unlock the
# partition during early boot.
# More information at https://unix.stackexchange.com/a/705809.
# On Fedora based systems:
sudo dracut --force
# On Debian based systems:
sudo update-initramfs -u
</pre></div></div><br class="example-break" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><div class="example" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><a name="id-1.9.5" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a><p class="title" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><b data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">Example&nbsp;4.&nbsp;TPM2 Volume Unlocking Example<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 4. TPM2 卷解锁示例</font></font></font></b></p><div class="example-contents" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">The TPM2 logic allows using any TPM2 chip supported by the Linux kernel for unlocking an
      encrypted volume. Here's an example how to set up a TPM2 chip for this purpose for a LUKS2 volume,
      using
      <a href="systemd-cryptenroll.html#" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd-cryptenroll</span>(1)</span></a>:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">TPM2 逻辑允许使用 Linux 内核支持的任何 TPM2 芯片来解锁加密卷。以下是如何为 LUKS2 卷设置 TPM2 芯片以实现此目的的示例，使用 systemd-cryptenroll(1)：</font></font></font></p><pre class="programlisting"># SPDX-License-Identifier: MIT-0

# Enroll the TPM2 security chip in the LUKS2 volume, and bind it to PCR 7
# only. Replace /dev/sdXn by the partition to use (e.g. /dev/sda1).
sudo systemd-cryptenroll --tpm2-device=auto --tpm2-pcrs=7 /dev/sdXn

# Test: Let's run systemd-cryptsetup to test if this worked.
sudo systemd-cryptsetup attach mytest /dev/sdXn - tpm2-device=auto

# If that worked, let's now add the same line persistently to /etc/crypttab,
# for the future. We don't want to use the (unstable) /dev/sdX name, so let's
# figure out a stable link:
udevadm info -q -r symlink /dev/sdXn

# Now add the line using the by-uuid symlink to /etc/crypttab:
sudo bash -c 'echo "mytest /dev/disk/by-uuid/... - tpm2-device=auto" &gt;&gt;/etc/crypttab'

# And now let's check that automatic unlocking works:
sudo systemd-cryptsetup detach mytest
sudo systemctl daemon-reload
sudo systemctl start cryptsetup.target
systemctl is-active systemd-cryptsetup@mytest.service

# Once we have the device which will be unlocked automatically, we can use it.
# Usually we would create a file system and add it to /etc/fstab:
sudo mkfs.ext4 /dev/mapper/mytest
# This prints a 'Filesystem UUID', which we can use as a stable name:
sudo bash -c 'echo "/dev/disk/by-uuid/... /var/mytest ext4 defaults,x-systemd.mkdir 0 2" &gt;&gt;/etc/fstab'
# And now let's check that the mounting works:
sudo systemctl daemon-reload
sudo systemctl start /var/mytest
systemctl status /var/mytest

# Depending on your distribution and encryption setup, you may need to manually
# regenerate your initramfs to be able to use a TPM2 security chip to unlock
# the partition during early boot.
# More information at https://unix.stackexchange.com/a/705809.
# On Fedora based systems:
sudo dracut --force
# On Debian based systems:
sudo update-initramfs -u
</pre></div></div><br class="example-break" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></div><div class="refsect1" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><a name="id-1.10" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"></a><h2 id="See Also" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">参见 ¶</font></font></font></h2><p data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9" data-immersive-translate-paragraph="1">
      <a href="systemd.html#" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd</span>(1)</span></a>,
      <a href="systemd-cryptsetup@.service.html#" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd-cryptsetup@.service</span>(8)</span></a>,
      <a href="systemd-cryptsetup-generator.html#" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd-cryptsetup-generator</span>(8)</span></a>,
      <a href="systemd-cryptenroll.html#" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">systemd-cryptenroll</span>(1)</span></a>,
      <a href="https://man7.org/linux/man-pages/man5/fstab.5.html" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">fstab</span>(5)</span></a>,
      <a href="http://linux.die.net/man/8/cryptsetup" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">cryptsetup</span>(8)</span></a>,
      <a href="https://man7.org/linux/man-pages/man8/mkswap.8.html" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">mkswap</span>(8)</span></a>,
      <a href="https://man7.org/linux/man-pages/man8/mke2fs.8.html" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="citerefentry" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9"><span class="refentrytitle" data-immersive-translate-walked="6398b098-bb72-4fcf-b94a-13ee4b1daed9">mke2fs</span>(8)</span></a>
    </p></div></div>
</body></html>