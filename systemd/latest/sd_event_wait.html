<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>sd_event_wait</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><a name="sd_event_wait" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"></a><div class="titlepage" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"></div><div class="refnamediv" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><h2 data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">sd_event_wait, sd_event_prepare, sd_event_dispatch, sd_event_get_state, sd_event_get_iteration, SD_EVENT_INITIAL, SD_EVENT_PREPARING, SD_EVENT_ARMED, SD_EVENT_PENDING, SD_EVENT_RUNNING, SD_EVENT_EXITING, SD_EVENT_FINISHED — Low-level event loop operations<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">sd_event_wait, sd_event_prepare, sd_event_dispatch, sd_event_get_state, sd_event_get_iteration, SD_EVENT_INITIAL, SD_EVENT_PREPARING, SD_EVENT_ARMED, SD_EVENT_PENDING, SD_EVENT_RUNNING, SD_EVENT_EXITING, SD_EVENT_FINISHED — 低级事件循环操作</font></font></font></p></div><div class="refsynopsisdiv" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><h2 data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">简介</font></font></font></h2><div class="funcsynopsis"><pre class="funcsynopsisinfo">#include &lt;systemd/sd-event.h&gt;</pre><pre class="funcsynopsisinfo"><span class="token">enum</span> {
        <code class="constant">SD_EVENT_INITIAL</code>,
        <code class="constant">SD_EVENT_PREPARING</code>,
        <code class="constant">SD_EVENT_ARMED</code>,
        <code class="constant">SD_EVENT_PENDING</code>,
        <code class="constant">SD_EVENT_RUNNING</code>,
        <code class="constant">SD_EVENT_EXITING</code>,
        <code class="constant">SD_EVENT_FINISHED</code>,
};</pre><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_event_prepare</b>(</code></td><td>sd_event *<var class="pdparam">event</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_event_wait</b>(</code></td><td>sd_event *<var class="pdparam">event</var>, </td></tr><tr><td>&nbsp;</td><td>uint64_t <var class="pdparam">usec</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_event_dispatch</b>(</code></td><td>sd_event *<var class="pdparam">event</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_event_get_state</b>(</code></td><td>sd_event *<var class="pdparam">event</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_event_get_iteration</b>(</code></td><td>sd_event *<var class="pdparam">event</var>, </td></tr><tr><td>&nbsp;</td><td>uint64_t *<var class="pdparam">ret</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div></div></div><div class="refsect1" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><a name="id-1.5" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"></a><h2 id="Description" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">The low-level <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code>,
    <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_wait()</code> and
    <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_dispatch()</code> functions may be used to
    execute specific phases of an event loop. See
    <a href="sd_event_run.html#" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="citerefentry" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="refentrytitle" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_run</span>(3)</span></a>
    and
    <a href="sd_event_loop.html#" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="citerefentry" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="refentrytitle" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_loop</span>(3)</span></a>
    for higher-level functions that execute individual but complete
    iterations of an event loop or run it continuously.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">低级 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code> , <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_wait()</code> 和 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_dispatch()</code> 函数可用于执行事件循环的特定阶段。查看 sd_event_run(3) 和 sd_event_loop(3) 以获取执行事件循环的单个但完整迭代或连续运行的更高级函数。</font></font></font></p><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code> checks for pending
    events and arms necessary timers. If any events are ready to be
    processed ("pending"), it returns a positive, non-zero value, and the caller
    should process these events with
    <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_dispatch()</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code> 检查待处理事件并启动必要的计时器。如果有任何事件准备好被处理（“待处理”），它将返回一个正值，调用者应使用 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_dispatch()</code> 处理这些事件。</font></font></font></p><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_dispatch()</code> dispatches the
    highest priority event source that has a pending event. On
    success, <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_dispatch()</code> returns either
    zero, which indicates that no further event sources may be
    dispatched and exiting of the event loop was requested via
    <a href="sd_event_exit.html#" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="citerefentry" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="refentrytitle" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_exit</span>(3)</span></a>;
    or a positive non-zero value, which means that an event source was
    dispatched and the loop returned to its initial state, and the
    caller should initiate the next event loop iteration by invoking
    <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code> again.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_dispatch()</code> 调度具有挂起事件的最高优先级事件源。成功时， <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_dispatch()</code> 返回零，表示不会再调度更多事件源，并通过 sd_event_exit(3) 请求退出事件循环；或者返回正值，表示已调度事件源，循环返回其初始状态，调用者应通过再次调用 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code> 来启动下一个事件循环迭代。</font></font></font></p><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">In case <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code> returned
    zero, <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_wait()</code> should be called to
    wait for further events or a timeout. If any events are ready to
    be processed, it returns a positive, non-zero value, and the
    events should be dispatched with
    <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_dispatch()</code>. Otherwise, the event
    loop returned to its initial state and the next event loop
    iteration should be initiated by invoking
    <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code> again.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code> 返回零，则应调用 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_wait()</code> 等待进一步事件或超时。如果有任何准备处理的事件，则返回正值，非零值，并应使用 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_dispatch()</code> 调度事件。否则，事件循环返回其初始状态，下一个事件循环迭代应通过再次调用 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code> 来启动。</font></font></font></p><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_get_state()</code> may be used to
    determine the state the event loop is currently in. It returns one
    of the states described below.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_get_state()</code> 可用于确定事件循环当前所处的状态。它返回以下描述的状态之一。</font></font></font></p><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_get_iteration()</code> may be used to determine the current iteration of the event
    loop. It returns an unsigned 64-bit integer containing a counter that increases monotonically with each iteration of
    the event loop, starting with 0. The counter is increased at the time of the
    <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code> invocation.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_get_iteration()</code> 可用于确定事件循环的当前迭代。它返回一个无符号 64 位整数，其中包含一个计数器，该计数器随着事件循环的每次迭代单调递增，从 0 开始。计数器在 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code> 调用时增加。</font></font></font></p><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">All five functions take, as the first argument, the event loop object <em class="parameter" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><code data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">event</code></em> that has
    been created with <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_new()</code>. The timeout for <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_wait()</code> is
    specified in <em class="parameter" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><code data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">usec</code></em> in microseconds.  <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">(uint64_t) -1</code> may be used to
    specify an infinite timeout.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">所有五个函数的第一个参数都是使用 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_new()</code> 创建的事件循环对象 <code data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">event</code> 。 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_wait()</code> 的超时时间以微秒为单位指定。 <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">(uint64_t) -1</code> 可用于指定无限超时。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><a name="id-1.6" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"></a><h2 id="State Machine" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">State Machine<a class="headerlink" title="Permalink to this headline" href="#State%20Machine" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">状态机 ¶</font></font></font></h2><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">The event loop knows the following states, that may be
    queried with <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_get_state()</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">事件循环知道以下状态，可以使用 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_get_state()</code> 查询。</font></font></font></p><div class="variablelist" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><dl class="variablelist" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><dt id="SD_EVENT_INITIAL" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_INITIAL</code></span><a class="headerlink" title="Permalink to this term" href="#SD_EVENT_INITIAL" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">¶</a></dt><dd data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">The initial state the event loop is in,
        before each event loop iteration. Use
        <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code> to transition the
        event loop into the <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_ARMED</code> or
        <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_PENDING</code> states.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">事件循环在每次事件循环迭代之前所处的初始状态。使用 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code> 将事件循环转换为 <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_ARMED</code> 或 <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_PENDING</code> 状态。</font></font></font></p><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><a name="v229" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"></a>Added in version 229.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 229 中添加。</font></font></font></p></dd><dt id="SD_EVENT_PREPARING" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_PREPARING</code></span><a class="headerlink" title="Permalink to this term" href="#SD_EVENT_PREPARING" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">¶</a></dt><dd data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">An event source is currently being prepared,
        i.e. the preparation handler is currently being executed, as
        set with
        <a href="sd_event_source_set_prepare.html#" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="citerefentry" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="refentrytitle" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_source_set_prepare</span>(3)</span></a>. This
        state is only seen in the event source preparation handler
        that is invoked from the
        <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code> call and is
        immediately followed by <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_ARMED</code> or
        <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_PENDING</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当前正在准备事件源，即正在执行准备处理程序，如使用 sd_event_source_set_prepare(3)设置的那样。此状态仅在从 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code> 调用的事件源准备处理程序中看到，并立即跟随 <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_ARMED</code> 或 <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_PENDING</code> 。</font></font></font></p><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><a name="v229" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"></a>Added in version 229.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 229 中添加。</font></font></font></p></dd><dt id="SD_EVENT_ARMED" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_ARMED</code></span><a class="headerlink" title="Permalink to this term" href="#SD_EVENT_ARMED" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">¶</a></dt><dd data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code> has
        been called and no event sources were ready to be
        dispatched. Use <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_wait()</code> to wait
        for new events, and transition into
        <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_PENDING</code> or back into
        <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_INITIAL</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code> 已被调用，但没有准备好要分派的事件源。使用 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_wait()</code> 等待新事件，并转换为 <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_PENDING</code> 或返回到 <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_INITIAL</code> 。</font></font></font></p><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><a name="v229" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"></a>Added in version 229.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 229 中添加。</font></font></font></p></dd><dt id="SD_EVENT_PENDING" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_PENDING</code></span><a class="headerlink" title="Permalink to this term" href="#SD_EVENT_PENDING" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">¶</a></dt><dd data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code> or
        <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_wait()</code> have been called and
        there were event sources with events pending. Use
        <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_dispatch()</code> to dispatch the
        highest priority event source and transition back to
        <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_INITIAL</code>, or
        <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_FINISHED</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code> 或 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_wait()</code> 已被调用，但有事件源具有待处理的事件。使用 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_dispatch()</code> 分派优先级最高的事件源，并转换回 <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_INITIAL</code> 或 <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_FINISHED</code> 。</font></font></font></p><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><a name="v229" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"></a>Added in version 229.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 229 中添加。</font></font></font></p></dd><dt id="SD_EVENT_RUNNING" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_RUNNING</code></span><a class="headerlink" title="Permalink to this term" href="#SD_EVENT_RUNNING" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">¶</a></dt><dd data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">A regular event source is currently being
        dispatched. This state is only seen in the event source
        handler that is invoked from the
        <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_dispatch()</code> call, and is
        immediately followed by <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_INITIAL</code>
        or <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_FINISHED</code> as soon the event
        source handler returns. Note that during dispatching of exit
        event sources the <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_EXITING</code> state
        is seen instead.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当前正在分派常规事件源。此状态仅在从 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_dispatch()</code> 调用的事件源处理程序中看到，并在事件源处理程序返回后立即跟随 <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_INITIAL</code> 或 <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_FINISHED</code> 。请注意，在分派退出事件源时，将看到 <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_EXITING</code> 状态。</font></font></font></p><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><a name="v229" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"></a>Added in version 229.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 229 中添加。</font></font></font></p></dd><dt id="SD_EVENT_EXITING" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_EXITING</code></span><a class="headerlink" title="Permalink to this term" href="#SD_EVENT_EXITING" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">¶</a></dt><dd data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">Similar to
        <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_RUNNING</code> but is the state in
        effect while dispatching exit event sources. It is followed by
        <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_INITIAL</code> or
        <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_FINISHED</code> as soon as the event
        handler returns.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">与 <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_RUNNING</code> 类似，但在调度退出事件源时处于生效状态。一旦事件处理程序返回，它将立即被 <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_INITIAL</code> 或 <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_FINISHED</code> 接替。</font></font></font></p><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><a name="v229" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"></a>Added in version 229.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 229 中添加。</font></font></font></p></dd><dt id="SD_EVENT_FINISHED" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_FINISHED</code></span><a class="headerlink" title="Permalink to this term" href="#SD_EVENT_FINISHED" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">¶</a></dt><dd data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">The event loop has exited. All exit event
        sources have run. If the event loop is in this state it serves
        no purpose anymore, and should be freed.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">事件循环已退出。所有退出事件源已运行。如果事件循环处于此状态，则不再有任何作用，应该被释放。</font></font></font></p><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><a name="v229" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"></a>Added in version 229.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 229 中添加。</font></font></font></p></dd></dl></div><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">A simplified flow chart of the states and the calls to
    transition between them is shown below. Note that
    <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_PREPARING</code>,
    <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_RUNNING</code> and
    <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_EXITING</code> are not shown here.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">下面显示了状态和之间转换的简化流程图。请注意，这里没有显示 <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_PREPARING</code> ， <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_RUNNING</code> 和 <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">SD_EVENT_EXITING</code> 。</font></font></font></p><pre class="programlisting">          INITIAL -&lt;---&lt;---&lt;---&lt;---&lt;---&lt;---&lt;---&lt;---&lt;---&lt;---&lt;---&lt;---\
             |                                                     |
             |                                                     ^
             |                                                     |
             v                 ret == 0                            |
      sd_event_prepare() &gt;---&gt;---&gt;---&gt;---&gt;- ARMED                  |
             |                                |                    ^
             | ret &gt; 0                        |                    |
             |                                |                    |
             v                                v          ret == 0  |
          PENDING &lt;---&lt;---&lt;---&lt;---&lt;---&lt; sd_event_wait() &gt;---&gt;---&gt;--+
             |           ret &gt; 0                                   ^
             |                                                     |
             |                                                     |
             v                                                     |
      sd_event_dispatch() &gt;---&gt;---&gt;---&gt;---&gt;---&gt;---&gt;---&gt;---&gt;---&gt;---&gt;/
             |                             ret &gt; 0
             | ret == 0
             |
             v
          FINISHED
    </pre></div><div class="refsect1" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><a name="id-1.7" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"></a><h2 id="Return Value" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">Return Value<a class="headerlink" title="Permalink to this headline" href="#Return%20Value" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">返回值 ¶</font></font></font></h2><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">On success, these functions return 0 or a positive integer.  On failure, they return a negative
    errno-style error code. In case of <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code> and
    <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_wait()</code>, a positive, non-zero return code indicates that events are ready to
    be processed and zero indicates that no events are ready. In case of
    <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_dispatch()</code>, a positive, non-zero return code indicates that the event loop
    returned to its initial state and zero indicates the event loop has
    exited. <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_get_state()</code> returns a positive or zero state on success.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">成功时，这些函数返回 0 或正整数。失败时，它们返回负的 errno 风格的错误代码。在 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code> 和 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_wait()</code> 的情况下，正的、非零的返回代码表示事件已准备就绪，零表示没有事件准备就绪。在 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_dispatch()</code> 的情况下，正的、非零的返回代码表示事件循环返回到初始状态，零表示事件循环已退出。 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_get_state()</code> 在成功时返回正数或零状态。</font></font></font></p><div class="refsect2" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><a name="id-1.7.3" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"></a><h3 id="Errors" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">Errors<a class="headerlink" title="Permalink to this headline" href="#Errors" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">错误 ¶</font></font></font></h3><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">Returned errors may indicate the following problems:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">返回的错误可能表示以下问题：</font></font></font></p><div class="variablelist" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><dl class="variablelist" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><dt id="-EINVAL" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">-EINVAL</code></span><a class="headerlink" title="Permalink to this term" href="#-EINVAL" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">¶</a></dt><dd data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">The <em class="parameter" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><code data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">event</code></em> parameter is invalid or <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">NULL</code>.
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">event</code> 参数无效或 <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">NULL</code> 。</font></font></font></p></dd><dt id="-EBUSY" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">-EBUSY</code></span><a class="headerlink" title="Permalink to this term" href="#-EBUSY" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">¶</a></dt><dd data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">The event loop object is not in the right state.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">事件循环对象不处于正确的状态。</font></font></font></p></dd><dt id="-ESTALE" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">-ESTALE</code></span><a class="headerlink" title="Permalink to this term" href="#-ESTALE" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">¶</a></dt><dd data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">The event loop is already terminated.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">事件循环已经终止。</font></font></font></p></dd><dt id="-ECHILD" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">-ECHILD</code></span><a class="headerlink" title="Permalink to this term" href="#-ECHILD" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">¶</a></dt><dd data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">The event loop has been created in a different process, library or module instance.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">事件循环已在不同的进程、库或模块实例中创建。</font></font></font></p></dd></dl></div><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">Other errors are possible, too.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">其他错误也是可能的。</font></font></font></p></div></div><div class="refsect1" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><a name="id-1.8" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"></a><h2 id="Notes" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">Notes<a class="headerlink" title="Permalink to this headline" href="#Notes" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">注意事项 ¶</font></font></font></h2><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><a name="pkgconfig-text" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"></a>Functions described here are available as a shared
  library, which can be compiled against and linked to with the
  <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">libsystemd</code>&nbsp;<a href="http://linux.die.net/man/1/pkg-config" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="citerefentry" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="refentrytitle" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">pkg-config</span>(1)</span></a>
  file.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处描述的函数可作为共享库使用，可以通过 <code class="constant" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">libsystemd</code> pkg-config(1) 文件进行编译和链接。</font></font></font></p><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><a name="getenv" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"></a>The code described here uses
<a href="https://man7.org/linux/man-pages/man3/getenv.3.html" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="citerefentry" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="refentrytitle" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">getenv</span>(3)</span></a>,
which is declared to be not multi-thread-safe. This means that the code calling the functions described
here must not call
<a href="https://man7.org/linux/man-pages/man3/setenv.3.html" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="citerefentry" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="refentrytitle" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">setenv</span>(3)</span></a>
from a parallel thread. It is recommended to only do calls to <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">setenv()</code>
from an early phase of the program when no other threads have been started.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处描述的代码使用了 getenv(3)，该函数被声明为非多线程安全。这意味着调用此处描述的函数的代码不能从并行线程中调用 setenv(3)。建议仅在程序的早期阶段进行对 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">setenv()</code> 的调用，此时尚未启动其他线程。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><a name="id-1.9" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"></a><h2 id="History" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">History<a class="headerlink" title="Permalink to this headline" href="#History" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">历史 ¶</font></font></font></h2><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code>,
    <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_wait()</code>, and
    <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_dispatch()</code> were added in version 220.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_prepare()</code> ， <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_wait()</code> 和 <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_dispatch()</code> 在版本 220 中添加。</font></font></font></p><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_get_state()</code> was added in version 229.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_get_state()</code> 在版本 229 中添加。</font></font></font></p><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_get_iteration()</code> was added in version 231.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_get_iteration()</code> 已在版本 231 中添加。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><a name="id-1.10" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"></a><h2 id="See Also" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">参见 ¶</font></font></font></h2><p data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481" data-immersive-translate-paragraph="1">
      <a href="systemd.html#" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="citerefentry" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="refentrytitle" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">systemd</span>(1)</span></a>,
      <a href="sd_event_new.html#" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="citerefentry" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="refentrytitle" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_new</span>(3)</span></a>,
      <a href="sd_event_add_io.html#" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="citerefentry" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="refentrytitle" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_add_io</span>(3)</span></a>,
      <a href="sd_event_add_time.html#" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="citerefentry" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="refentrytitle" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_add_time</span>(3)</span></a>,
      <a href="sd_event_add_signal.html#" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="citerefentry" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="refentrytitle" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_add_signal</span>(3)</span></a>,
      <a href="sd_event_add_child.html#" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="citerefentry" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="refentrytitle" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_add_child</span>(3)</span></a>,
      <a href="sd_event_add_inotify.html#" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="citerefentry" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="refentrytitle" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_add_inotify</span>(3)</span></a>,
      <a href="sd_event_add_defer.html#" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="citerefentry" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="refentrytitle" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_add_defer</span>(3)</span></a>,
      <a href="sd_event_run.html#" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="citerefentry" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="refentrytitle" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_run</span>(3)</span></a>,
      <a href="sd_event_get_fd.html#" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="citerefentry" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="refentrytitle" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_get_fd</span>(3)</span></a>,
      <a href="sd_event_source_set_prepare.html#" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="citerefentry" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481"><span class="refentrytitle" data-immersive-translate-walked="db8d10de-2168-4184-9533-cce42e43d481">sd_event_source_set_prepare</span>(3)</span></a>
    </p></div></div>
</body></html>