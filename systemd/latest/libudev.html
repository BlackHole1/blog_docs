<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>libudev</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><a name="libudev" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"></a><div class="titlepage" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"></div><div class="refnamediv" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><h2 data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1" data-immersive-translate-paragraph="1">libudev — API for enumerating and introspecting local devices<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">libudev — 用于枚举和审查本地设备的 API</font></font></font></p></div><div class="refsynopsisdiv" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><h2 data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">简介</font></font></font></h2><div class="funcsynopsis"><pre class="funcsynopsisinfo">#include &lt;libudev.h&gt;</pre></div><div class="cmdsynopsis" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><p data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><code class="command" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">pkg-config --cflags --libs libudev</code> </p></div></div><div class="refsect1" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><a name="id-1.5" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"></a><h2 id="Description" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1" data-immersive-translate-paragraph="1"><code class="filename" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">libudev.h</code> provides an API to introspect and enumerate devices on the local
    system. This library is supported, but should not be used in new projects. Please see
    <a href="sd-device.html#" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="citerefentry" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="refentrytitle" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">sd-device</span>(3)</span></a> for an
    equivalent replacement with a more modern API.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="filename" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">libudev.h</code> 提供了一个 API，用于审查和枚举本地系统上的设备。该库得到支持，但不应在新项目中使用。请参阅 sd-device(3) 以获取具有更现代 API 的等效替代方案。</font></font></font></p><p data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1" data-immersive-translate-paragraph="1">All functions require a libudev context to operate. This
    context can be created via
    <a href="udev_new.html#" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="citerefentry" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="refentrytitle" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">udev_new</span>(3)</span></a>.
    It is used to track library state and link objects together. No
    global state is used by libudev, everything is always linked to
    a udev context.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">所有函数都需要一个 libudev 上下文来运行。此上下文可以通过 udev_new(3) 创建。它用于跟踪库状态并将对象链接在一起。libudev 不使用全局状态，一切始终与 udev 上下文相关联。</font></font></font></p><p data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1" data-immersive-translate-paragraph="1"><a name="strict" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"></a>All functions listed here are thread-agnostic and only a single specific thread may operate on a
given object during its entire lifetime. It's safe to allocate multiple independent objects and use each from a
specific thread in parallel. However, it's not safe to allocate such an object in one thread, and operate or free it
from any other, even if locking is used to ensure these threads don't operate on it at the very same time.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处列出的所有函数都与线程无关，只能有一个特定的线程在整个生命周期内操作给定对象。安全地分配多个独立对象，并在并行线程中使用每个对象。但是，在一个线程中分配这样的对象，然后在任何其他线程中操作或释放它是不安全的，即使使用锁定来确保这些线程不会同时对其进行操作。</font></font></font></p><p data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1" data-immersive-translate-paragraph="1"><a name="getenv" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"></a>The code described here uses
<a href="https://man7.org/linux/man-pages/man3/getenv.3.html" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="citerefentry" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="refentrytitle" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">getenv</span>(3)</span></a>,
which is declared to be not multi-thread-safe. This means that the code calling the functions described
here must not call
<a href="https://man7.org/linux/man-pages/man3/setenv.3.html" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="citerefentry" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="refentrytitle" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">setenv</span>(3)</span></a>
from a parallel thread. It is recommended to only do calls to <code class="function" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">setenv()</code>
from an early phase of the program when no other threads have been started.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处描述的代码使用了 getenv(3)，该函数被声明为非多线程安全。这意味着调用此处描述的函数的代码不能从并行线程中调用 setenv(3)。建议仅在程序的早期阶段进行对 <code class="function" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">setenv()</code> 的调用，此时尚未启动其他线程。</font></font></font></p><p data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1" data-immersive-translate-paragraph="1">To introspect a local device on a system, a udev device
    object can be created via
    <a href="udev_device_new_from_syspath.html#" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="citerefentry" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="refentrytitle" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">udev_device_new_from_syspath</span>(3)</span></a>
    and friends. The device object allows one to query current state,
    read and write attributes and lookup properties of the device in
    question.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要检查系统上的本地设备，可以通过 udev_device_new_from_syspath(3) 和相关函数创建一个 udev 设备对象。该设备对象允许查询当前状态，读取和写入属性，并查找所讨论设备的属性。</font></font></font></p><p data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1" data-immersive-translate-paragraph="1">To enumerate local devices on the system, an enumeration
    object can be created via
    <a href="udev_enumerate_new.html#" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="citerefentry" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="refentrytitle" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">udev_enumerate_new</span>(3)</span></a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要枚举系统上的本地设备，可以通过 udev_enumerate_new(3) 创建一个枚举对象。</font></font></font></p><p data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1" data-immersive-translate-paragraph="1">To monitor the local system for hotplugged or unplugged
    devices, a monitor can be created via
    <a href="udev_monitor_new_from_netlink.html#" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="citerefentry" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="refentrytitle" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">udev_monitor_new_from_netlink</span>(3)</span></a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要监视本地系统以获取热插拔或拔出的设备，可以通过 udev_monitor_new_from_netlink(3) 创建一个监视器。</font></font></font></p><p data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1" data-immersive-translate-paragraph="1">Whenever libudev returns a list of objects, the
    <a href="udev_list_entry.html#" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="citerefentry" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="refentrytitle" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">udev_list_entry</span>(3)</span></a>
    API should be used to iterate, access and modify those lists.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">每当 libudev 返回一个对象列表时，应使用 udev_list_entry(3) API 来迭代、访问和修改这些列表。</font></font></font></p><p data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1" data-immersive-translate-paragraph="1">Furthermore, libudev also exports legacy APIs that should
    not be used by new software (and as such are not documented as
    part of this manual). This includes the hardware database known
    as <code class="constant" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">udev_hwdb</code> (please use the new
    <a href="sd-hwdb.html#" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="citerefentry" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="refentrytitle" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">sd-hwdb</span>(3)</span></a>
    API instead) and the <code class="constant" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">udev_queue</code> object to
    query the udev daemon (which should not be used by new software
    at all).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此外，libudev 还导出了不应该被新软件使用的传统 API（因此未作为本手册的一部分进行文档化）。这包括被称为 <code class="constant" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">udev_hwdb</code> 的硬件数据库（请改用新的 sd-hwdb(3) API）和用于查询 udev 守护进程的 <code class="constant" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">udev_queue</code> 对象（新软件根本不应该使用）。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><a name="id-1.6" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"></a><h2 id="See Also" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1" data-immersive-translate-paragraph="1">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">参见 ¶</font></font></font></h2><p data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1" data-immersive-translate-paragraph="1">
      <a href="udev_new.html#" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="citerefentry" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="refentrytitle" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">udev_new</span>(3)</span></a>,
      <a href="udev_device_new_from_syspath.html#" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="citerefentry" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="refentrytitle" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">udev_device_new_from_syspath</span>(3)</span></a>,
      <a href="udev_enumerate_new.html#" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="citerefentry" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="refentrytitle" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">udev_enumerate_new</span>(3)</span></a>,
      <a href="udev_monitor_new_from_netlink.html#" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="citerefentry" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="refentrytitle" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">udev_monitor_new_from_netlink</span>(3)</span></a>,
      <a href="udev_list_entry.html#" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="citerefentry" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="refentrytitle" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">udev_list_entry</span>(3)</span></a>,
      <a href="systemd.html#" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="citerefentry" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="refentrytitle" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">systemd</span>(1)</span></a>,
      <a href="sd-device.html#" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="citerefentry" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="refentrytitle" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">sd-device</span>(3)</span></a>,
      <a href="sd-hwdb.html#" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="citerefentry" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="refentrytitle" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">sd-hwdb</span>(3)</span></a>,
      <a href="http://linux.die.net/man/1/pkg-config" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="citerefentry" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1"><span class="refentrytitle" data-immersive-translate-walked="9dba9452-7a5c-4e9c-89fa-4081378560a1">pkg-config</span>(1)</span></a>
    </p></div></div>
</body></html>