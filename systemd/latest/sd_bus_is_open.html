<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>sd_bus_is_open</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><a name="sd_bus_is_open" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"></a><div class="titlepage" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"></div><div class="refnamediv" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><h2 data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1">sd_bus_is_open, sd_bus_is_ready — Check whether the bus connection is open or ready<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">sd_bus_is_open，sd_bus_is_ready — 检查总线连接是否打开或准备就绪</font></font></font></p></div><div class="refsynopsisdiv" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><h2 data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">概要</font></font></font></h2><div class="funcsynopsis"><pre class="funcsynopsisinfo">#include &lt;systemd/sd-bus.h&gt;</pre><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_is_open</b>(</code></td><td>sd_bus *<var class="pdparam">bus</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_bus_is_ready</b>(</code></td><td>sd_bus *<var class="pdparam">bus</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div></div></div><div class="refsect1" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><a name="id-1.5" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"></a><h2 id="Description" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">sd_bus_is_open()</code> checks whether the specified bus connection is open, i.e. in the
    process of being established, already established or in the process of being torn down. It returns zero when the
    connection has not been started yet
    (i.e. <a href="sd_bus_start.html#" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><span class="citerefentry" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><span class="refentrytitle" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">sd_bus_start</span>(3)</span></a> or some
    equivalent call has not been invoked yet), or is fully terminated again (for example after
    <a href="sd_bus_close.html#" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><span class="citerefentry" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><span class="refentrytitle" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">sd_bus_close</span>(3)</span></a>), it returns
    positive otherwise.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">sd_bus_is_open()</code> 检查指定的总线连接是否打开，即正在建立过程中、已经建立或正在被拆除过程中。当连接尚未启动（即尚未调用 sd_bus_start(3)或某等效调用）或已完全终止（例如在 sd_bus_close(3)之后）时返回零，否则返回正数。</font></font></font></p><p data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">sd_bus_is_ready()</code> checks whether the specified connection is fully established,
    i.e. completed the connection and authentication phases of the protocol and received the
    <code class="function" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">Hello()</code> method call response, and is not in the process of being torn down again. It returns
    zero outside of this state, and positive otherwise. Effectively, this function returns positive while regular
    messages can be sent or received on the connection.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">sd_bus_is_ready()</code> 检查指定的连接是否完全建立，即完成了协议的连接和认证阶段，并收到了 <code class="function" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">Hello()</code> 方法调用的响应，并且不再处于再次被拆除的过程中。在此状态之外返回零，否则返回正数。实际上，此函数在连接上可以发送或接收常规消息时返回正数。</font></font></font></p><p data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1">The <em class="parameter" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><code data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">bus</code></em> argument may be <code class="constant" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">NULL</code>, zero is also returned in
    that case.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">bus</code> 参数可能是 <code class="constant" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">NULL</code> ，在这种情况下也会返回零。</font></font></font></p><p data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1">To be notified when the connection is fully established, use
    <a href="sd_bus_set_connected_signal.html#" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><span class="citerefentry" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><span class="refentrytitle" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">sd_bus_set_connected_signal</span>(3)</span></a> and
    install a match for the <code class="function" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">Connected()</code> signal on the
    "<code class="literal" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">org.freedesktop.DBus.Local</code>" interface. To be notified when the connection is torn down again,
    install a match for the <code class="function" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">Disconnected()</code> signal on the
    "<code class="literal" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">org.freedesktop.DBus.Local</code>" interface.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要在连接完全建立时收到通知，请使用 sd_bus_set_connected_signal(3) 并在“ <code class="literal" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">org.freedesktop.DBus.Local</code> ”接口上安装 <code class="function" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">Connected()</code> 信号的匹配项。要在连接再次中断时收到通知，请在“ <code class="literal" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">org.freedesktop.DBus.Local</code> ”接口上安装 <code class="function" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">Disconnected()</code> 信号的匹配项。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><a name="id-1.6" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"></a><h2 id="Return Value" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1">Return Value<a class="headerlink" title="Permalink to this headline" href="#Return%20Value" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">返回值</font></font></font></h2><p data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1">Those functions return 0 if the bus is <span class="emphasis" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><em data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">not</em></span> in the given state, and a positive
    integer when it is. On failure, a negative errno-style error code is returned.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果总线不处于给定状态，则这些函数返回 0，如果总线处于给定状态，则返回正整数。失败时，将返回负的 errno 风格错误代码。</font></font></font></p><div class="refsect2" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><a name="id-1.6.3" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"></a><h3 id="Errors" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1">Errors<a class="headerlink" title="Permalink to this headline" href="#Errors" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">错误</font></font></font></h3><p data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1">Returned errors may indicate the following problems:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">返回的错误可能表示以下问题：</font></font></font></p><div class="variablelist" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><dl class="variablelist" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><dt id="-ECHILD" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><code class="constant" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">-ECHILD</code></span><a class="headerlink" title="Permalink to this term" href="#-ECHILD" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">¶</a></dt><dd data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><p data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1">The bus connection has been created in a different process, library or module instance.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">公交连接已在不同的进程、库或模块实例中创建。</font></font></font></p></dd></dl></div></div></div><div class="refsect1" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><a name="id-1.7" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"></a><h2 id="Notes" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1">Notes<a class="headerlink" title="Permalink to this headline" href="#Notes" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">笔记 ¶</font></font></font></h2><p data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1"><a name="pkgconfig-text" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"></a>Functions described here are available as a shared
  library, which can be compiled against and linked to with the
  <code class="constant" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">libsystemd</code>&nbsp;<a href="http://linux.die.net/man/1/pkg-config" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><span class="citerefentry" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><span class="refentrytitle" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">pkg-config</span>(1)</span></a>
  file.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处描述的函数可作为共享库使用，可以与 <code class="constant" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">libsystemd</code> pkg-config(1) 文件一起编译并链接。</font></font></font></p><p data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1"><a name="getenv" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"></a>The code described here uses
<a href="https://man7.org/linux/man-pages/man3/getenv.3.html" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><span class="citerefentry" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><span class="refentrytitle" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">getenv</span>(3)</span></a>,
which is declared to be not multi-thread-safe. This means that the code calling the functions described
here must not call
<a href="https://man7.org/linux/man-pages/man3/setenv.3.html" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><span class="citerefentry" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><span class="refentrytitle" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">setenv</span>(3)</span></a>
from a parallel thread. It is recommended to only do calls to <code class="function" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">setenv()</code>
from an early phase of the program when no other threads have been started.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处描述的代码使用了 getenv(3)，该函数被声明为不支持多线程安全。这意味着调用此处描述的函数的代码不能从并行线程中调用 setenv(3)。建议仅在程序的早期阶段（没有启动其他线程时）调用 <code class="function" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">setenv()</code> 。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><a name="id-1.8" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"></a><h2 id="History" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1">History<a class="headerlink" title="Permalink to this headline" href="#History" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">历史 ¶</font></font></font></h2><p data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">sd_bus_is_open()</code> and
    <code class="function" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">sd_bus_is_ready()</code> were added in version 237.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">sd_bus_is_open()</code> 和 <code class="function" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">sd_bus_is_ready()</code> 已在版本 237 中添加。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><a name="id-1.9" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"></a><h2 id="See Also" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">另请参阅 ¶</font></font></font></h2><p data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13" data-immersive-translate-paragraph="1">
      <a href="systemd.html#" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><span class="citerefentry" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><span class="refentrytitle" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">systemd</span>(1)</span></a>,
      <a href="sd-bus.html#" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><span class="citerefentry" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><span class="refentrytitle" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">sd-bus</span>(3)</span></a>,
      <a href="sd_bus_start.html#" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><span class="citerefentry" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><span class="refentrytitle" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">sd_bus_start</span>(3)</span></a>,
      <a href="sd_bus_close.html#" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><span class="citerefentry" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><span class="refentrytitle" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">sd_bus_close</span>(3)</span></a>,
      <a href="sd_bus_set_connected_signal.html#" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><span class="citerefentry" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13"><span class="refentrytitle" data-immersive-translate-walked="38238364-f77c-4c66-a616-8d1c7fe95d13">sd_bus_set_connected_signal</span>(3)</span></a>
    </p></div></div>
</body></html>