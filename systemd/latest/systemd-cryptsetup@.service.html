<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>systemd-cryptsetup</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><a name="systemd-cryptsetup" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"></a><div class="titlepage" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"></div><div class="refnamediv" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><h2 data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610" data-immersive-translate-paragraph="1">systemd-cryptsetup, systemd-cryptsetup@.service — Full disk decryption logic<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">systemd-cryptsetup，systemd-cryptsetup@.service — 完整磁盘解密逻辑</font></font></font></p></div><div class="refsynopsisdiv" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><h2 data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">简介</font></font></font></h2><div class="cmdsynopsis" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><p data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610" data-immersive-translate-paragraph="1"><code class="command" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd-cryptsetup</code>  [OPTIONS...]  attach   VOLUME   SOURCE-DEVICE  [KEY-FILE] [CONFIG]<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="command" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd-cryptsetup</code> [选项...] 附加卷 源设备 [密钥文件] [配置]</font></font></font></p></div><div class="cmdsynopsis" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><p data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610" data-immersive-translate-paragraph="1"><code class="command" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd-cryptsetup</code>  [OPTIONS...]  detach   VOLUME <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="command" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd-cryptsetup</code> [选项...] 分离卷</font></font></font></p></div><p data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd-cryptsetup@.service</code></p><p data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">system-systemd\x2dcryptsetup.slice</code></p></div><div class="refsect1" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><a name="id-1.5" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"></a><h2 id="Description" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610" data-immersive-translate-paragraph="1"><code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd-cryptsetup</code> is used to set up (with <span class="command" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><strong data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">attach</strong></span>) and tear
    down (with <span class="command" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><strong data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">detach</strong></span>) access to an encrypted block device. It is primarily used via
    <code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd-cryptsetup@.service</code> during early boot, but may also be be called manually.
    The positional arguments <em class="parameter" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><code data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">VOLUME</code></em>, <em class="parameter" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><code data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">SOURCEDEVICE</code></em>,
    <em class="parameter" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><code data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">KEY-FILE</code></em>, and <em class="parameter" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><code data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">CRYPTTAB-OPTIONS</code></em> have the same meaning as the
    fields in <a href="crypttab.html#" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><span class="citerefentry" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><span class="refentrytitle" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">crypttab</span>(5)</span></a>.
    <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd-cryptsetup</code> 用于设置（使用 attach）和拆除（使用 detach）对加密块设备的访问。它主要通过 <code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd-cryptsetup@.service</code> 在早期引导期间使用，但也可以手动调用。位置参数 <code data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">VOLUME</code> ， <code data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">SOURCEDEVICE</code> ， <code data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">KEY-FILE</code> 和 <code data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">CRYPTTAB-OPTIONS</code> 的含义与 crypttab(5) 中的字段相同。</font></font></font></p><p data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610" data-immersive-translate-paragraph="1"><code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd-cryptsetup@.service</code> is a service responsible for providing access to
    encrypted block devices. It is instantiated for each device that requires decryption.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd-cryptsetup@.service</code> 是负责提供对加密块设备访问的服务。为每个需要解密的设备实例化。</font></font></font></p><p data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610" data-immersive-translate-paragraph="1"><code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd-cryptsetup@.service</code> instances are part of the
    <code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">system-systemd\x2dcryptsetup.slice</code> slice, which is destroyed only very late in the
    shutdown procedure. This allows the encrypted devices to remain up until filesystems have been unmounted.
    <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd-cryptsetup@.service</code> 实例是 <code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">system-systemd\x2dcryptsetup.slice</code> 切片的一部分，该切片仅在关机过程的最后阶段才被销毁。这样可以使加密设备保持运行，直到文件系统被卸载。</font></font></font></p><p data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610" data-immersive-translate-paragraph="1"><code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd-cryptsetup@.service</code> will ask
    for hard disk passwords via the <a class="ulink" href="https://systemd.io/PASSWORD_AGENTS/" target="_top" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">password agent logic</a>, in
    order to query the user for the password using the right mechanism at boot
    and during runtime.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd-cryptsetup@.service</code> 将通过密码代理逻辑请求硬盘密码，以便在启动和运行时使用正确的机制向用户查询密码。</font></font></font></p><p data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610" data-immersive-translate-paragraph="1">At early boot and when the system manager configuration is reloaded, <code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">/etc/crypttab</code> is
    translated into <code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd-cryptsetup@.service</code> units by
    <a href="systemd-cryptsetup-generator.html#" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><span class="citerefentry" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><span class="refentrytitle" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd-cryptsetup-generator</span>(8)</span></a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在早期启动和重新加载系统管理器配置时， <code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">/etc/crypttab</code> 会被 systemd-cryptsetup-generator(8)转换为 <code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd-cryptsetup@.service</code> 单元。</font></font></font></p><p data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610" data-immersive-translate-paragraph="1">In order to unlock a volume a password or binary key is required.
    <code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd-cryptsetup@.service</code> tries to acquire a suitable password or binary key via
    the following mechanisms, tried in order:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">为了解锁卷，需要密码或二进制密钥。 <code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd-cryptsetup@.service</code> 尝试通过以下机制获取合适的密码或二进制密钥，按顺序尝试：</font></font></font></p><div class="orderedlist" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><ol class="orderedlist" type="1" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><li class="listitem" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><p data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610" data-immersive-translate-paragraph="1">If a key file is explicitly configured (via the third column in
      <code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">/etc/crypttab</code>), a key read from it is used. If a PKCS#11 token, FIDO2 token or
      TPM2 device is configured (using the <code class="varname" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">pkcs11-uri=</code>, <code class="varname" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">fido2-device=</code>,
      <code class="varname" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">tpm2-device=</code> options) the key is decrypted before use.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果通过第三列在 <code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">/etc/crypttab</code> 中明确配置了密钥文件，则使用从中读取的密钥。如果配置了 PKCS#11 令牌、FIDO2 令牌或 TPM2 设备（使用 <code class="varname" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">pkcs11-uri=</code> 、 <code class="varname" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">fido2-device=</code> 、 <code class="varname" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">tpm2-device=</code> 选项），则在使用之前解密密钥。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><p data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610" data-immersive-translate-paragraph="1">If no key file is configured explicitly this way, a key file is automatically loaded
      from <code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">/etc/cryptsetup-keys.d/<em class="replaceable"><code>volume</code></em>.key</code> and
      <code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">/run/cryptsetup-keys.d/<em class="replaceable"><code>volume</code></em>.key</code>, if present. Here
      too, if a PKCS#11/FIDO2/TPM2 token/device is configured, any key found this way is decrypted before
      use.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果没有通过明确配置密钥文件的方式，密钥文件会自动从 <code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">/etc/cryptsetup-keys.d/<em class="replaceable"><code>volume</code></em>.key</code> 和 <code class="filename" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">/run/cryptsetup-keys.d/<em class="replaceable"><code>volume</code></em>.key</code> 中加载，如果存在的话。同样，如果配置了 PKCS#11/FIDO2/TPM2 令牌/设备，则在使用之前会解密通过此方式找到的任何密钥。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><p data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610" data-immersive-translate-paragraph="1">If the <code class="varname" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">try-empty-password</code> option is specified then unlocking the
      volume with an empty password is attempted.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果指定了 <code class="varname" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">try-empty-password</code> 选项，则尝试使用空密码解锁卷。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><p data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610" data-immersive-translate-paragraph="1">The kernel keyring is then checked for a suitable cached password from previous
      attempts.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内核密钥环然后检查以前尝试中的合适缓存密码。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><p data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610" data-immersive-translate-paragraph="1">Finally, the user is queried for a password, possibly multiple times, unless
      the <code class="varname" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">headless</code> option is set.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">最后，用户被询问密码，可能会多次，除非设置了 <code class="varname" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">headless</code> 选项。</font></font></font></p></li></ol></div><p data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610" data-immersive-translate-paragraph="1">If no suitable key may be acquired via any of the mechanisms describes above, volume activation fails.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果没有通过上述任何机制获得合适的密钥，则卷激活将失败。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><a name="id-1.6" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"></a><h2 id="See Also" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610" data-immersive-translate-paragraph="1">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">参见 ¶</font></font></font></h2><p data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610" data-immersive-translate-paragraph="1">
      <a href="systemd.html#" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><span class="citerefentry" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><span class="refentrytitle" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd</span>(1)</span></a>,
      <a href="systemd-cryptsetup-generator.html#" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><span class="citerefentry" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><span class="refentrytitle" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd-cryptsetup-generator</span>(8)</span></a>,
      <a href="crypttab.html#" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><span class="citerefentry" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><span class="refentrytitle" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">crypttab</span>(5)</span></a>,
      <a href="systemd-cryptenroll.html#" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><span class="citerefentry" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><span class="refentrytitle" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">systemd-cryptenroll</span>(1)</span></a>,
      <a href="http://linux.die.net/man/8/cryptsetup" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><span class="citerefentry" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610"><span class="refentrytitle" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">cryptsetup</span>(8)</span></a>,
      <a class="ulink" href="https://systemd.io/TPM2_PCR_MEASUREMENTS" target="_top" data-immersive-translate-walked="421c3630-2601-4b8b-b20c-a0cc9b348610">TPM2 PCR Measurements Made by systemd</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">systemd(1), systemd-cryptsetup-generator(8), crypttab(5), systemd-cryptenroll(1), cryptsetup(8), systemd 由 TPM2 PCR 测量</font></font></font>
     </p></div></div>
</body></html>