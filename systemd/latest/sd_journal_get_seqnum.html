<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>sd_journal_get_seqnum</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><a name="sd_journal_get_seqnum" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"></a><div class="titlepage" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"></div><div class="refnamediv" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><h2 data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c" data-immersive-translate-paragraph="1">sd_journal_get_seqnum — Read sequence number from the current journal entry<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">sd_journal_get_seqnum — 从当前日志条目中读取序列号</font></font></font></p></div><div class="refsynopsisdiv" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><h2 data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">概要</font></font></font></h2><div class="funcsynopsis"><pre class="funcsynopsisinfo">#include &lt;systemd/sd-journal.h&gt;</pre><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tbody><tr><td><code class="funcdef">int <b class="fsfunc">sd_journal_get_seqnum</b>(</code></td><td>sd_journal *<var class="pdparam">j</var>, </td></tr><tr><td>&nbsp;</td><td>uint64_t *<var class="pdparam">ret_seqnum</var>, </td></tr><tr><td>&nbsp;</td><td>sd_id128_t *<var class="pdparam">ret_seqnum_id</var><code>)</code>;</td></tr></tbody></table><div class="funcprototype-spacer">&nbsp;</div></div></div><div class="refsect1" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><a name="id-1.5" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"></a><h2 id="Description" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">sd_journal_get_seqnum()</code> returns the sequence number of the current journal
    entry. It takes three arguments: the journal context object, a pointer to a 64-bit unsigned integer to
    store the sequence number in, and a buffer to return the 128-bit sequence number ID in.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">sd_journal_get_seqnum()</code> 返回当前日志条目的序列号。它接受三个参数：日志上下文对象，用于存储序列号的 64 位无符号整数指针，以及返回 128 位序列号 ID 的缓冲区。</font></font></font></p><p data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c" data-immersive-translate-paragraph="1">When writing journal entries to disk each <span class="command" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><strong data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">systemd-journald</strong></span> instance will number
    them sequentially, starting from 1 for the first entry written after subsystem initialization. Each such
    series of sequence numbers is associated with a 128-bit sequence number ID which is initialized randomly,
    once at <span class="command" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><strong data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">systemd-journal</strong></span> initialization. Thus, while multiple instances of
    <span class="command" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><strong data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">systemd-journald</strong></span> will assign the same sequence numbers to their written journal
    entries, they will have a distinct sequence number IDs. The sequence number is assigned at the moment of
    writing the entry to disk. If log entries are rewritten (for example because the volatile logs from
    <code class="filename" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">/run/log/</code> are flushed to <code class="filename" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">/var/log/</code> via
    <code class="filename" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">systemd-journald-flush.service</code>) they will get new sequence numbers assigned.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将日志条目写入磁盘时，每个 systemd-journald 实例将按顺序对其进行编号，从子系统初始化后写入的第一个条目开始，从 1 开始递增。每个这样的序列号系列都与一个 128 位序列号 ID 相关联，该 ID 在 systemd-journal 初始化时随机初始化一次。因此，虽然多个 systemd-journald 实例将相同的序列号分配给其写入的日志条目，但它们将具有不同的序列号 ID。序列号在将条目写入磁盘时分配。如果日志条目被重写（例如，因为从 <code class="filename" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">/run/log/</code> 的易失性日志通过 <code class="filename" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">systemd-journald-flush.service</code> 刷新到 <code class="filename" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">/var/log/</code> ），它们将被分配新的序列号。</font></font></font></p><p data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c" data-immersive-translate-paragraph="1">Sequence numbers may be used to order entries (entries associated with the same sequence number ID
    and lower sequence numbers should be ordered chronologically before those with higher sequence numbers),
    and to detect lost entries. Note that journal service instances typically write to multiple journal files
    in parallel (for example because <code class="varname" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">SplitMode=</code> is used), in which case each journal file
    will only contain a subset of the sequence numbers. To recover the full stream of journal entries the
    files must be combined ("interleaved"), a process that primarily relies on the sequence numbers. When
    journal files are rotated (due to size or time limits), the series of sequence numbers is continued in
    the replacement files. All journal files generated from the same journal instance will carry the same
    sequence number ID.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">序列号可用于对条目进行排序（与相同序列号 ID 和较低序列号相关联的条目应在与较高序列号相关联的条目之前按时间顺序排序），并用于检测丢失的条目。请注意，日志服务实例通常并行写入多个日志文件（例如因为使用了 <code class="varname" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">SplitMode=</code> ），在这种情况下，每个日志文件将仅包含一部分序列号。要恢复日志条目的完整流，必须合并文件（“交错”），这个过程主要依赖于序列号。当日志文件被轮换（由于大小或时间限制），序列号系列将在替换文件中继续。从同一日志实例生成的所有日志文件将携带相同的序列号 ID。</font></font></font></p><p data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c" data-immersive-translate-paragraph="1">As the sequence numbers are assigned at the moment of writing the journal entries to disk they do
    not exist if storage is disabled via <code class="varname" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">SplitMode=</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">由于序列号是在将日志条目写入磁盘时分配的，如果通过 <code class="varname" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">SplitMode=</code> 禁用存储，则它们不存在。</font></font></font></p><p data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c" data-immersive-translate-paragraph="1">The <code class="varname" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">ret_seqnum</code> and <code class="varname" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">ret_seqnum_id</code> parameters may be specified
    as <code class="constant" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">NULL</code> in which case the relevant data is not returned (but the call will otherwise
    succeed).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可以将 <code class="varname" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">ret_seqnum</code> 和 <code class="varname" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">ret_seqnum_id</code> 参数指定为 <code class="constant" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">NULL</code> ，在这种情况下，相关数据不会返回（但调用将以其他方式成功）。</font></font></font></p><p data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c" data-immersive-translate-paragraph="1">Note that these functions will not work before
    <a href="sd_journal_next.html#" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><span class="citerefentry" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><span class="refentrytitle" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">sd_journal_next</span>(3)</span></a>
    (or related call) has been called at least
    once, in order to position the read pointer at a valid entry.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，这些函数在调用 sd_journal_next(3)（或相关调用）至少一次之前将不起作用，以便将读指针定位到有效条目。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><a name="id-1.6" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"></a><h2 id="Return Value" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c" data-immersive-translate-paragraph="1">Return Value<a class="headerlink" title="Permalink to this headline" href="#Return%20Value" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">返回值</font></font></font></h2><p data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">sd_journal_get_seqnum()</code> returns 0 on success or a negative errno-style error
    code..<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">sd_journal_get_seqnum()</code> 在成功时返回 0，或者返回一个负的 errno 风格的错误代码。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><a name="id-1.7" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"></a><h2 id="Notes" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c" data-immersive-translate-paragraph="1">Notes<a class="headerlink" title="Permalink to this headline" href="#Notes" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">笔记 ¶</font></font></font></h2><p data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c" data-immersive-translate-paragraph="1"><a name="strict" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"></a>All functions listed here are thread-agnostic and only a single specific thread may operate on a
given object during its entire lifetime. It's safe to allocate multiple independent objects and use each from a
specific thread in parallel. However, it's not safe to allocate such an object in one thread, and operate or free it
from any other, even if locking is used to ensure these threads don't operate on it at the very same time.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这里列出的所有函数都与线程无关，只能有一个特定的线程在其整个生命周期内操作给定的对象。可以安全地分配多个独立的对象，并在特定线程中并行使用每个对象。然而，不能在一个线程中分配这样的对象，然后在任何其他线程中操作或释放它，即使使用锁定来确保这些线程不会在同一时间操作它。</font></font></font></p><p data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c" data-immersive-translate-paragraph="1"><a name="pkgconfig-text" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"></a>Functions described here are available as a shared
  library, which can be compiled against and linked to with the
  <code class="constant" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">libsystemd</code>&nbsp;<a href="http://linux.die.net/man/1/pkg-config" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><span class="citerefentry" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><span class="refentrytitle" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">pkg-config</span>(1)</span></a>
  file.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此处描述的函数可作为共享库使用，可以与 <code class="constant" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">libsystemd</code> pkg-config(1) 文件一起编译并链接。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><a name="id-1.8" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"></a><h2 id="History" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c" data-immersive-translate-paragraph="1">History<a class="headerlink" title="Permalink to this headline" href="#History" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">历史 ¶</font></font></font></h2><p data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c" data-immersive-translate-paragraph="1"><code class="function" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">sd_journal_get_seqnum()</code> was added in version 254.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="function" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">sd_journal_get_seqnum()</code> 在版本 254 中添加。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><a name="id-1.9" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"></a><h2 id="See Also" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c" data-immersive-translate-paragraph="1">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">另请参阅 ¶</font></font></font></h2><p data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c" data-immersive-translate-paragraph="1">
      <a href="systemd.html#" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><span class="citerefentry" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><span class="refentrytitle" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">systemd</span>(1)</span></a>,
      <a href="sd-journal.html#" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><span class="citerefentry" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><span class="refentrytitle" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">sd-journal</span>(3)</span></a>,
      <a href="sd_journal_open.html#" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><span class="citerefentry" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><span class="refentrytitle" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">sd_journal_open</span>(3)</span></a>,
      <a href="sd_journal_next.html#" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><span class="citerefentry" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><span class="refentrytitle" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">sd_journal_next</span>(3)</span></a>,
      <a href="sd_journal_get_data.html#" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><span class="citerefentry" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><span class="refentrytitle" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">sd_journal_get_data</span>(3)</span></a>,
      <a href="sd_journal_get_monotonic_usec.html#" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><span class="citerefentry" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c"><span class="refentrytitle" data-immersive-translate-walked="c76fb0fa-b0dd-4beb-a862-606be86f9e3c">sd_journal_get_monotonic_usec</span>(3)</span></a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">systemd(1)，sd-journal(3)，sd_journal_open(3)，sd_journal_next(3)，sd_journal_get_data(3)，sd_journal_get_monotonic_usec(3)</font></font></font>
    </p></div></div>
</body></html>