<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>systemd.resource-control</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><a name="systemd.resource-control" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a><div class="titlepage" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></div><div class="refnamediv" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><h2 data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">systemd.resource-control — Resource control unit settings<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">systemd.resource-control — 资源控制单元设置</font></font></font></p></div><div class="refsynopsisdiv" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><h2 data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">概要</font></font></font></h2><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">
      <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><em class="replaceable"><code>slice</code></em>.slice</code>,
      <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><em class="replaceable"><code>scope</code></em>.scope</code>,
      <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><em class="replaceable"><code>service</code></em>.service</code>,
      <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><em class="replaceable"><code>socket</code></em>.socket</code>,
      <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><em class="replaceable"><code>mount</code></em>.mount</code>,
      <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><em class="replaceable"><code>swap</code></em>.swap</code>
    </p></div><div class="refsect1" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><a name="id-1.5" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a><h2 id="Description" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Unit configuration files for services, slices, scopes, sockets, mount points, and swap devices share a subset
    of configuration options for resource control of spawned processes. Internally, this relies on the Linux Control
    Groups (cgroups) kernel concept for organizing processes in a hierarchical tree of named groups for the purpose of
    resource management.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">服务、切片、范围、套接字、挂载点和交换设备的单元配置文件共享一组用于控制生成进程资源的配置选项。在内部，这依赖于 Linux 控制组（cgroups）内核概念，用于将进程组织成具有命名组的分层树，以便进行资源管理。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">This man page lists the configuration options shared by
    those six unit types. See
    <a href="systemd.unit.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.unit</span>(5)</span></a>
    for the common options of all unit configuration files, and
    <a href="systemd.slice.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.slice</span>(5)</span></a>,
    <a href="systemd.scope.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.scope</span>(5)</span></a>,
    <a href="systemd.service.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.service</span>(5)</span></a>,
    <a href="systemd.socket.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.socket</span>(5)</span></a>,
    <a href="systemd.mount.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.mount</span>(5)</span></a>,
    and
    <a href="systemd.swap.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.swap</span>(5)</span></a>
    for more information on the specific unit configuration files. The
    resource control configuration options are configured in the
    [Slice], [Scope], [Service], [Socket], [Mount], or [Swap]
    sections, depending on the unit type.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">本手册列出了这六种单元类型共享的配置选项。有关所有单元配置文件的常见选项，请参阅 systemd.unit(5)，有关特定单元配置文件的更多信息，请参阅 systemd.slice(5)、systemd.scope(5)、systemd.service(5)、systemd.socket(5)、systemd.mount(5) 和 systemd.swap(5)。资源控制配置选项在 [Slice]、[Scope]、[Service]、[Socket]、[Mount] 或 [Swap] 部分中进行配置，具体取决于单元类型。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">In addition, options which control resources available to programs
    <span class="emphasis" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><em data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">executed</em></span> by systemd are listed in
    <a href="systemd.exec.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.exec</span>(5)</span></a>.
    Those options complement options listed here.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">除此之外，控制 systemd 执行的程序可用资源的选项列在 systemd.exec(5) 中。这些选项补充了此处列出的选项。</font></font></font></p><div class="refsect2" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><a name="id-1.5.5" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a><h3 id="Enabling and disabling controllers" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Enabling and disabling controllers<a class="headerlink" title="Permalink to this headline" href="#Enabling%20and%20disabling%20controllers" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">启用和禁用控制器 ¶</font></font></font></h3><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Controllers in the cgroup hierarchy are hierarchical, and resource control is realized by
      distributing resource assignments between siblings in branches of the cgroup hierarchy. There is no
      need to explicitly <span class="emphasis" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><em data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">enable</em></span> a cgroup controller for a unit.
      <span class="command" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><strong data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd</strong></span> will instruct the kernel to enable a controller for a given unit when this
      unit has configuration for a given controller. For example, when <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUWeight=</code> is set,
      the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu</code> controller will be enabled, and when <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">TasksMax=</code> are set, the
      <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">pids</code> controller will be enabled. In addition, various controllers may be also be
      enabled explicitly via the
      <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryAccounting=</code>/<code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">TasksAccounting=</code>/<code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IOAccounting=</code>
      settings. Because of how the cgroup hierarchy works, controllers will be automatically enabled for all
      parent units and for any sibling units starting with the lowest level at which a controller is enabled.
      Units for which a controller is enabled may be subject to resource control even if they don't have any
      explicit configuration.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">cgroup 层次结构中的控制器是分层的，资源控制通过在 cgroup 层次结构的分支中的兄弟之间分配资源分配来实现。对于一个单元，没有必要显式启用 cgroup 控制器。当这个单元为给定的控制器配置时，systemd 会指示内核为给定的单元启用一个控制器。例如，当设置 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUWeight=</code> 时， <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu</code> 控制器将被启用，当设置 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">TasksMax=</code> 时， <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">pids</code> 控制器将被启用。此外，各种控制器也可以通过 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryAccounting=</code> / <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">TasksAccounting=</code> / <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IOAccounting=</code> 设置显式启用。由于 cgroup 层次结构的工作方式，控制器将自动为所有父单元和从启用控制器的最低级别开始的任何兄弟单元启用。为其启用控制器的单元可能会受到资源控制的影响，即使它们没有任何显式配置。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Setting <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Delegate=</code> enables any delegated controllers for that unit (see below).
      The delegatee may then enable controllers for its children as appropriate. In particular, if the
      delegatee is <span class="command" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><strong data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd</strong></span> (in the <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">user@.service</code> unit), it will
      repeat the same logic as the system instance and enable controllers for user units which have resource
      limits configured, and their siblings and parents and parents' siblings.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">启用 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Delegate=</code> 可以为该单元启用任何委托控制器（见下文）。然后，被委托者可以适当地为其子级启用控制器。特别是，如果被委托者是 systemd（在 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">user@.service</code> 单元中），它将重复与系统实例相同的逻辑，并为已配置资源限制的用户单元启用控制器，以及它们的兄弟和父级以及父级的兄弟。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Controllers may be <span class="emphasis" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><em data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">disabled</em></span> for parts of the cgroup hierarchy with
      <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DisableControllers=</code> (see below).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可以使用 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DisableControllers=</code> （见下文）禁用 cgroup 层次结构的部分控制器。</font></font></font></p><div class="example" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><a name="id-1.5.5.5" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a><p class="title" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><b data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Example&nbsp;1.&nbsp;Enabling and disabling controllers<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 1. 启用和禁用控制器</font></font></font></b></p><div class="example-contents" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><pre class="programlisting">                      -.slice
                     /       \
              /-----/         \--------------\
             /                                \
      system.slice                       user.slice
        /       \                          /      \
       /         \                        /        \
      /           \              user@42.service  user@1000.service
     /             \             Delegate=        Delegate=yes
a.service       b.slice                             /        \
CPUWeight=20   DisableControllers=cpu              /          \
                 /  \                      app.slice      session.slice
                /    \                     CPUWeight=100  CPUWeight=100
               /      \
       b1.service   b2.service
                    CPUWeight=1000
        </pre><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">In this hierarchy, the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu</code> controller is enabled for all units shown except
        <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">b1.service</code> and <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">b2.service</code>. Because there is no explicit
        configuration for <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">system.slice</code> and <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">user.slice</code>, CPU
        resources will be split equally between them. Similarly, resources are allocated equally between
        children of <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">user.slice</code> and between the child slices beneath
        <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">user@1000.service</code>. Assuming that there is no further configuration of resources
        or delegation below slices <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">app.slice</code> or <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">session.slice</code>, the
        <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu</code> controller would not be enabled for units in those slices and CPU resources
        would be further allocated using other mechanisms, e.g. based on nice levels. The manager for user
        42 has delegation enabled without any controllers, i.e. it can manipulate its subtree of the cgroup
        hierarchy, but without resource control.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在这个层次结构中， <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu</code> 控制器对除了 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">b1.service</code> 和 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">b2.service</code> 之外的所有单元都是启用的。因为对于 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">system.slice</code> 和 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">user.slice</code> 没有明确的配置，CPU 资源将在它们之间均匀分配。同样，资源在 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">user.slice</code> 的子级和 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">user@1000.service</code> 下面的子切片之间也是均匀分配的。假设在 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">app.slice</code> 或 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">session.slice</code> 下面的切片没有进一步的资源配置或委托，那么 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu</code> 控制器将不会对这些切片中的单元启用，CPU 资源将进一步使用其他机制进行分配，例如基于 nice 级别。用户 42 的管理器已启用委托，但没有任何控制器，即它可以操作 cgroup 层次结构中的子树，但没有资源控制。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">In the slice <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">system.slice</code>, CPU resources are split 1:6 for service
        <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">a.service</code>, and 5:6 for slice <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">b.slice</code>, because slice
        <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">b.slice</code> gets the default value of 100 for <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu.weight</code> when
        <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUWeight=</code> is not set.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在切片 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">system.slice</code> 中，CPU 资源按照 1:6 的比例分配给服务 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">a.service</code> ，按照 5:6 的比例分配给切片 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">b.slice</code> ，因为当 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUWeight=</code> 未设置时，切片 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">b.slice</code> 在 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu.weight</code> 上得到默认值 100。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUWeight=</code> setting in service <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">b2.service</code> is neutralized
        by <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DisableControllers=</code> in slice <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">b.slice</code>, so the
        <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu</code> controller would not be enabled for services <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">b1.service</code> and
        <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">b2.service</code>, and CPU resources would be further allocated using other mechanisms,
        e.g. based on nice levels.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在服务 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">b2.service</code> 中的 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUWeight=</code> 设置被切片 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">b.slice</code> 中的 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DisableControllers=</code> 中和谐，因此 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu</code> 控制器不会对服务 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">b1.service</code> 和 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">b2.service</code> 启用，并且 CPU 资源将进一步使用其他机制进行分配，例如基于 nice 级别。</font></font></font></p></div></div><br class="example-break" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></div><div class="refsect2" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><a name="id-1.5.6" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a><h3 id="Setting resource controls for a group of related units" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Setting resource controls for a group of related units<a class="headerlink" title="Permalink to this headline" href="#Setting%20resource%20controls%20for%20a%20group%20of%20related%20units" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">为一组相关单位设置资源控制</font></font></font></h3><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">As described in
      <a href="systemd.unit.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.unit</span>(5)</span></a>, the
      settings listed here may be set through the main file of a unit and drop-in snippets in
      <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">*.d/</code> directories. The list of directories searched for drop-ins
      includes names formed by repeatedly truncating the unit name after all dashes. This is particularly
      convenient to set resource limits for a group of units with similar names.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如 systemd.unit(5) 中所述，这里列出的设置可以通过单位的主文件和 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">*.d/</code> 目录中的附加文件片段进行设置。搜索附加文件的目录列表包括通过在所有破折号后重复截断单位名称形成的名称。这对于为具有相似名称的一组单位设置资源限制特别方便。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">For example, every user gets their own slice
      <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">user-<em class="replaceable"><code>nnn</code></em>.slice</code>. Drop-ins with local configuration that
      affect user 1000 may be placed in
      <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/etc/systemd/system/user-1000.slice</code>,
      <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/etc/systemd/system/user-1000.slice.d/*.conf</code>, but also
      <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/etc/systemd/system/user-.slice.d/*.conf</code>. This last directory
      applies to all user slices.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">例如，每个用户都有自己的切片 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">user-<em class="replaceable"><code>nnn</code></em>.slice</code> 。影响用户 1000 的本地配置的附加文件可以放置在 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/etc/systemd/system/user-1000.slice</code> 、 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/etc/systemd/system/user-1000.slice.d/*.conf</code> ，也可以放在 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/etc/systemd/system/user-.slice.d/*.conf</code> 。最后一个目录适用于所有用户切片。</font></font></font></p></div><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">See the <a class="ulink" href="https://www.freedesktop.org/wiki/Software/systemd/ControlGroupInterface" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">New
    Control Group Interfaces</a> for an introduction on how to make
    use of resource control APIs from programs.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">查看新的控制组界面，了解如何从程序中利用资源控制 API。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><a name="id-1.6" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a><h2 id="Implicit Dependencies" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Implicit Dependencies<a class="headerlink" title="Permalink to this headline" href="#Implicit%20Dependencies" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">隐式依赖 ¶</font></font></font></h2><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">The following dependencies are implicitly added:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以下依赖项将被隐式添加：</font></font></font></p><div class="itemizedlist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><ul class="itemizedlist" style="list-style-type: disc; " data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><li class="listitem" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Units with the <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Slice=</code> setting set automatically acquire
      <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Requires=</code> and <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">After=</code> dependencies on the specified
      slice unit.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">具有设置为 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Slice=</code> 的单元会自动获取指定切片单元的 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Requires=</code> 和 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">After=</code> 依赖项。</font></font></font></p></li></ul></div></div><div class="refsect1" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><a name="id-1.7" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a><h2 id="Options" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Options<a class="headerlink" title="Permalink to this headline" href="#Options" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">选项</font></font></font></h2><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Units of the types listed above can have settings for resource control configuration:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">上述列出的类型的单元可以具有用于资源控制配置的设置：</font></font></font></p><div class="refsect2" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><a name="id-1.7.3" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a><h3 id="CPU Accounting and Control" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">CPU Accounting and Control<a class="headerlink" title="Permalink to this headline" href="#CPU%20Accounting%20and%20Control" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">CPU 记账和控制 ¶</font></font></font></h3><div class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dl class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dt id="CPUAccounting=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUAccounting=</code></span><a class="headerlink" title="Permalink to this term" href="#CPUAccounting=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Turn on CPU usage accounting for this unit. Takes a
          boolean argument. Note that turning on CPU accounting for
          one unit will also implicitly turn it on for all units
          contained in the same slice and for all its parent slices
          and the units contained therein. The system default for this
          setting may be controlled with
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultCPUAccounting=</code> in
          <a href="systemd-system.conf.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-system.conf</span>(5)</span></a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">打开此单元的 CPU 使用情况记账。接受布尔参数。请注意，为一个单元打开 CPU 记账也会隐式地为同一切片中包含的所有单元以及所有父切片及其中包含的单元打开 CPU 记账。此设置的系统默认值可以在 systemd-system.conf(5) 中使用 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultCPUAccounting=</code> 进行控制。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Under the unified cgroup hierarchy, CPU accounting is available for all units and this
          setting has no effect.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在统一的 cgroup 层次结构下，CPU 记账对所有单元都可用，此设置不起作用。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v208" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 208.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 208 中添加。</font></font></font></p></dd><dt id="CPUWeight=weight" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUWeight=<em class="replaceable"><code>weight</code></em></code>, </span><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupCPUWeight=<em class="replaceable"><code>weight</code></em></code></span><a class="headerlink" title="Permalink to this term" href="#CPUWeight=weight" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUWeight=<em class="replaceable"><code>weight</code></em></code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupCPUWeight=<em class="replaceable"><code>weight</code></em></code> ¶</font></font></font></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">These settings control the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu</code> controller in the unified hierarchy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这些设置控制统一层次结构中的 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu</code> 控制器。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">These options accept an integer value or a the special string "idle":<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这些选项接受整数值或特殊字符串 "idle"。</font></font></font></p><div class="itemizedlist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><ul class="itemizedlist" style="list-style-type: disc; " data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><li class="listitem" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">If set to an integer value, assign the specified CPU time weight to the processes
                executed, if the unified control group hierarchy is used on the system. These options control
                the "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu.weight</code>" control group attribute. The allowed range is 1 to 10000.
                Defaults to unset, but the kernel default is 100. For details about this control group
                attribute, see <a class="ulink" href="https://docs.kernel.org/admin-guide/cgroup-v2.html" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Control Groups
                v2</a> and <a class="ulink" href="https://docs.kernel.org/scheduler/sched-design-CFS.html" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CFS
                Scheduler</a>. The available CPU time is split up among all units within one slice
                relative to their CPU time weight. A higher weight means more CPU time, a lower weight means
                less.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果设置为整数值，则为在系统上使用统一控制组层次结构时执行的进程分配指定的 CPU 时间权重。这些选项控制 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu.weight</code> " 控制组属性。允许的范围是 1 到 10000。默认情况下未设置，但内核默认值为 100。有关此控制组属性的详细信息，请参阅控制组 v2 和 CFS 调度程序。可用的 CPU 时间根据它们的 CPU 时间权重在一个切片内的所有单元之间进行分配。更高的权重意味着更多的 CPU 时间，更低的权重意味着更少的 CPU 时间。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">If set to the special string "idle", mark the cgroup for "idle scheduling", which means
                that it will get CPU resources only when there are no processes not marked in this way to execute in this
                cgroup or its siblings. This setting corresponds to the "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu.idle</code>" cgroup attribute.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果设置为特殊字符串"idle"，则将 cgroup 标记为"空闲调度"，这意味着只有在没有未标记为此方式在此 cgroup 或其兄弟中执行的进程时，它才会获得 CPU 资源。此设置对应于" <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu.idle</code> " cgroup 属性。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Note that this value only has an effect on cgroup-v2, for cgroup-v1 it is equivalent to the minimum weight.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，此值仅对 cgroup-v2 有效，对于 cgroup-v1，它等效于最小权重。</font></font></font></p></li></ul></div><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">While <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupCPUWeight=</code> applies to the startup and shutdown phases of the system,
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUWeight=</code> applies to normal runtime of the system, and if the former is not set also to
          the startup and shutdown phases. Using <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupCPUWeight=</code> allows prioritizing specific services at
          boot-up and shutdown differently than during normal runtime.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">虽然 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupCPUWeight=</code> 适用于系统的启动和关闭阶段， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUWeight=</code> 适用于系统的正常运行时间，并且如果前者未设置，也适用于启动和关闭阶段。使用 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupCPUWeight=</code> 允许在启动和关闭时优先处理特定服务，而与正常运行时不同。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">In addition to the resource allocation performed by the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu</code> controller, the
          kernel may automatically divide resources based on session-id grouping, see "The autogroup feature"
          in <a href="https://man7.org/linux/man-pages/man7/sched.7.html" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">sched</span>(7)</span></a>.
          The effect of this feature is similar to the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu</code> controller with no explicit
          configuration, so users should be careful to not mistake one for the other.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">除了 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu</code> 控制器执行的资源分配外，内核还可以根据会话 ID 分组自动划分资源，请参阅 sched(7) 中的“自动分组功能”。此功能的效果类似于没有显式配置的 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu</code> 控制器，因此用户应注意不要将一个控制器误认为是另一个控制器。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v232" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 232.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 232 中添加。</font></font></font></p></dd><dt id="CPUQuota=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUQuota=</code></span><a class="headerlink" title="Permalink to this term" href="#CPUQuota=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">This setting controls the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu</code> controller in the unified hierarchy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此设置控制统一层次结构中的 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu</code> 控制器。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Assign the specified CPU time quota to the processes executed. Takes a percentage value, suffixed with
          "%". The percentage specifies how much CPU time the unit shall get at maximum, relative to the total CPU time
          available on one CPU. Use values &gt; 100% for allotting CPU time on more than one CPU. This controls the
          "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu.max</code>" attribute on the unified control group hierarchy and
          "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu.cfs_quota_us</code>" on legacy. For details about these control group attributes, see <a class="ulink" href="https://docs.kernel.org/admin-guide/cgroup-v2.html" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Control Groups v2</a> and <a class="ulink" href="https://docs.kernel.org/scheduler/sched-bwc.html" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CFS Bandwidth Control</a>.
          Setting <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUQuota=</code> to an empty value unsets the quota.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">为执行的进程分配指定的 CPU 时间配额。采用百分比值，以“%”结尾。百分比指定单位最多可以获得多少 CPU 时间，相对于一个 CPU 上可用的总 CPU 时间。使用大于 100% 的值可在多个 CPU 上分配 CPU 时间。这控制统一控制组层次结构上的“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu.max</code> ”属性和传统控制组上的“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu.cfs_quota_us</code> ”。有关这些控制组属性的详细信息，请参阅控制组 v2 和 CFS 带宽控制。将 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUQuota=</code> 设置为空值将取消配额。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Example: <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUQuota=20%</code> ensures that the executed processes will never get more than
          20% CPU time on one CPU.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例: <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUQuota=20%</code> 确保执行的进程在一个 CPU 上永远不会获得超过 20% 的 CPU 时间。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v213" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 213.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加于版本 213。</font></font></font></p></dd><dt id="CPUQuotaPeriodSec=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUQuotaPeriodSec=</code></span><a class="headerlink" title="Permalink to this term" href="#CPUQuotaPeriodSec=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">This setting controls the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu</code> controller in the unified hierarchy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此设置控制统一层次结构中的 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu</code> 控制器。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Assign the duration over which the CPU time quota specified by <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUQuota=</code> is measured.
          Takes a time duration value in seconds, with an optional suffix such as "ms" for milliseconds (or "s" for seconds.)
          The default setting is 100ms. The period is clamped to the range supported by the kernel, which is [1ms, 1000ms].
          Additionally, the period is adjusted up so that the quota interval is also at least 1ms.
          Setting <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUQuotaPeriodSec=</code> to an empty value resets it to the default.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">分配 CPU 时间配额由 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUQuota=</code> 指定的持续时间。以秒为单位的时间持续值，可带有可选后缀，如毫秒的“ms”（或秒的“s”）。默认设置为 100ms。该周期被夹在内核支持的范围内，即[1ms，1000ms]。此外，周期会向上调整，以便配额间隔至少为 1ms。将 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUQuotaPeriodSec=</code> 设置为空值将其重置为默认值。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">This controls the second field of "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu.max</code>" attribute on the unified control group hierarchy
          and "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu.cfs_period_us</code>" on legacy. For details about these control group attributes, see
          <a class="ulink" href="https://docs.kernel.org/admin-guide/cgroup-v2.html" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Control Groups v2</a> and
          <a class="ulink" href="https://docs.kernel.org/scheduler/sched-design-CFS.html" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CFS Scheduler</a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这控制统一控制组层次结构上的“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu.max</code> ”属性的第二字段和传统控制组上的“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu.cfs_period_us</code> ”。有关这些控制组属性的详细信息，请参阅控制组 v2 和 CFS 调度程序。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Example: <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUQuotaPeriodSec=10ms</code> to request that the CPU quota is measured in periods of 10ms.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例： <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUQuotaPeriodSec=10ms</code> 请求以 10ms 的周期度量 CPU 配额。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v242" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 242.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 242 中添加。</font></font></font></p></dd><dt id="AllowedCPUs=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">AllowedCPUs=</code>, </span><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupAllowedCPUs=</code></span><a class="headerlink" title="Permalink to this term" href="#AllowedCPUs=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">AllowedCPUs=</code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupAllowedCPUs=</code> ¶</font></font></font></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">This setting controls the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpuset</code> controller in the unified hierarchy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此设置控制统一层次结构中的 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpuset</code> 控制器。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Restrict processes to be executed on specific CPUs. Takes a list of CPU indices or ranges separated by either
          whitespace or commas. CPU ranges are specified by the lower and upper CPU indices separated by a dash.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">限制进程在特定 CPU 上执行。接受由空格或逗号分隔的 CPU 索引或范围列表。CPU 范围由用破折号分隔的较低和较高 CPU 索引指定。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Setting <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">AllowedCPUs=</code> or <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupAllowedCPUs=</code> doesn't guarantee that all
          of the CPUs will be used by the processes as it may be limited by parent units. The effective configuration is
          reported as <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">EffectiveCPUs=</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">AllowedCPUs=</code> 或 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupAllowedCPUs=</code> 并不保证所有 CPU 都会被进程使用，因为可能会受到父单元的限制。有效配置报告为 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">EffectiveCPUs=</code> 。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">While <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupAllowedCPUs=</code> applies to the startup and shutdown phases of the system,
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">AllowedCPUs=</code> applies to normal runtime of the system, and if the former is not set also to
          the startup and shutdown phases. Using <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupAllowedCPUs=</code> allows prioritizing specific services at
          boot-up and shutdown differently than during normal runtime.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">虽然 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupAllowedCPUs=</code> 适用于系统的启动和关闭阶段， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">AllowedCPUs=</code> 适用于系统的正常运行时，如果前者未设置，也适用于系统的启动和关闭阶段。使用 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupAllowedCPUs=</code> 允许在启动和关闭时优先考虑特定服务，而在正常运行时则不同。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">This setting is supported only with the unified control group hierarchy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">仅支持统一控制组层次结构。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v244" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 244.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 244 中添加。</font></font></font></p></dd></dl></div></div><div class="refsect2" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><a name="id-1.7.4" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a><h3 id="Memory Accounting and Control" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Memory Accounting and Control<a class="headerlink" title="Permalink to this headline" href="#Memory%20Accounting%20and%20Control" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内存记账和控制 ¶</font></font></font></h3><div class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dl class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dt id="MemoryAccounting=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryAccounting=</code></span><a class="headerlink" title="Permalink to this term" href="#MemoryAccounting=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">This setting controls the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory</code> controller in the unified hierarchy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此设置控制统一层次结构中的 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory</code> 控制器。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Turn on process and kernel memory accounting for this
          unit. Takes a boolean argument. Note that turning on memory
          accounting for one unit will also implicitly turn it on for
          all units contained in the same slice and for all its parent
          slices and the units contained therein. The system default
          for this setting may be controlled with
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultMemoryAccounting=</code> in
          <a href="systemd-system.conf.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-system.conf</span>(5)</span></a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">为此单元启用进程和内核内存记账。需要一个布尔参数。请注意，为一个单元启用内存记账也会隐式地为同一切片中包含的所有单元以及所有父切片和其中包含的单元启用内存记账。此设置的系统默认值可以在 systemd-system.conf(5)中使用 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultMemoryAccounting=</code> 进行控制。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v208" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 208.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 208 中添加。</font></font></font></p></dd><dt id="MemoryMin=bytes, MemoryLow=bytes" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryMin=<em class="replaceable"><code>bytes</code></em></code>, <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryLow=<em class="replaceable"><code>bytes</code></em></code>, </span><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryLow=<em class="replaceable"><code>bytes</code></em></code>, <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultStartupMemoryLow=<em class="replaceable"><code>bytes</code></em></code></span><a class="headerlink" title="Permalink to this term" href="#MemoryMin=bytes,%20MemoryLow=bytes" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryMin=<em class="replaceable"><code>bytes</code></em></code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryLow=<em class="replaceable"><code>bytes</code></em></code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryLow=<em class="replaceable"><code>bytes</code></em></code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultStartupMemoryLow=<em class="replaceable"><code>bytes</code></em></code> ¶</font></font></font></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">These settings control the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory</code> controller in the unified hierarchy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这些设置控制统一层次结构中的 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory</code> 控制器。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Specify the memory usage protection of the executed processes in this unit.
          When reclaiming memory, the unit is treated as if it was using less memory resulting in memory
          to be preferentially reclaimed from unprotected units.
          Using <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryLow=</code> results in a weaker protection where memory may still
          be reclaimed to avoid invoking the OOM killer in case there is no other reclaimable memory.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定此单元中执行进程的内存使用保护。在回收内存时，该单元被视为使用更少的内存，导致内存优先从未受保护的单元中回收。使用 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryLow=</code> 会导致较弱的保护，其中内存仍可能被回收，以避免在没有其他可回收内存的情况下调用 OOM killer。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">
          For a protection to be effective, it is generally required to set a corresponding
          allocation on all ancestors, which is then distributed between children
          (with the exception of the root slice).
          Any <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryMin=</code> or <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryLow=</code> allocation that is not
          explicitly distributed to specific children is used to create a shared protection for all children.
          As this is a shared protection, the children will freely compete for the memory.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">为了使保护有效，通常需要在所有祖先上设置相应的分配，然后在子级之间进行分配（除了根片）。未明确分配给特定子级的任何 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryMin=</code> 或 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryLow=</code> 分配都用于为所有子级创建共享保护。由于这是共享保护，子级将自由竞争内存。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Takes a memory size in bytes. If the value is suffixed with K, M, G or T, the specified memory size is
          parsed as Kilobytes, Megabytes, Gigabytes, or Terabytes (with the base 1024), respectively. Alternatively, a
          percentage value may be specified, which is taken relative to the installed physical memory on the
          system. If assigned the special value "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">infinity</code>", all available memory is protected, which may be
          useful in order to always inherit all of the protection afforded by ancestors.
          This controls the "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory.min</code>" or "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory.low</code>" control group attribute.
          For details about this control group attribute, see <a class="ulink" href="https://docs.kernel.org/admin-guide/cgroup-v2.html#memory-interface-files#memory-interface-files" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Memory Interface Files</a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受以字节为单位的内存大小。如果值后缀为 K、M、G 或 T，则指定的内存大小将分别解析为千字节、兆字节、千兆字节或太字节（以 1024 为基数）。或者，可以指定百分比值，该值相对于系统上安装的物理内存。如果分配特殊值“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">infinity</code> ”，则会保护所有可用内存，这可能有助于始终继承祖先提供的所有保护。这控制“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory.min</code> ”或“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory.low</code> ”控制组属性。有关此控制组属性的详细信息，请参阅内存接口文件。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Units may have their children use a default "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory.min</code>" or
          "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory.low</code>" value by specifying <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultMemoryMin=</code> or
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultMemoryLow=</code>, which has the same semantics as
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryMin=</code> and <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryLow=</code>, or <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultStartupMemoryLow=</code>
          which has the same semantics as <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryLow=</code>.
          This setting does not affect "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory.min</code>" or "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory.low</code>"
          in the unit itself.
          Using it to set a default child allocation is only useful on kernels older than 5.7,
          which do not support the "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory_recursiveprot</code>" cgroup2 mount option.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">单元可以通过指定 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultMemoryMin=</code> 或 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultMemoryLow=</code> 使其子级使用默认的“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory.min</code> ”或“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory.low</code> ”值，其语义与 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryMin=</code> 和 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryLow=</code> 相同，或者 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultStartupMemoryLow=</code> ，其语义与 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryLow=</code> 相同。此设置不会影响单元本身中的“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory.min</code> ”或“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory.low</code> ”。将其用于设置默认子分配仅在内核版本早于 5.7 的情况下有用，这些内核不支持“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory_recursiveprot</code> ”cgroup2 挂载选项。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">While <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryLow=</code> applies to the startup and shutdown phases of the system,
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryMin=</code> applies to normal runtime of the system, and if the former is not set also to
          the startup and shutdown phases. Using <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryLow=</code> allows prioritizing specific services at
          boot-up and shutdown differently than during normal runtime.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">虽然 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryLow=</code> 适用于系统的启动和关闭阶段， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryMin=</code> 适用于系统的正常运行时，如果前者未设置，也适用于系统的启动和关闭阶段。使用 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryLow=</code> 允许在启动和关闭时优先处理特定服务，而在正常运行时则有所不同。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v240" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 240.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 240 中添加。</font></font></font></p></dd><dt id="MemoryHigh=bytes" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryHigh=<em class="replaceable"><code>bytes</code></em></code>, </span><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryHigh=<em class="replaceable"><code>bytes</code></em></code></span><a class="headerlink" title="Permalink to this term" href="#MemoryHigh=bytes" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryHigh=<em class="replaceable"><code>bytes</code></em></code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryHigh=<em class="replaceable"><code>bytes</code></em></code> ¶</font></font></font></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">These settings control the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory</code> controller in the unified hierarchy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这些设置控制统一层次结构中的 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory</code> 控制器。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Specify the throttling limit on memory usage of the executed processes in this unit. Memory usage may go
          above the limit if unavoidable, but the processes are heavily slowed down and memory is taken away
          aggressively in such cases. This is the main mechanism to control memory usage of a unit.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定在此单元中执行进程的内存使用限制。如果不可避免，内存使用量可能超过限制，但在这种情况下，进程会严重减速，并且内存会被积极回收。这是控制单元内存使用的主要机制。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Takes a memory size in bytes. If the value is suffixed with K, M, G or T, the specified memory size is
          parsed as Kilobytes, Megabytes, Gigabytes, or Terabytes (with the base 1024), respectively. Alternatively, a
          percentage value may be specified, which is taken relative to the installed physical memory on the
          system. If assigned the
          special value "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">infinity</code>", no memory throttling is applied. This controls the
          "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory.high</code>" control group attribute. For details about this control group attribute, see
          <a class="ulink" href="https://docs.kernel.org/admin-guide/cgroup-v2.html#memory-interface-files#memory-interface-files" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Memory Interface Files</a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受以字节为单位的内存大小。如果值后缀为 K、M、G 或 T，则指定的内存大小将分别解析为千字节、兆字节、千兆字节或太字节（以 1024 为基数）。或者，可以指定百分比值，该值相对于系统上安装的物理内存。如果分配特殊值" <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">infinity</code> "，则不应用内存限制。这控制" <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory.high</code> "控制组属性。有关此控制组属性的详细信息，请参阅内存接口文件。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">While <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryHigh=</code> applies to the startup and shutdown phases of the system,
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryHigh=</code> applies to normal runtime of the system, and if the former is not set also to
          the startup and shutdown phases. Using <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryHigh=</code> allows prioritizing specific services at
          boot-up and shutdown differently than during normal runtime.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryHigh=</code> 适用于系统的启动和关闭阶段， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryHigh=</code> 适用于系统的正常运行时间，如果前者未设置，也适用于系统的启动和关闭阶段。使用 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryHigh=</code> 允许在启动和关闭时优先处理特定服务，而在正常运行时则有所不同。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v231" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 231.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 231 中添加。</font></font></font></p></dd><dt id="MemoryMax=bytes" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryMax=<em class="replaceable"><code>bytes</code></em></code>, </span><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryMax=<em class="replaceable"><code>bytes</code></em></code></span><a class="headerlink" title="Permalink to this term" href="#MemoryMax=bytes" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryMax=<em class="replaceable"><code>bytes</code></em></code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryMax=<em class="replaceable"><code>bytes</code></em></code> ¶</font></font></font></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">These settings control the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory</code> controller in the unified hierarchy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这些设置控制统一层次结构中的 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory</code> 控制器。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Specify the absolute limit on memory usage of the executed processes in this unit. If memory usage
          cannot be contained under the limit, out-of-memory killer is invoked inside the unit. It is recommended to
          use <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryHigh=</code> as the main control mechanism and use <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryMax=</code> as the
          last line of defense.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定此单元中执行进程的内存使用绝对限制。如果内存使用无法在限制范围内控制，单元内将调用内存杀手。建议将 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryHigh=</code> 用作主要控制机制，并将 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryMax=</code> 用作最后一道防线。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Takes a memory size in bytes. If the value is suffixed with K, M, G or T, the specified memory size is
          parsed as Kilobytes, Megabytes, Gigabytes, or Terabytes (with the base 1024), respectively. Alternatively, a
          percentage value may be specified, which is taken relative to the installed physical memory on the system. If
          assigned the special value "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">infinity</code>", no memory limit is applied. This controls the
          "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory.max</code>" control group attribute. For details about this control group attribute, see
          <a class="ulink" href="https://docs.kernel.org/admin-guide/cgroup-v2.html#memory-interface-files#memory-interface-files" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Memory Interface Files</a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以字节为单位指定内存大小。如果值后缀为 K、M、G 或 T，则指定的内存大小将分别解析为千字节、兆字节、千兆字节或太字节（以 1024 为基数）。或者，可以指定百分比值，该值相对于系统上安装的物理内存。如果分配特殊值 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">infinity</code> "，则不应用内存限制。这控制 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory.max</code> " 控制组属性。有关此控制组属性的详细信息，请参阅内存接口文件。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">While <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryMax=</code> applies to the startup and shutdown phases of the system,
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryMax=</code> applies to normal runtime of the system, and if the former is not set also to
          the startup and shutdown phases. Using <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryMax=</code> allows prioritizing specific services at
          boot-up and shutdown differently than during normal runtime.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryMax=</code> 适用于系统的启动和关闭阶段， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryMax=</code> 适用于系统的正常运行时，如果前者未设置，也适用于启动和关闭阶段。使用 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryMax=</code> 允许在启动和关闭时优先处理特定服务，而在正常运行时与之不同。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v231" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 231.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 231 中添加。</font></font></font></p></dd><dt id="MemorySwapMax=bytes" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemorySwapMax=<em class="replaceable"><code>bytes</code></em></code>, </span><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemorySwapMax=<em class="replaceable"><code>bytes</code></em></code></span><a class="headerlink" title="Permalink to this term" href="#MemorySwapMax=bytes" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemorySwapMax=<em class="replaceable"><code>bytes</code></em></code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemorySwapMax=<em class="replaceable"><code>bytes</code></em></code> ¶</font></font></font></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">These settings control the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory</code> controller in the unified hierarchy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这些设置控制统一层次结构中的 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory</code> 控制器。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Specify the absolute limit on swap usage of the executed processes in this unit.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定此单元中执行进程的交换使用绝对限制。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Takes a swap size in bytes. If the value is suffixed with K, M, G or T, the specified swap size is
          parsed as Kilobytes, Megabytes, Gigabytes, or Terabytes (with the base 1024), respectively. If assigned the
          special value "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">infinity</code>", no swap limit is applied. These settings control the
          "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory.swap.max</code>" control group attribute. For details about this control group attribute,
          see <a class="ulink" href="https://docs.kernel.org/admin-guide/cgroup-v2.html#memory-interface-files#memory-interface-files" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Memory Interface Files</a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">以字节为单位指定交换大小。如果值后缀为 K、M、G 或 T，则指定的交换大小将分别解析为千字节、兆字节、千兆字节或太字节（以 1024 为基数）。如果分配特殊值" <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">infinity</code> "，则不应用交换限制。这些设置控制" <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory.swap.max</code> "控制组属性。有关此控制组属性的详细信息，请参阅内存接口文件。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">While <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemorySwapMax=</code> applies to the startup and shutdown phases of the system,
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemorySwapMax=</code> applies to normal runtime of the system, and if the former is not set also to
          the startup and shutdown phases. Using <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemorySwapMax=</code> allows prioritizing specific services at
          boot-up and shutdown differently than during normal runtime.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">虽然 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemorySwapMax=</code> 适用于系统的启动和关闭阶段， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemorySwapMax=</code> 适用于系统的正常运行时，如果前者未设置，也适用于系统的启动和关闭阶段。使用 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemorySwapMax=</code> 允许在启动和关闭时优先处理特定服务，而在正常运行时处理方式不同。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v232" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 232.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 232 中添加。</font></font></font></p></dd><dt id="MemoryZSwapMax=bytes" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryZSwapMax=<em class="replaceable"><code>bytes</code></em></code>, </span><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryZSwapMax=<em class="replaceable"><code>bytes</code></em></code></span><a class="headerlink" title="Permalink to this term" href="#MemoryZSwapMax=bytes" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryZSwapMax=<em class="replaceable"><code>bytes</code></em></code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryZSwapMax=<em class="replaceable"><code>bytes</code></em></code> ¶</font></font></font></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">These settings control the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory</code> controller in the unified hierarchy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这些设置控制统一层次结构中的 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory</code> 控制器。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Specify the absolute limit on zswap usage of the processes in this unit. Zswap is a lightweight compressed
          cache for swap pages. It takes pages that are in the process of being swapped out and attempts to compress them into a
          dynamically allocated RAM-based memory pool. If the limit specified is hit, no entries from this unit will be
          stored in the pool until existing entries are faulted back or written out to disk. See the kernel's
          <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/mm/zswap.html" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Zswap</a> documentation for more details.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定此单元中进程对 zswap 使用的绝对限制。Zswap 是用于交换页面的轻量级压缩缓存。它接收正在被交换出的页面，并尝试将它们压缩成动态分配的基于 RAM 的内存池。如果达到指定的限制，直到现有条目被故障返回或写入磁盘为止，此单元中的条目将不会存储在池中。有关更多详细信息，请参阅内核的 Zswap 文档。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Takes a size in bytes. If the value is suffixed with K, M, G or T, the specified size is
          parsed as Kilobytes, Megabytes, Gigabytes, or Terabytes (with the base 1024), respectively. If assigned the
          special value "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">infinity</code>", no limit is applied. These settings control the
          "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory.zswap.max</code>" control group attribute. For details about this control group attribute,
          see <a class="ulink" href="https://docs.kernel.org/admin-guide/cgroup-v2.html#memory-interface-files#memory-interface-files" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Memory Interface Files</a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受以字节为单位的大小。如果值后缀为 K、M、G 或 T，则指定的大小将分别解析为千字节、兆字节、千兆字节或太字节（以 1024 为基数）。如果分配特殊值“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">infinity</code> ”，则不应用任何限制。这些设置控制“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory.zswap.max</code> ”控制组属性。有关此控制组属性的详细信息，请参阅内存接口文件。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">While <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryZSwapMax=</code> applies to the startup and shutdown phases of the system,
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryZSwapMax=</code> applies to normal runtime of the system, and if the former is not set also to
          the startup and shutdown phases. Using <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryZSwapMax=</code> allows prioritizing specific services at
          boot-up and shutdown differently than during normal runtime.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">虽然 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryZSwapMax=</code> 适用于系统的启动和关闭阶段， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryZSwapMax=</code> 适用于系统的正常运行时间，如果前者未设置，也适用于系统的启动和关闭阶段。使用 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupMemoryZSwapMax=</code> 允许在启动和关闭时优先处理特定服务，而与正常运行时不同。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v253" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 253.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 253 中。</font></font></font></p></dd><dt id="AllowedMemoryNodes=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">AllowedMemoryNodes=</code>, </span><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupAllowedMemoryNodes=</code></span><a class="headerlink" title="Permalink to this term" href="#AllowedMemoryNodes=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">AllowedMemoryNodes=</code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupAllowedMemoryNodes=</code> ¶</font></font></font></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">These settings control the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpuset</code> controller in the unified hierarchy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这些设置控制统一层次结构中的 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpuset</code> 控制器。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Restrict processes to be executed on specific memory NUMA nodes. Takes a list of memory NUMA nodes indices
          or ranges separated by either whitespace or commas. Memory NUMA nodes ranges are specified by the lower and upper
          NUMA nodes indices separated by a dash.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">限制进程在特定的内存 NUMA 节点上执行。接受由空格或逗号分隔的内存 NUMA 节点索引或范围列表。内存 NUMA 节点范围由由短横线分隔的较低和较高 NUMA 节点索引指定。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Setting <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">AllowedMemoryNodes=</code> or <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupAllowedMemoryNodes=</code> doesn't
          guarantee that all of the memory NUMA nodes will be used by the processes as it may be limited by parent units.
          The effective configuration is reported as <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">EffectiveMemoryNodes=</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">AllowedMemoryNodes=</code> 或 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupAllowedMemoryNodes=</code> 并不保证所有内存 NUMA 节点都会被进程使用，因为可能会受到父单元的限制。有效配置报告为 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">EffectiveMemoryNodes=</code> 。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">While <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupAllowedMemoryNodes=</code> applies to the startup and shutdown phases of the system,
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">AllowedMemoryNodes=</code> applies to normal runtime of the system, and if the former is not set also to
          the startup and shutdown phases. Using <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupAllowedMemoryNodes=</code> allows prioritizing specific services at
          boot-up and shutdown differently than during normal runtime.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupAllowedMemoryNodes=</code> 适用于系统的启动和关闭阶段时， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">AllowedMemoryNodes=</code> 适用于系统的正常运行时，并且如果前者未设置，也适用于系统的启动和关闭阶段。使用 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupAllowedMemoryNodes=</code> 允许在启动和关闭时优先处理特定服务，而在正常运行时则不同。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">This setting is supported only with the unified control group hierarchy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">该设置仅支持统一控制组层次结构。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v244" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 244.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 244 中添加。</font></font></font></p></dd></dl></div></div><div class="refsect2" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><a name="id-1.7.5" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a><h3 id="Process Accounting and Control" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Process Accounting and Control<a class="headerlink" title="Permalink to this headline" href="#Process%20Accounting%20and%20Control" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">进程会计和控制 ¶</font></font></font></h3><div class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dl class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dt id="TasksAccounting=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">TasksAccounting=</code></span><a class="headerlink" title="Permalink to this term" href="#TasksAccounting=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">This setting controls the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">pids</code> controller in the unified hierarchy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">该设置控制统一层次结构中的 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">pids</code> 控制器。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Turn on task accounting for this unit. Takes a boolean argument. If enabled, the kernel will
          keep track of the total number of tasks in the unit and its children. This number includes both
          kernel threads and userspace processes, with each thread counted individually. Note that turning on
          tasks accounting for one unit will also implicitly turn it on for all units contained in the same
          slice and for all its parent slices and the units contained therein. The system default for this
          setting may be controlled with <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultTasksAccounting=</code> in
          <a href="systemd-system.conf.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-system.conf</span>(5)</span></a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">打开此单元的任务记账。接受一个布尔参数。如果启用，内核将跟踪该单元及其子任务的总任务数。此数字包括内核线程和用户空间进程，每个线程都会被单独计算。请注意，为一个单元打开任务记账也会隐式地为同一切片中包含的所有单元以及所有父切片和其中包含的单元打开任务记账。此设置的系统默认值可以通过 systemd-system.conf(5) 中的 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultTasksAccounting=</code> 进行控制。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v227" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 227.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 227 中。</font></font></font></p></dd><dt id="TasksMax=N" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">TasksMax=<em class="replaceable"><code>N</code></em></code></span><a class="headerlink" title="Permalink to this term" href="#TasksMax=N" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">This setting controls the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">pids</code> controller in the unified hierarchy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此设置控制统一层次结构中的 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">pids</code> 控制器。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Specify the maximum number of tasks that may be created in the unit. This ensures that the
          number of tasks accounted for the unit (see above) stays below a specific limit. This either takes
          an absolute number of tasks or a percentage value that is taken relative to the configured maximum
          number of tasks on the system. If assigned the special value "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">infinity</code>", no tasks
          limit is applied. This controls the "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">pids.max</code>" control group attribute. For
          details about this control group attribute, the
          <a class="ulink" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v2.html#pid#pid" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">pids controller
          </a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定可以在该单元中创建的最大任务数。这确保了为该单元记账的任务数（见上文）保持在特定限制以下。这可以是绝对任务数，也可以是相对于系统上配置的最大任务数的百分比值。如果分配特殊值 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">infinity</code> "，则不应用任务限制。这控制了 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">pids.max</code> " 控制组属性。有关此控制组属性的详细信息，请参阅 pids 控制器。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">The system default for this setting may be controlled with
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultTasksMax=</code> in
          <a href="systemd-system.conf.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-system.conf</span>(5)</span></a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此设置的系统默认值可能通过 systemd-system.conf(5) 中的 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultTasksMax=</code> 进行控制。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v227" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 227.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 227 中。</font></font></font></p></dd></dl></div></div><div class="refsect2" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><a name="id-1.7.6" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a><h3 id="IO Accounting and Control" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">IO Accounting and Control<a class="headerlink" title="Permalink to this headline" href="#IO%20Accounting%20and%20Control" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">IO 账户和控制 ¶</font></font></font></h3><div class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dl class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dt id="IOAccounting=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IOAccounting=</code></span><a class="headerlink" title="Permalink to this term" href="#IOAccounting=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">This setting controls the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io</code> controller in the unified hierarchy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此设置控制统一层次结构中的 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io</code> 控制器。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Turn on Block I/O accounting for this unit, if the unified control group hierarchy is used on the
          system. Takes a boolean argument. Note that turning on block I/O accounting for one unit will also implicitly
          turn it on for all units contained in the same slice and all for its parent slices and the units contained
          therein. The system default for this setting may be controlled with <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultIOAccounting=</code>
          in
          <a href="systemd-system.conf.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-system.conf</span>(5)</span></a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果系统上使用统一的控制组层次结构，请为该单元打开块 I/O 记账。接受一个布尔参数。请注意，为一个单元打开块 I/O 记账也会隐式地为同一切片中包含的所有单元以及其父切片和其中包含的单元打开块 I/O 记账。此设置的系统默认值可以通过 systemd-system.conf(5)中的 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultIOAccounting=</code> 进行控制。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v230" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 230.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 230 中。</font></font></font></p></dd><dt id="IOWeight=weight" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IOWeight=<em class="replaceable"><code>weight</code></em></code>, </span><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupIOWeight=<em class="replaceable"><code>weight</code></em></code></span><a class="headerlink" title="Permalink to this term" href="#IOWeight=weight" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IOWeight=<em class="replaceable"><code>weight</code></em></code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupIOWeight=<em class="replaceable"><code>weight</code></em></code> ¶</font></font></font></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">These settings control the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io</code> controller in the unified hierarchy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这些设置控制统一层次结构中的 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io</code> 控制器。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Set the default overall block I/O weight for the executed processes, if the unified control
          group hierarchy is used on the system. Takes a single weight value (between 1 and 10000) to set the
          default block I/O weight. This controls the "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io.weight</code>" control group attribute,
          which defaults to 100. For details about this control group attribute, see <a class="ulink" href="https://docs.kernel.org/admin-guide/cgroup-v2.html#io-interface-files#io-interface-files" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IO
          Interface Files</a>.  The available I/O bandwidth is split up among all units within one slice
          relative to their block I/O weight. A higher weight means more I/O bandwidth, a lower weight means
          less.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果系统上使用统一的控制组层次结构，请为执行的进程设置默认的整体块 I/O 权重。接受一个单一的权重值（介于 1 和 10000 之间）以设置默认的块 I/O 权重。这控制了“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io.weight</code> ”控制组属性，默认值为 100。有关此控制组属性的详细信息，请参阅 IO 接口文件。可用的 I/O 带宽根据其块 I/O 权重在一个切片内的所有单元之间进行分配。较高的权重意味着更多的 I/O 带宽，较低的权重意味着更少的带宽。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">While <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupIOWeight=</code> applies
          to the startup and shutdown phases of the system,
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IOWeight=</code> applies to the later runtime of
          the system, and if the former is not set also to the startup
          and shutdown phases. This allows prioritizing specific services at boot-up
          and shutdown differently than during runtime.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">虽然 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupIOWeight=</code> 适用于系统的启动和关闭阶段， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IOWeight=</code> 适用于系统后续的运行时，如果前者未设置，也适用于启动和关闭阶段。这允许在启动和关闭时优先考虑特定服务，而在运行时则不同。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v230" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 230.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 230 中。</font></font></font></p></dd><dt id="IODeviceWeight=device weight" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IODeviceWeight=<em class="replaceable"><code>device</code></em> <em class="replaceable"><code>weight</code></em></code></span><a class="headerlink" title="Permalink to this term" href="#IODeviceWeight=device%20weight" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">This setting controls the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io</code> controller in the unified hierarchy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此设置控制统一层次结构中的 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io</code> 控制器。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Set the per-device overall block I/O weight for the executed processes, if the unified control group
          hierarchy is used on the system. Takes a space-separated pair of a file path and a weight value to specify
          the device specific weight value, between 1 and 10000. (Example: "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/dev/sda 1000</code>"). The file
          path may be specified as path to a block device node or as any other file, in which case the backing block
          device of the file system of the file is determined. This controls the "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io.weight</code>" control
          group attribute, which defaults to 100. Use this option multiple times to set weights for multiple devices.
          For details about this control group attribute, see <a class="ulink" href="https://docs.kernel.org/admin-guide/cgroup-v2.html#io-interface-files#io-interface-files" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IO Interface Files</a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">为执行的进程设置每个设备的整体块 I/O 权重，如果系统上使用统一控制组层次结构。采用文件路径和权重值的空格分隔对来指定设备特定的权重值，介于 1 和 10000 之间。（示例：" <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/dev/sda 1000</code> "）。文件路径可以指定为块设备节点的路径或任何其他文件，此时将确定文件系统的支持块设备。这控制了默认为 100 的 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io.weight</code> " 控制组属性。多次使用此选项可为多个设备设置权重。有关此控制组属性的详细信息，请参阅 IO 接口文件。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">The specified device node should reference a block device that has an I/O scheduler
          associated, i.e. should not refer to partition or loopback block devices, but to the originating,
          physical device. When a path to a regular file or directory is specified it is attempted to
          discover the correct originating device backing the file system of the specified path. This works
          correctly only for simpler cases, where the file system is directly placed on a partition or
          physical block device, or where simple 1:1 encryption using dm-crypt/LUKS is used. This discovery
          does not cover complex storage and in particular RAID and volume management storage devices.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定的设备节点应引用具有关联 I/O 调度程序的块设备，即不应引用分区或回环块设备，而应引用原始的物理设备。当指定路径到常规文件或目录时，会尝试发现正确的原始设备，支持指定路径的文件系统。这仅在更简单的情况下才能正常工作，即文件系统直接放置在分区或物理块设备上，或者使用 dm-crypt/LUKS 进行简单的 1:1 加密。此发现不涵盖复杂的存储，特别是 RAID 和卷管理存储设备。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v230" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 230.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 230 中。</font></font></font></p></dd><dt id="IOReadBandwidthMax=device bytes" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IOReadBandwidthMax=<em class="replaceable"><code>device</code></em> <em class="replaceable"><code>bytes</code></em></code>, </span><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IOWriteBandwidthMax=<em class="replaceable"><code>device</code></em> <em class="replaceable"><code>bytes</code></em></code></span><a class="headerlink" title="Permalink to this term" href="#IOReadBandwidthMax=device%20bytes" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IOReadBandwidthMax=<em class="replaceable"><code>device</code></em> <em class="replaceable"><code>bytes</code></em></code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IOWriteBandwidthMax=<em class="replaceable"><code>device</code></em> <em class="replaceable"><code>bytes</code></em></code> ¶</font></font></font></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">These settings control the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io</code> controller in the unified hierarchy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这些设置控制统一层次结构中的 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io</code> 控制器。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Set the per-device overall block I/O bandwidth maximum limit for the executed processes, if the unified
          control group hierarchy is used on the system. This limit is not work-conserving and the executed processes
          are not allowed to use more even if the device has idle capacity.  Takes a space-separated pair of a file
          path and a bandwidth value (in bytes per second) to specify the device specific bandwidth. The file path may
          be a path to a block device node, or as any other file in which case the backing block device of the file
          system of the file is used. If the bandwidth is suffixed with K, M, G, or T, the specified bandwidth is
          parsed as Kilobytes, Megabytes, Gigabytes, or Terabytes, respectively, to the base of 1000. (Example:
          "/dev/disk/by-path/pci-0000:00:1f.2-scsi-0:0:0:0 5M"). This controls the "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io.max</code>" control
          group attributes. Use this option multiple times to set bandwidth limits for multiple devices. For details
          about this control group attribute, see <a class="ulink" href="https://docs.kernel.org/admin-guide/cgroup-v2.html#io-interface-files#io-interface-files" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IO Interface Files</a>.
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置执行进程的每设备总体块 I/O 带宽最大限制，如果系统上使用统一控制组层次结构。此限制不是工作保留的，即使设备有空闲容量，执行的进程也不被允许使用更多。采用文件路径和带宽值（以每秒字节为单位）的空格分隔对来指定设备特定带宽的一对。文件路径可以是块设备节点的路径，或者是任何其他文件，此时使用文件系统的支持块设备。如果带宽后缀为 K、M、G 或 T，则指定的带宽将解析为千字节、兆字节、千兆字节或兆兆字节，基数为 1000。（示例：“/dev/disk/by-path/pci-0000:00:1f.2-scsi-0:0:0:0 5M”）。这控制“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io.max</code> ”控制组属性。多次使用此选项可为多个设备设置带宽限制。有关此控制组属性的详细信息，请参阅 IO 接口文件。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Similar restrictions on block device discovery as for <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IODeviceWeight=</code> apply, see above.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">对块设备发现的类似限制适用于 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IODeviceWeight=</code> ，请参见上文。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v230" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 230.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 230 中。</font></font></font></p></dd><dt id="IOReadIOPSMax=device IOPS" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IOReadIOPSMax=<em class="replaceable"><code>device</code></em> <em class="replaceable"><code>IOPS</code></em></code>, </span><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IOWriteIOPSMax=<em class="replaceable"><code>device</code></em> <em class="replaceable"><code>IOPS</code></em></code></span><a class="headerlink" title="Permalink to this term" href="#IOReadIOPSMax=device%20IOPS" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IOReadIOPSMax=<em class="replaceable"><code>device</code></em> <em class="replaceable"><code>IOPS</code></em></code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IOWriteIOPSMax=<em class="replaceable"><code>device</code></em> <em class="replaceable"><code>IOPS</code></em></code> ¶</font></font></font></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">These settings control the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io</code> controller in the unified hierarchy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">这些设置控制统一层次结构中的 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io</code> 控制器。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Set the per-device overall block I/O IOs-Per-Second maximum limit for the executed processes, if the
          unified control group hierarchy is used on the system. This limit is not work-conserving and the executed
          processes are not allowed to use more even if the device has idle capacity.  Takes a space-separated pair of
          a file path and an IOPS value to specify the device specific IOPS. The file path may be a path to a block
          device node, or as any other file in which case the backing block device of the file system of the file is
          used. If the IOPS is suffixed with K, M, G, or T, the specified IOPS is parsed as KiloIOPS, MegaIOPS,
          GigaIOPS, or TeraIOPS, respectively, to the base of 1000. (Example:
          "/dev/disk/by-path/pci-0000:00:1f.2-scsi-0:0:0:0 1K"). This controls the "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io.max</code>" control
          group attributes. Use this option multiple times to set IOPS limits for multiple devices. For details about
          this control group attribute, see <a class="ulink" href="https://docs.kernel.org/admin-guide/cgroup-v2.html#io-interface-files#io-interface-files" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IO Interface Files</a>.
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置每个设备的整体块 I/O 每秒最大限制，用于执行的进程，如果系统上使用统一的控制组层次结构。此限制不是工作保留的，即使设备有空闲容量，执行的进程也不允许使用更多。采用空格分隔的文件路径和 IOPS 值对来指定设备特定的 IOPS。文件路径可以是块设备节点的路径，或者是任何其他文件，此时文件系统的文件的支持块设备将被使用。如果 IOPS 后缀为 K、M、G 或 T，则指定的 IOPS 将被解析为 KiloIOPS、MegaIOPS、GigaIOPS 或 TeraIOPS，分别基于 1000 的基数。（示例：“/dev/disk/by-path/pci-0000:00:1f.2-scsi-0:0:0:0 1K”）。这控制了“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io.max</code> ”控制组属性。多次使用此选项以为多个设备设置 IOPS 限制。有关此控制组属性的详细信息，请参阅 IO 接口文件。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Similar restrictions on block device discovery as for <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IODeviceWeight=</code> apply, see above.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">对块设备发现的类似限制适用于 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IODeviceWeight=</code> ，请参见上文。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v230" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 230.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 230 中。</font></font></font></p></dd><dt id="IODeviceLatencyTargetSec=device target" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IODeviceLatencyTargetSec=<em class="replaceable"><code>device</code></em> <em class="replaceable"><code>target</code></em></code></span><a class="headerlink" title="Permalink to this term" href="#IODeviceLatencyTargetSec=device%20target" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">This setting controls the <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io</code> controller in the unified hierarchy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此设置控制统一层次结构中的 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io</code> 控制器。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Set the per-device average target I/O latency for the executed processes, if the unified control group
          hierarchy is used on the system. Takes a file path and a timespan separated by a space to specify
          the device specific latency target. (Example: "/dev/sda 25ms"). The file path may be specified
          as path to a block device node or as any other file, in which case the backing block device of the file
          system of the file is determined. This controls the "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io.latency</code>" control group
          attribute. Use this option multiple times to set latency target for multiple devices. For details about this
          control group attribute, see <a class="ulink" href="https://docs.kernel.org/admin-guide/cgroup-v2.html#io-interface-files#io-interface-files" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IO Interface Files</a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置执行的进程的每设备平均目标 I/O 延迟，如果系统上使用统一控制组层次结构。需要一个文件路径和一个由空格分隔的时间跨度来指定设备特定的延迟目标。（示例：“/dev/sda 25ms”）。文件路径可以指定为块设备节点的路径，也可以指定为任何其他文件，此时确定文件系统的支持块设备。这控制了“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io.latency</code> ”控制组属性。多次使用此选项可为多个设备设置延迟目标。有关此控制组属性的详细信息，请参阅 IO 接口文件。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Implies "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IOAccounting=yes</code>".<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">意味着“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IOAccounting=yes</code> ”。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">These settings are supported only if the unified control group hierarchy is used.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">仅当使用统一控制组层次结构时才支持这些设置。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Similar restrictions on block device discovery as for <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IODeviceWeight=</code> apply, see above.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">与 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IODeviceWeight=</code> 相同的块设备发现限制适用，参见上文。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v240" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 240.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 240 中添加。</font></font></font></p></dd></dl></div></div><div class="refsect2" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><a name="id-1.7.7" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a><h3 id="Network Accounting and Control" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Network Accounting and Control<a class="headerlink" title="Permalink to this headline" href="#Network%20Accounting%20and%20Control" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">网络会计和控制 ¶</font></font></font></h3><div class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dl class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dt id="IPAccounting=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPAccounting=</code></span><a class="headerlink" title="Permalink to this term" href="#IPAccounting=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Takes a boolean argument. If true, turns on IPv4 and IPv6 network traffic accounting for packets sent
          or received by the unit. When this option is turned on, all IPv4 and IPv6 sockets created by any process of
          the unit are accounted for.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受一个布尔参数。如果为 true，则打开单元发送或接收的数据包的 IPv4 和 IPv6 网络流量会计。当此选项打开时，由单元的任何进程创建的所有 IPv4 和 IPv6 套接字都会被计算。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">When this option is used in socket units, it applies to all IPv4 and IPv6 sockets
          associated with it (including both listening and connection sockets where this applies). Note that for
          socket-activated services, this configuration setting and the accounting data of the service unit and the
          socket unit are kept separate, and displayed separately. No propagation of the setting and the collected
          statistics is done, in either direction. Moreover, any traffic sent or received on any of the socket unit's
          sockets is accounted to the socket unit — and never to the service unit it might have activated, even if the
          socket is used by it.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当此选项用于套接字单元时，它适用于与其关联的所有 IPv4 和 IPv6 套接字（包括适用的监听套接字和连接套接字）。请注意，对于套接字激活的服务，此配置设置和服务单元和套接字单元的会计数据是分开保存和分开显示的。不会在任何方向上传播设置和收集的统计数据。此外，套接字单元的任何套接字上发送或接收的任何流量都计入套接字单元，而不会计入可能已激活的服务单元，即使套接字被服务单元使用。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">The system default for this setting may be controlled with <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultIPAccounting=</code> in
          <a href="systemd-system.conf.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-system.conf</span>(5)</span></a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可以使用 systemd-system.conf(5) 中的 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultIPAccounting=</code> 控制此设置的系统默认值。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v235" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 235.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 235 中。</font></font></font></p></dd><dt id="IPAddressAllow=ADDRESS[/PREFIXLENGTH]…" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPAddressAllow=<em class="replaceable"><code>ADDRESS[/PREFIXLENGTH]…</code></em></code>, </span><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPAddressDeny=<em class="replaceable"><code>ADDRESS[/PREFIXLENGTH]…</code></em></code></span><a class="headerlink" title="Permalink to this term" href="#IPAddressAllow=ADDRESS%5B/PREFIXLENGTH%5D%E2%80%A6" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPAddressAllow=<em class="replaceable"><code>ADDRESS[/PREFIXLENGTH]…</code></em></code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPAddressDeny=<em class="replaceable"><code>ADDRESS[/PREFIXLENGTH]…</code></em></code> ¶</font></font></font></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Turn on network traffic filtering for IP packets sent and received over
          <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">AF_INET</code> and <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">AF_INET6</code> sockets. Both directives take a
          space separated list of IPv4 or IPv6 addresses, each optionally suffixed with an address prefix
          length in bits after a "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/</code>" character. If the suffix is omitted, the address is
          considered a host address, i.e. the filter covers the whole address (32 bits for IPv4, 128 bits for
          IPv6).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">打开 IP 数据包的网络流量过滤，用于发送和接收 <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">AF_INET</code> 和 <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">AF_INET6</code> 套接字上的 IP 数据包。这两个指令都接受一个以空格分隔的 IPv4 或 IPv6 地址列表，每个地址后面可以选择地跟随一个地址前缀长度（以位为单位）的 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/</code> " 字符。如果省略后缀，则该地址被视为主机地址，即过滤器覆盖整个地址（IPv4 为 32 位，IPv6 为 128 位）。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">The access lists configured with this option are applied to all sockets created by processes
          of this unit (or in the case of socket units, associated with it). The lists are implicitly
          combined with any lists configured for any of the parent slice units this unit might be a member
          of. By default both access lists are empty. Both ingress and egress traffic is filtered by these
          settings. In case of ingress traffic the source IP address is checked against these access lists,
          in case of egress traffic the destination IP address is checked. The following rules are applied in
          turn:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置此选项的访问列表将应用于由此单元的进程创建的所有套接字（或在套接字单元的情况下，与之关联）。这些列表隐式地与此单元可能是成员的任何父片段单元配置的任何列表组合。默认情况下，两个访问列表均为空。这些设置过滤入站和出站流量。对于入站流量，源 IP 地址将与这些访问列表进行匹配，对于出站流量，目标 IP 地址将进行匹配。依次应用以下规则：</font></font></font></p><div class="itemizedlist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><ul class="itemizedlist" style="list-style-type: disc; " data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><li class="listitem" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Access is granted when the checked IP address matches an entry in the
            <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPAddressAllow=</code> list.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当检查的 IP 地址与 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPAddressAllow=</code> 列表中的条目匹配时，授予访问权限。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Otherwise, access is denied when the checked IP address matches an entry in the
            <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPAddressDeny=</code> list.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">否则，当检查的 IP 地址与 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPAddressDeny=</code> 列表中的条目匹配时，拒绝访问。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Otherwise, access is granted.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">否则，将授予访问权限。</font></font></font></p></li></ul></div><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">In order to implement an allow-listing IP firewall, it is recommended to use a
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPAddressDeny=</code><code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">any</code> setting on an upper-level slice unit
          (such as the root slice <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">-.slice</code> or the slice containing all system services
          <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">system.slice</code> – see
          <a href="systemd.special.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.special</span>(7)</span></a>
          for details on these slice units), plus individual per-service <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPAddressAllow=</code>
          lines permitting network access to relevant services, and only them.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">为了实现白名单 IP 防火墙，建议在上层切片单元（例如根切片或包含所有系统服务的切片 - 有关这些切片单元的详细信息，请参阅 systemd.special(7)）上使用 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPAddressDeny=</code> <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">any</code> 设置，以及允许与相关服务建立网络访问的每个单独的每个服务 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPAddressAllow=</code> 行，仅限于它们。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Note that for socket-activated services, the IP access list configured on the socket unit
          applies to all sockets associated with it directly, but not to any sockets created by the
          ultimately activated services for it. Conversely, the IP access list configured for the service is
          not applied to any sockets passed into the service via socket activation. Thus, it is usually a
          good idea to replicate the IP access lists on both the socket and the service unit. Nevertheless,
          it may make sense to maintain one list more open and the other one more restricted, depending on
          the use case.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，对于套接字激活的服务，配置在套接字单元上的 IP 访问列表直接应用于与之关联的所有套接字，但不适用于最终为其激活的服务创建的任何套接字。反之，为服务配置的 IP 访问列表不适用于通过套接字激活传递到服务的任何套接字。因此，通常最好在套接字和服务单元上复制 IP 访问列表。尽管如此，根据用例，保持一个列表更加开放，另一个列表更加受限可能是有意义的。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">If these settings are used multiple times in the same unit the specified lists are combined. If an
          empty string is assigned to these settings the specific access list is reset and all previous settings undone.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果这些设置在同一单元中多次使用，则指定的列表将被合并。如果将空字符串分配给这些设置，则特定访问列表将被重置，并且所有先前的设置将被撤消。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">In place of explicit IPv4 or IPv6 address and prefix length specifications a small set of symbolic
          names may be used. The following names are defined:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可以使用一小组符号名称来代替明确的 IPv4 或 IPv6 地址和前缀长度规范。定义了以下名称：</font></font></font></p><div class="table" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><a name="id-1.7.7.2.2.3.8" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a><p class="title" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><b data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Table&nbsp;1.&nbsp;Special address/network names<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">表 1. 特殊地址/网络名称</font></font></font></b></p><div class="table-contents" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><table class="table" summary="Special address/network names" border="1" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><colgroup data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><col class="name" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><col class="definition" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><col class="meaning" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></colgroup><thead data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><tr data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><th data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Symbolic Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">符号名称</font></font></font></th><th>Definition</th><th>Meaning</th></tr></thead><tbody data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><tr data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><td><code class="constant">any</code></td><td data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">0.0.0.0/0 ::/0</td><td data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Any host<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">任何主机</font></font></font></td></tr><tr data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><td><code class="constant">localhost</code></td><td data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">127.0.0.0/8 ::1/128</td><td data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">All addresses on the local loopback<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">本地回环上的所有地址</font></font></font></td></tr><tr data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><td><code class="constant">link-local</code></td><td data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">169.254.0.0/16 fe80::/64</td><td data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">All link-local IP addresses<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">所有链路本地 IP 地址</font></font></font></td></tr><tr data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><td><code class="constant">multicast</code></td><td data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">224.0.0.0/4 ff00::/8</td><td data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">All IP multicasting addresses<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">所有 IP 多播地址</font></font></font></td></tr></tbody></table></div></div><br class="table-break" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Note that these settings might not be supported on some systems (for example if eBPF control group
          support is not enabled in the underlying kernel or container manager). These settings will have no effect in
          that case. If compatibility with such systems is desired it is hence recommended to not exclusively rely on
          them for IP security.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，这些设置可能不受某些系统支持（例如，如果底层内核或容器管理器中未启用 eBPF 控制组支持）。在这种情况下，这些设置将不起作用。如果希望与这些系统兼容，因此建议不要仅仅依赖它们来进行 IP 安全。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="singular" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>This option cannot be bypassed by prefixing "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">+</code>" to the executable path
in the service unit, as it applies to the whole control group.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">无法通过在服务单元的可执行路径前加上“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">+</code> ”来绕过此选项，因为它适用于整个控制组。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v235" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 235.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 235 中。</font></font></font></p></dd><dt id="SocketBindAllow=bind-rule" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">SocketBindAllow=<em class="replaceable"><code>bind-rule</code></em></code>, </span><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">SocketBindDeny=<em class="replaceable"><code>bind-rule</code></em></code></span><a class="headerlink" title="Permalink to this term" href="#SocketBindAllow=bind-rule" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">SocketBindAllow=<em class="replaceable"><code>bind-rule</code></em></code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">SocketBindDeny=<em class="replaceable"><code>bind-rule</code></em></code> ¶</font></font></font></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Allow or deny binding a socket address to a socket by matching it with the <em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">bind-rule</code></em> and
          applying a corresponding action if there is a match.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">允许或拒绝通过与 <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">bind-rule</code> 匹配来将套接字地址绑定到套接字，并在匹配时应用相应的操作。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">bind-rule</code></em> describes socket properties such as <em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">address-family</code></em>,
          <em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">transport-protocol</code></em> and <em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip-ports</code></em>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">bind-rule</code> 描述套接字属性，如 <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">address-family</code> ， <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">transport-protocol</code> 和 <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip-ports</code> 。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">bind-rule</code></em> :=
          { [<em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">address-family</code></em><code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">:</code>][<em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">transport-protocol</code></em><code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">:</code>][<em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip-ports</code></em>] | <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">any</code> }</p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">address-family</code></em> := { <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ipv4</code> | <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ipv6</code> }</p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">transport-protocol</code></em> := { <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">tcp</code> | <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">udp</code> }</p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip-ports</code></em> := { <em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip-port</code></em> | <em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip-port-range</code></em> }</p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">An optional <em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">address-family</code></em> expects <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ipv4</code> or <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ipv6</code> values.
          If not specified, a rule will be matched for both IPv4 and IPv6 addresses and applied depending on other socket fields, e.g. <em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">transport-protocol</code></em>,
          <em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip-port</code></em>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一个可选的 <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">address-family</code> 期望 <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ipv4</code> 或 <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ipv6</code> 值。如果未指定，规则将匹配 IPv4 和 IPv6 地址，并根据其他套接字字段应用，例如 <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">transport-protocol</code> ， <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip-port</code> 。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">An optional <em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">transport-protocol</code></em> expects <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">tcp</code> or <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">udp</code> transport protocol names.
          If not specified, a rule will be matched for any transport protocol.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一个可选的 <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">transport-protocol</code> 期望 <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">tcp</code> 或 <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">udp</code> 传输协议名称。如果未指定，规则将匹配任何传输协议。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">An optional <em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip-port</code></em> value must lie within 1…65535 interval inclusively, i.e.
          dynamic port <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">0</code> is not allowed. A range of sequential ports is described by
          <em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip-port-range</code></em> := <em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip-port-low</code></em><code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">-</code><em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip-port-high</code></em>,
          where <em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip-port-low</code></em> is smaller than or equal to <em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip-port-high</code></em>
          and both are within 1…65535 inclusively.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">一个可选的 <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip-port</code> 值必须在 1…65535 区间内，即不允许动态端口 <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">0</code> 。一系列连续端口由 <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip-port-range</code> 描述：= <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip-port-low</code> <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">-</code> <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip-port-high</code> ，其中 <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip-port-low</code> 小于或等于 <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip-port-high</code> ，且两者均在 1…65535 之内。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">A special value <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">any</code> can be used to apply a rule to any address family, transport protocol and any port with a positive value.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">特殊值 <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">any</code> 可用于将规则应用于任何地址族、传输协议和任何具有正值的端口。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">To allow multiple rules assign <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">SocketBindAllow=</code> or <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">SocketBindDeny=</code> multiple times.
          To clear the existing assignments pass an empty <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">SocketBindAllow=</code> or <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">SocketBindDeny=</code>
          assignment.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">要允许多个规则，请多次分配 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">SocketBindAllow=</code> 或 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">SocketBindDeny=</code> 。要清除现有的分配，请传递一个空的 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">SocketBindAllow=</code> 或 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">SocketBindDeny=</code> 分配。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">For each of <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">SocketBindAllow=</code> and <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">SocketBindDeny=</code>, maximum allowed number of assignments is
          <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">128</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">对于每个 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">SocketBindAllow=</code> 和 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">SocketBindDeny=</code> ，允许的最大分配数为 <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">128</code> 。</font></font></font></p><div class="itemizedlist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><ul class="itemizedlist" style="list-style-type: disc; " data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><li class="listitem" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Binding to a socket is allowed when a socket address matches an entry in the
            <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">SocketBindAllow=</code> list.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当套接字地址与 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">SocketBindAllow=</code> 列表中的条目匹配时，允许绑定到套接字。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Otherwise, binding is denied when the socket address matches an entry in the
            <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">SocketBindDeny=</code> list.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">否则，当套接字地址与 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">SocketBindDeny=</code> 列表中的条目匹配时，拒绝绑定。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Otherwise, binding is allowed.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">否则，允许绑定。</font></font></font></p></li></ul></div><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">The feature is implemented with <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cgroup/bind4</code> and <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cgroup/bind6</code> cgroup-bpf hooks.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">该功能是通过 <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cgroup/bind4</code> 和 <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cgroup/bind6</code> cgroup-bpf 钩子实现的。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Examples:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例:</font></font></font></p><pre class="programlisting">…
# Allow binding IPv6 socket addresses with a port greater than or equal to 10000.
[Service]
SocketBindAllow=ipv6:10000-65535
SocketBindDeny=any
…
# Allow binding IPv4 and IPv6 socket addresses with 1234 and 4321 ports.
[Service]
SocketBindAllow=1234
SocketBindAllow=4321
SocketBindDeny=any
…
# Deny binding IPv6 socket addresses.
[Service]
SocketBindDeny=ipv6
…
# Deny binding IPv4 and IPv6 socket addresses.
[Service]
SocketBindDeny=any
…
# Allow binding only over TCP
[Service]
SocketBindAllow=tcp
SocketBindDeny=any
…
# Allow binding only over IPv6/TCP
[Service]
SocketBindAllow=ipv6:tcp
SocketBindDeny=any
…
# Allow binding ports within 10000-65535 range over IPv4/UDP.
[Service]
SocketBindAllow=ipv4:udp:10000-65535
SocketBindDeny=any
…</pre><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="singular" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>This option cannot be bypassed by prefixing "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">+</code>" to the executable path
in the service unit, as it applies to the whole control group.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">无法通过在服务单元的可执行路径前加上 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">+</code> " 来绕过此选项，因为它适用于整个控制组。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v249" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 249.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 249 中。</font></font></font></p></dd><dt id="RestrictNetworkInterfaces=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">RestrictNetworkInterfaces=</code></span><a class="headerlink" title="Permalink to this term" href="#RestrictNetworkInterfaces=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Takes a list of space-separated network interface names. This option restricts the network
          interfaces that processes of this unit can use. By default processes can only use the network interfaces
          listed (allow-list). If the first character of the rule is "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">~</code>", the effect is inverted:
          the processes can only use network interfaces not listed (deny-list).
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受一组以空格分隔的网络接口名称。此选项限制了该单元的进程可以使用的网络接口。默认情况下，进程只能使用列出的网络接口（允许列表）。如果规则的第一个字符是 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">~</code> "，则效果是反转的：进程只能使用未列出的网络接口（拒绝列表）。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">This option can appear multiple times, in which case the network interface names are merged. If the
          empty string is assigned the set is reset, all prior assignments will have not effect.
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项可以出现多次，此时网络接口名称将被合并。如果分配空字符串，则集合将被重置，所有先前的分配将不起作用。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">If you specify both types of this option (i.e. allow-listing and deny-listing), the first encountered
          will take precedence and will dictate the default action (allow vs deny). Then the next occurrences of this
          option will add or delete the listed network interface names from the set, depending of its type and the
          default action.
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果您同时指定此选项的两种类型（即允许列表和拒绝列表），则首次遇到的类型将优先，并将决定默认操作（允许 vs 拒绝）。然后，此选项的后续出现将根据其类型和默认操作添加或删除列出的网络接口名称。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">The loopback interface ("lo") is not treated in any special way, you have to configure it explicitly
          in the unit file.
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">回环接口（"lo"）不会以任何特殊方式处理，您必须在单元文件中显式配置它。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Example 1: allow-list
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 1：允许列表</font></font></font></p><pre class="programlisting">RestrictNetworkInterfaces=eth1
RestrictNetworkInterfaces=eth2</pre><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">
          Programs in the unit will be only able to use the eth1 and eth2 network
          interfaces.
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">单元中的程序只能使用 eth1 和 eth2 网络接口。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Example 2: deny-list
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 2：拒绝列表</font></font></font></p><pre class="programlisting">RestrictNetworkInterfaces=~eth1 eth2</pre><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">
          Programs in the unit will be able to use any network interface but eth1 and eth2.
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">该单元中的程序可以使用任何网络接口，但不能使用 eth1 和 eth2。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Example 3: mixed
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 3：混合</font></font></font></p><pre class="programlisting">RestrictNetworkInterfaces=eth1 eth2
RestrictNetworkInterfaces=~eth1</pre><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">
          Programs in the unit will be only able to use the eth2 network interface.
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">该单元中的程序只能使用 eth2 网络接口。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="singular" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>This option cannot be bypassed by prefixing "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">+</code>" to the executable path
in the service unit, as it applies to the whole control group.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">无法通过在服务单元的可执行路径前加上“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">+</code> ”来绕过此选项，因为它适用于整个控制组。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v250" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 250.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 250 中添加。</font></font></font></p></dd><dt id="NFTSet=family:table:set" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">NFTSet=</code><em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">family</code></em>:<em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">table</code></em>:<em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">set</code></em></span><a class="headerlink" title="Permalink to this term" href="#NFTSet=family:table:set" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">NFTSet=</code> <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">family</code> ： <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">table</code> ： <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">set</code> ¶</font></font></font></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">This setting provides a method for integrating dynamic cgroup, user and group IDs into
          firewall rules with <a class="ulink" href="https://netfilter.org/projects/nftables/index.html" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">NFT</a>
          sets. The benefit of using this setting is to be able to use the IDs as selectors in firewall rules
          easily and this in turn allows more fine grained filtering. NFT rules for cgroup matching use
          numeric cgroup IDs, which change every time a service is restarted, making them hard to use in
          systemd environment otherwise. Dynamic and random IDs used by <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DynamicUser=</code> can
          be also integrated with this setting.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此设置提供了一种将动态 cgroup、用户和组 ID 集成到带有 NFT 集的防火墙规则中的方法。使用此设置的好处是能够轻松地将这些 ID 用作防火墙规则中的选择器，从而实现更精细的过滤。用于 cgroup 匹配的 NFT 规则使用数字 cgroup ID，每次服务重新启动时都会更改，否则很难在 systemd 环境中使用。 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DynamicUser=</code> 使用的动态和随机 ID 也可以与此设置集成。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">This option expects a whitespace separated list of NFT set definitions. Each definition
          consists of a colon-separated tuple of source type (one of "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cgroup</code>",
          "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">user</code>" or "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">group</code>"), NFT address family (one of
          "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">arp</code>", "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">bridge</code>", "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">inet</code>", "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip</code>",
          "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip6</code>", or "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">netdev</code>"), table name and set name. The names of tables
          and sets must conform to lexical restrictions of NFT table names. The type of the element used in
          the NFT filter must match the type implied by the directive ("<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cgroup</code>",
          "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">user</code>" or "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">group</code>") as shown in the table below. When a control
          group or a unit is realized, the corresponding ID will be appended to the NFT sets and it will be
          be removed when the control group or unit is removed. <span class="command" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><strong data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd</strong></span> only inserts
          elements to (or removes from) the sets, so the related NFT rules, tables and sets must be prepared
          elsewhere in advance. Failures to manage the sets will be ignored.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项期望一个以空格分隔的 NFT 集定义列表。每个定义由源类型（为 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cgroup</code> "、" <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">user</code> " 或 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">group</code> " 中的一个）、NFT 地址族（为 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">arp</code> "、" <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">bridge</code> "、" <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">inet</code> "、" <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip</code> "、" <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ip6</code> " 或 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">netdev</code> " 中的一个）、表名和集名组成的以冒号分隔的元组。表和集的名称必须符合 NFT 表名的词法限制。NFT 过滤器中使用的元素类型必须与指令隐含的类型（如下表所示的 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cgroup</code> "、" <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">user</code> " 或 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">group</code> "）相匹配。当实现控制组或单元时，相应的 ID 将附加到 NFT 集中，并在删除控制组或单元时将其移除。systemd 仅向集中插入元素（或从中删除元素），因此相关的 NFT 规则、表和集必须提前准备好。无法管理集合的故障将被忽略。</font></font></font></p><div class="table" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><a name="id-1.7.7.2.5.2.3" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a><p class="title" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><b data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Table&nbsp;2.&nbsp;Defined <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">source type</code> values<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">表 2. 已定义的 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">source type</code> 值</font></font></font></b></p><div class="table-contents" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><table class="table" summary="Defined source type values" border="1" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><colgroup data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><col class="source type" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><col class="description" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><col class="NFT type name" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></colgroup><thead data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><tr data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><th data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Source type<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">源类型</font></font></font></th><th>Description</th><th data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Corresponding NFT type name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">相应的 NFT 类型名称</font></font></font></th></tr></thead><tbody data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><tr data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><td data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">"<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cgroup</code>"<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cgroup</code> ”</font></font></font></td><td data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">control group ID<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">控制组 ID</font></font></font></td><td data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">"<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cgroupsv2</code>"<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cgroupsv2</code> ”</font></font></font></td></tr><tr data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><td data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">"<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">user</code>"<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">user</code> ”</font></font></font></td><td data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">user ID<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用户 ID</font></font></font></td><td data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">"<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">meta skuid</code>"<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">meta skuid</code> ”</font></font></font></td></tr><tr data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><td data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">"<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">group</code>"<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">group</code> ”</font></font></font></td><td data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">group ID<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">组 ID</font></font></font></td><td data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">"<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">meta skgid</code>"<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">meta skgid</code> ”</font></font></font></td></tr></tbody></table></div></div><br class="table-break" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">If the firewall rules are reinstalled so that the contents of NFT sets are destroyed, command
          <span class="command" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><strong data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemctl daemon-reload</strong></span> can be used to refill the sets.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果防火墙规则被重新安装以销毁 NFT 集的内容，可以使用命令 systemctl daemon-reload 来重新填充这些集合。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Example:
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">例子:</font></font></font></p><pre class="programlisting">[Unit]
NFTSet=cgroup:inet:filter:my_service user:inet:filter:serviceuser
</pre><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">
          Corresponding NFT rules:
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">相应的 NFT 规则:</font></font></font></p><pre class="programlisting">table inet filter {
        set my_service {
                type cgroupsv2
        }
        set serviceuser {
                typeof meta skuid
        }
        chain x {
                socket cgroupv2 level 2 @my_service accept
                drop
        }
        chain y {
                meta skuid @serviceuser accept
                drop
        }
}</pre><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">
          </p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v255" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 255.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 255 中添加。</font></font></font></p></dd></dl></div></div><div class="refsect2" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><a name="id-1.7.8" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a><h3 id="BPF Programs" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">BPF Programs<a class="headerlink" title="Permalink to this headline" href="#BPF%20Programs" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">BPF 程序 ¶</font></font></font></h3><div class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dl class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dt id="IPIngressFilterPath=BPF_FS_PROGRAM_PATH" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPIngressFilterPath=<em class="replaceable"><code>BPF_FS_PROGRAM_PATH</code></em></code>, </span><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPEgressFilterPath=<em class="replaceable"><code>BPF_FS_PROGRAM_PATH</code></em></code></span><a class="headerlink" title="Permalink to this term" href="#IPIngressFilterPath=BPF_FS_PROGRAM_PATH" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPIngressFilterPath=<em class="replaceable"><code>BPF_FS_PROGRAM_PATH</code></em></code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPEgressFilterPath=<em class="replaceable"><code>BPF_FS_PROGRAM_PATH</code></em></code> ¶</font></font></font></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Add custom network traffic filters implemented as BPF programs, applying to all IP packets
          sent and received over <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">AF_INET</code> and <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">AF_INET6</code> sockets.
          Takes an absolute path to a pinned BPF program in the BPF virtual filesystem (<code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/sys/fs/bpf/</code>).
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加自定义网络流量过滤器，实现为 BPF 程序，适用于所有通过 <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">AF_INET</code> 和 <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">AF_INET6</code> sockets 发送和接收的 IP 数据包。接受 BPF 虚拟文件系统中固定 BPF 程序的绝对路径（ <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/sys/fs/bpf/</code> ）。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">The filters configured with this option are applied to all sockets created by processes
          of this unit (or in the case of socket units, associated with it). The filters are loaded in addition
          to filters any of the parent slice units this unit might be a member of as well as any
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPAddressAllow=</code> and <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPAddressDeny=</code> filters in any of these units.
          By default there are no filters specified.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用此选项配置的过滤器将应用于此单元的所有进程创建的所有 sockets（或在 socket 单元的情况下，与之关联）。这些过滤器将加载到此单元可能是成员的任何父片段单元以及这些单元中的任何 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPAddressAllow=</code> 和 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPAddressDeny=</code> 过滤器中。默认情况下，未指定任何过滤器。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">If these settings are used multiple times in the same unit all the specified programs are attached. If an
          empty string is assigned to these settings the program list is reset and all previous specified programs ignored.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果这些设置在同一个单元中多次使用，则所有指定的程序都会被附加。如果将空字符串分配给这些设置，则程序列表将被重置，并且所有先前指定的程序将被忽略。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">If the path <em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BPF_FS_PROGRAM_PATH</code></em> in <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPIngressFilterPath=</code> assignment
          is already being handled by <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BPFProgram=</code> ingress hook, e.g.
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BPFProgram=</code><code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ingress</code>:<em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BPF_FS_PROGRAM_PATH</code></em>,
          the assignment will be still considered valid and the program will be attached to a cgroup. Same for
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPEgressFilterPath=</code> path and <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">egress</code> hook.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果路径 <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BPF_FS_PROGRAM_PATH</code> 在 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPIngressFilterPath=</code> 分配中已经由 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BPFProgram=</code> 入口钩子处理，例如 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BPFProgram=</code> <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ingress</code> : <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BPF_FS_PROGRAM_PATH</code> ，则该分配仍将被视为有效，并且程序将附加到 cgroup。对于 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPEgressFilterPath=</code> 路径和 <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">egress</code> 钩子也是一样的。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Note that for socket-activated services, the IP filter programs configured on the socket unit apply to
          all sockets associated with it directly, but not to any sockets created by the ultimately activated services
          for it. Conversely, the IP filter programs configured for the service are not applied to any sockets passed into
          the service via socket activation. Thus, it is usually a good idea, to replicate the IP filter programs on both
          the socket and the service unit, however it often makes sense to maintain one configuration more open and the other
          one more restricted, depending on the use case.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，对于套接字激活的服务，配置在套接字单元上的 IP 过滤程序适用于直接与其关联的所有套接字，但不适用于最终为其激活的服务创建的任何套接字。相反，为服务配置的 IP 过滤程序不适用于通过套接字激活传递给服务的任何套接字。因此，通常最好在套接字单元和服务单元上复制 IP 过滤程序，但根据用例，通常更合理地保持一个配置更开放，另一个配置更受限制。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Note that these settings might not be supported on some systems (for example if eBPF control group
          support is not enabled in the underlying kernel or container manager). These settings will fail the service in
          that case. If compatibility with such systems is desired it is hence recommended to attach your filter manually
          (requires <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Delegate=</code><code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">yes</code>) instead of using this setting.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，这些设置可能不受某些系统支持（例如，如果底层内核或容器管理器中未启用 eBPF 控制组支持）。在这种情况下，这些设置将导致服务失败。如果需要与这些系统兼容，因此建议手动附加您的过滤器（需要 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Delegate=</code> <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">yes</code> ）而不是使用此设置。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v243" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 243.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 243 中添加。</font></font></font></p></dd><dt id="BPFProgram=type:program-path" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BPFProgram=<em class="replaceable"><code>type</code></em>:<em class="replaceable"><code>program-path</code></em></code></span><a class="headerlink" title="Permalink to this term" href="#BPFProgram=type:program-path" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BPFProgram=</code> allows attaching custom BPF programs to the cgroup of a
          unit. (This generalizes the functionality exposed via <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPEgressFilterPath=</code> and
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPIngressFilterPath=</code> for other hooks.)  Cgroup-bpf hooks in the form of BPF
          programs loaded to the BPF filesystem are attached with cgroup-bpf attach flags determined by the
          unit. For details about attachment types and flags see <a class="ulink" href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/plain/include/uapi/linux/bpf.h" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">bpf.h</code></a>. Also
          refer to the general <a class="ulink" href="https://docs.kernel.org/bpf/" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BPF documentation</a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BPFProgram=</code> 允许将自定义 BPF 程序附加到单元的 cgroup。 （这推广了通过 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPEgressFilterPath=</code> 和 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPIngressFilterPath=</code> 公开的功能以用于其他挂钩。）以 BPF 程序加载到 BPF 文件系统的形式出现的 cgroup-bpf 挂钩是由单元确定的 cgroup-bpf 附加标志附加的。有关附加类型和标志的详细信息，请参阅 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">bpf.h</code> 。还请参阅一般的 BPF 文档。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">The specification of BPF program consists of a pair of BPF program type and program path in
          the file system, with "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">:</code>" as the separator:
          <em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">type</code></em>:<em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">program-path</code></em>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">BPF 程序的规范由 BPF 程序类型和文件系统中的程序路径组成，以 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">:</code> " 作为分隔符： <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">type</code> ： <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">program-path</code> 。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">The BPF program type is equivalent to the BPF attach type used in
          <a href="https://www.mankier.com/8/bpftool" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">bpftool</span>(8)</span></a>
          It may be one of
          <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">egress</code>,
          <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ingress</code>,
          <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">sock_create</code>,
          <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">sock_ops</code>,
          <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">device</code>,
          <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">bind4</code>,
          <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">bind6</code>,
          <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">connect4</code>,
          <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">connect6</code>,
          <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">post_bind4</code>,
          <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">post_bind6</code>,
          <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">sendmsg4</code>,
          <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">sendmsg6</code>,
          <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">sysctl</code>,
          <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">recvmsg4</code>,
          <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">recvmsg6</code>,
          <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">getsockopt</code>,
          or <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">setsockopt</code>.
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">BPF 程序类型等同于 bpftool(8) 中使用的 BPF 附加类型之一，可能是 <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">egress</code> ， <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ingress</code> ， <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">sock_create</code> ， <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">sock_ops</code> ， <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">device</code> ， <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">bind4</code> ， <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">bind6</code> ， <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">connect4</code> ， <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">connect6</code> ， <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">post_bind4</code> ， <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">post_bind6</code> ， <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">sendmsg4</code> ， <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">sendmsg6</code> ， <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">sysctl</code> ， <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">recvmsg4</code> ， <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">recvmsg6</code> ， <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">getsockopt</code> 或 <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">setsockopt</code> 之一。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">The specified program path must be an absolute path referencing a BPF program inode in the
          bpffs file system (which generally means it must begin with <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/sys/fs/bpf/</code>). If
          a specified program does not exist (i.e. has not been uploaded to the BPF subsystem of the kernel
          yet), it will not be installed but unit activation will continue (a warning will be printed to the
          logs).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定的程序路径必须是引用 bpffs 文件系统中的 BPF 程序 inode 的绝对路径（通常意味着必须以 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/sys/fs/bpf/</code> 开头）。如果指定的程序不存在（即尚未上传到内核的 BPF 子系统中），它将不会被安装，但单元激活将继续（日志将打印警告）。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Setting <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BPFProgram=</code> to an empty value makes previous assignments
          ineffective.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BPFProgram=</code> 设置为空值会使先前的赋值无效。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Multiple assignments of the same program type/path pair have the same effect as a single
          assignment: the program will be attached just once.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">相同程序类型/路径对的多个赋值与单个赋值具有相同效果：程序将仅附加一次。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">If BPF <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">egress</code> pinned to <em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">program-path</code></em> path is already being
          handled by <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPEgressFilterPath=</code>, <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BPFProgram=</code>
          assignment will be considered valid and <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BPFProgram=</code> will be attached to a cgroup.
          Similarly for <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ingress</code> hook and <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPIngressFilterPath=</code> assignment.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果已经由 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPEgressFilterPath=</code> 处理的 BPF <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">egress</code> 固定到 <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">program-path</code> 路径，则 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BPFProgram=</code> 赋值将被视为有效，并且 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BPFProgram=</code> 将附加到 cgroup。类似地，对于 <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ingress</code> 钩子和 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">IPIngressFilterPath=</code> 赋值。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">BPF programs passed with <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BPFProgram=</code> are attached to the cgroup of a unit
          with BPF attach flag <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">multi</code>, that allows further attachments of the same
          <em class="replaceable" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">type</code></em> within cgroup hierarchy topped by the unit cgroup.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">通过 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BPFProgram=</code> 传递的 BPF 程序附加到具有 BPF 附加标志 <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">multi</code> 的单元的 cgroup，该标志允许在由单元 cgroup 顶部的 cgroup 层次结构中进一步附加相同的 <code data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">type</code> 。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Examples:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例:</font></font></font></p><pre class="programlisting">BPFProgram=egress:/sys/fs/bpf/egress-hook
BPFProgram=bind6:/sys/fs/bpf/sock-addr-hook
</pre><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v249" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 249.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 249 中。</font></font></font></p></dd></dl></div></div><div class="refsect2" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><a name="id-1.7.9" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a><h3 id="Device Access" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Device Access<a class="headerlink" title="Permalink to this headline" href="#Device%20Access" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设备访问 ¶</font></font></font></h3><div class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dl class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dt id="DeviceAllow=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DeviceAllow=</code></span><a class="headerlink" title="Permalink to this term" href="#DeviceAllow=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Control access to specific device nodes by the executed processes. Takes two space-separated
          strings: a device node specifier followed by a combination of <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">r</code>,
          <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">w</code>, <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">m</code> to control <span class="emphasis" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><em data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">r</em></span>eading,
          <span class="emphasis" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><em data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">w</em></span>riting, or creation of the specific device nodes by the unit
          (<span class="emphasis" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><em data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">m</em></span>knod), respectively. This functionality is implemented using eBPF
          filtering.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">通过执行的进程控制对特定设备节点的访问。接受两个以空格分隔的字符串：设备节点说明符，后跟 <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">r</code> ， <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">w</code> ， <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">m</code> 的组合，以控制单元（mknod）对特定设备节点的读取、写入或创建。此功能使用 eBPF 过滤实现。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">When access to <span class="emphasis" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><em data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">all</em></span> physical devices should be disallowed,
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">PrivateDevices=</code> may be used instead. See
          <a href="systemd.exec.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.exec</span>(5)</span></a>.
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当禁止访问所有物理设备时，可以使用 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">PrivateDevices=</code> 。请参阅 systemd.exec(5)。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">The device node specifier is either a path to a device node in the file system, starting with
          <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/dev/</code>, or a string starting with either "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">char-</code>" or
          "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">block-</code>" followed by a device group name, as listed in
          <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/proc/devices</code>. The latter is useful to allow-list all current and future
          devices belonging to a specific device group at once. The device group is matched according to
          filename globbing rules, you may hence use the "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">*</code>" and "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">?</code>"
          wildcards. (Note that such globbing wildcards are not available for device node path
          specifications!) In order to match device nodes by numeric major/minor, use device node paths in
          the <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/dev/char/</code> and <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/dev/block/</code> directories. However,
          matching devices by major/minor is generally not recommended as assignments are neither stable nor
          portable between systems or different kernel versions.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设备节点说明符是文件系统中设备节点的路径，以 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/dev/</code> 开头，或者以“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">char-</code> ”或“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">block-</code> ”开头的字符串，后面跟着设备组名称，如 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/proc/devices</code> 中所列。后者可用于一次性允许特定设备组中所有当前和未来的设备。设备组根据文件名通配符规则进行匹配，因此您可以使用“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">*</code> ”和“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">?</code> ”通配符。（请注意，此类通配符在设备节点路径规范中不可用！）为了通过数字主/次匹配设备节点，请使用 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/dev/char/</code> 和 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/dev/block/</code> 目录中的设备节点路径。但是，通常不建议通过主/次匹配设备，因为分配在系统或不同内核版本之间既不稳定也不可移植。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Examples: <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/dev/sda5</code> is a path to a device node, referring to an ATA or
          SCSI block device. "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">char-pts</code>" and "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">char-alsa</code>" are specifiers for
          all pseudo TTYs and all ALSA sound devices, respectively. "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">char-cpu/*</code>" is a
          specifier matching all CPU related device groups.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例： <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/dev/sda5</code> 是指向 ATA 或 SCSI 块设备的设备节点路径。" <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">char-pts</code> "和" <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">char-alsa</code> "是所有伪 TTY 和所有 ALSA 声音设备的说明符，分别。" <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">char-cpu/*</code> "是匹配所有 CPU 相关设备组的说明符。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Note that allow lists defined this way should only reference device groups which are
          resolvable at the time the unit is started. Any device groups not resolvable then are not added to
          the device allow list. In order to work around this limitation, consider extending service units
          with a pair of <span class="command" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><strong data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">After=modprobe@xyz.service</strong></span> and
          <span class="command" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><strong data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Wants=modprobe@xyz.service</strong></span> lines that load the necessary kernel module
          implementing the device group if missing.
          Example: <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，以这种方式定义的允许列表应该只引用在单元启动时可解析的设备组。那时无法解析的任何设备组都不会添加到设备允许列表中。为了解决这个限制，考虑通过添加一对 After=modprobe@xyz.service 和 Wants=modprobe@xyz.service 行来扩展服务单元，以在缺失时加载实现设备组的必要内核模块。示例：</font></font></font></p><pre class="programlisting">…
[Unit]
Wants=modprobe@loop.service
After=modprobe@loop.service

[Service]
DeviceAllow=block-loop
DeviceAllow=/dev/loop-control
…</pre><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="singular" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>This option cannot be bypassed by prefixing "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">+</code>" to the executable path
in the service unit, as it applies to the whole control group.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">无法通过在服务单元中的可执行路径前加上“ <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">+</code> ”来绕过此选项，因为它适用于整个控制组。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v208" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 208.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 208 中添加。</font></font></font></p></dd><dt id="DevicePolicy=auto|closed|strict" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DevicePolicy=auto|closed|strict</code></span><a class="headerlink" title="Permalink to this term" href="#DevicePolicy=auto%7Cclosed%7Cstrict" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">
            Control the policy for allowing device access:
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">控制允许设备访问的策略：</font></font></font></p><div class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dl class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dt id="strict" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">strict</code></span><a class="headerlink" title="Permalink to this term" href="#strict" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">means to only allow types of access that are
                explicitly specified.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">意味着只允许明确指定的访问类型。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v208" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 208.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 208 中添加。</font></font></font></p></dd><dt id="closed" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">closed</code></span><a class="headerlink" title="Permalink to this term" href="#closed" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">in addition, allows access to standard pseudo
                devices including
                <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/dev/null</code>,
                <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/dev/zero</code>,
                <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/dev/full</code>,
                <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/dev/random</code>, and
                <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/dev/urandom</code>.
                <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此外，允许访问标准伪设备，包括 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/dev/null</code> ， <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/dev/zero</code> ， <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/dev/full</code> ， <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/dev/random</code> 和 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/dev/urandom</code> 。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v208" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 208.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 208 中添加。</font></font></font></p></dd><dt id="auto" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">auto</code></span><a class="headerlink" title="Permalink to this term" href="#auto" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">
                  in addition, allows access to all devices if no
                  explicit <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DeviceAllow=</code> is present.
                  This is the default.
                <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此外，如果没有明确的 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DeviceAllow=</code> 存在，则允许访问所有设备。这是默认设置。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v208" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 208.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 208 中添加。</font></font></font></p></dd></dl></div><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="singular" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>This option cannot be bypassed by prefixing "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">+</code>" to the executable path
in the service unit, as it applies to the whole control group.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">无法通过在服务单元的可执行路径前加上 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">+</code> " 来绕过此选项，因为它适用于整个控制组。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v208" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 208.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 208 中添加。</font></font></font></p></dd></dl></div></div><div class="refsect2" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><a name="id-1.7.10" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a><h3 id="Control Group Management" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Control Group Management<a class="headerlink" title="Permalink to this headline" href="#Control%20Group%20Management" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">控制组管理</font></font></font></h3><div class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dl class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dt id="Slice=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Slice=</code></span><a class="headerlink" title="Permalink to this term" href="#Slice=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">The name of the slice unit to place the unit
          in. Defaults to <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">system.slice</code> for all
          non-instantiated units of all unit types (except for slice
          units themselves see below). Instance units are by default
          placed in a subslice of <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">system.slice</code>
          that is named after the template name.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将单位放置在的切片单元的名称。默认情况下，所有未实例化的所有单位类型的单位的 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">system.slice</code> （除了切片单位本身，请参见下文）。实例单位默认放置在以模板名称命名的子切片中的 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">system.slice</code> 。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">This option may be used to arrange systemd units in a
          hierarchy of slices each of which might have resource
          settings applied.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项可用于将 systemd 单元排列在可能应用资源设置的切片层次结构中。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">For units of type slice, the only accepted value for
          this setting is the parent slice. Since the name of a slice
          unit implies the parent slice, it is hence redundant to ever
          set this parameter directly for slice units.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">对于类型为 slice 的单元，此设置的唯一接受值是父 slice。由于 slice 单元的名称暗示了父 slice，因此对于 slice 单元直接设置此参数是多余的。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Special care should be taken when relying on the default slice assignment in templated service units
          that have <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultDependencies=no</code> set, see
          <a href="systemd.service.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.service</span>(5)</span></a>, section
          "Default Dependencies" for details.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在依赖于模板化服务单元中默认切片分配时应格外小心，查看 systemd.service(5)中的“默认依赖项”部分以获取详细信息。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v208" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 208.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 208 中添加。</font></font></font></p></dd><dt id="Delegate=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Delegate=</code></span><a class="headerlink" title="Permalink to this term" href="#Delegate=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Turns on delegation of further resource control partitioning to processes of the unit. Units
          where this is enabled may create and manage their own private subhierarchy of control groups below
          the control group of the unit itself. For unprivileged services (i.e. those using the
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">User=</code> setting) the unit's control group will be made accessible to the relevant
          user.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">打开对单元进程进一步资源控制分区的委托。启用此功能的单元可以创建和管理其自己的控制组子层次结构，位于单元本身的控制组之下。对于非特权服务（即使用 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">User=</code> 设置的服务），单元的控制组将对相关用户可访问。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">When enabled the service manager will refrain from manipulating control groups or moving
          processes below the unit's control group, so that a clear concept of ownership is established: the
          control group tree at the level of the unit's control group and above (i.e. towards the root
          control group) is owned and managed by the service manager of the host, while the control group
          tree below the unit's control group is owned and managed by the unit itself.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">启用服务管理器时，服务管理器将避免操纵控制组或将进程移动到单元控制组以下，从而建立所有权的清晰概念：单元控制组及以上（即朝向根控制组）的控制组树由主机的服务管理器拥有和管理，而单元控制组以下的控制组树由单元本身拥有和管理。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Takes either a boolean argument or a (possibly empty) list of control group controller names.
          If true, delegation is turned on, and all supported controllers are enabled for the unit, making
          them available to the unit's processes for management. If false, delegation is turned off entirely
          (and no additional controllers are enabled). If set to a list of controllers, delegation is turned
          on, and the specified controllers are enabled for the unit. Assigning the empty string will enable
          delegation, but reset the list of controllers, and all assignments prior to this will have no
          effect. Note that additional controllers other than the ones specified might be made available as
          well, depending on configuration of the containing slice unit or other units contained in it.
          Defaults to false.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受布尔参数或（可能为空的）控制组控制器名称列表。如果为 true，则打开委托，并为该单元启用所有支持的控制器，使它们对该单元的进程可用以进行管理。如果为 false，则完全关闭委托（并且不会启用任何其他控制器）。如果设置为控制器列表，则打开委托，并为该单元启用指定的控制器。分配空字符串将启用委托，但重置控制器列表，并且在此之前的所有分配将不起作用。请注意，除了指定的控制器之外，还可能提供其他控制器，具体取决于包含的切片单元或其中包含的其他单元的配置。默认为 false。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Note that controller delegation to less privileged code is only safe on the unified control
          group hierarchy. Accordingly, access to the specified controllers will not be granted to
          unprivileged services on the legacy hierarchy, even when requested.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，将控制器委托给权限较低的代码仅在统一控制组层次结构上是安全的。因此，即使请求，对传统层次结构上的非特权服务也不会授予对指定控制器的访问权限。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="controllers-text" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>The following controller names may be specified: <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu</code>, <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpuacct</code>,
<code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpuset</code>, <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io</code>, <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">blkio</code>, <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory</code>, <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">devices</code>,
<code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">pids</code>, <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">bpf-firewall</code>, and <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">bpf-devices</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可以指定以下控制器名称： <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu</code> ， <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpuacct</code> ， <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpuset</code> ， <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io</code> ， <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">blkio</code> ， <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory</code> ， <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">devices</code> ， <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">pids</code> ， <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">bpf-firewall</code> 和 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">bpf-devices</code> 。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Not all of these controllers are available on all kernels however, and some are specific to
          the unified hierarchy while others are specific to the legacy hierarchy. Also note that the kernel
          might support further controllers, which aren't covered here yet as delegation is either not
          supported at all for them or not defined cleanly.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">然而，并非所有这些控制器都适用于所有内核，有些是特定于统一层次结构，而另一些是特定于传统层次结构。还请注意，内核可能支持进一步的控制器，这些控制器尚未在此处涵盖，因为对它们的委托要么根本不受支持，要么定义不清晰。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Note that because of the hierarchical nature of cgroup hierarchy, any controllers that are
          delegated will be enabled for the parent and sibling units of the unit with delegation.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，由于 cgroup 层次结构的分层性质，任何被委派的控制器将对具有委派的单元的父单元和同级单元启用。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">For further details on the delegation model consult <a class="ulink" href="https://systemd.io/CGROUP_DELEGATION" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Control Group APIs and Delegation</a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">有关委派模型的更多详细信息，请参阅控制组 API 和委派。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v218" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 218.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 218 中添加。</font></font></font></p></dd><dt id="DelegateSubgroup=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DelegateSubgroup=</code></span><a class="headerlink" title="Permalink to this term" href="#DelegateSubgroup=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Place unit processes in the specified subgroup of the unit's control group. Takes a valid
          control group name (not a path!) as parameter, or an empty string to turn this feature
          off. Defaults to off. The control group name must be usable as filename and avoid conflicts with
          the kernel's control group attribute files (i.e. <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cgroup.procs</code> is not an
          acceptable name, since the kernel exposes a native control group attribute file by that name). This
          option has no effect unless control group delegation is turned on via <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Delegate=</code>,
          see above. Note that this setting only applies to "main" processes of a unit, i.e. for services to
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ExecStart=</code>, but not for <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ExecReload=</code> and similar. If
          delegation is enabled, the latter are always placed inside a subgroup named
          <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">.control</code>. The specified subgroup is automatically created (and potentially
          ownership is passed to the unit's configured user/group) when a process is started in it.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将单元进程放置在单元控制组的指定子组中。以有效的控制组名称（不是路径！）作为参数，或者空字符串以关闭此功能。默认为关闭。控制组名称必须可用作文件名，并避免与内核的控制组属性文件发生冲突（即 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cgroup.procs</code> 不是可接受的名称，因为内核通过该名称公开了一个本机控制组属性文件）。除非通过 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Delegate=</code> 打开了控制组委派，否则此选项不起作用，请参见上文。请注意，此设置仅适用于单元的“主”进程，即对于服务 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ExecStart=</code> ，而不适用于 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ExecReload=</code> 等。如果启用了委派，后者将始终放置在名为 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">.control</code> 的子组中。当在其中启动进程时，指定的子组将自动创建（并可能所有权传递给单元配置的用户/组）。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">This option is useful to avoid manually moving the invoked process into a subgroup after it
          has been started. Since no processes should live in inner nodes of the control group tree it's
          almost always necessary to run the main ("supervising") process of a unit that has delegation
          turned on in a subgroup.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此选项可用于在启动后避免手动将调用的进程移动到子组中。由于不应该有进程存在于控制组树的内部节点中，因此几乎总是需要在启用委派的单元中运行主（"监督"）进程。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v254" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 254.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 254 中。</font></font></font></p></dd><dt id="DisableControllers=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DisableControllers=</code></span><a class="headerlink" title="Permalink to this term" href="#DisableControllers=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Disables controllers from being enabled for a unit's children. If a controller listed is
          already in use in its subtree, the controller will be removed from the subtree. This can be used to
          avoid configuration in child units from being able to implicitly or explicitly enable a controller.
          Defaults to empty.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">禁用控制器对单元的子级启用。如果列出的控制器已经在其子树中使用，则该控制器将从子树中移除。这可用于避免子单元中的配置能够隐式或显式地启用控制器。默认为空。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Multiple controllers may be specified, separated by spaces. You may also pass
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DisableControllers=</code> multiple times, in which case each new instance adds another controller
          to disable. Passing <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DisableControllers=</code> by itself with no controller name present resets
          the disabled controller list.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可以指定多个控制器，用空格分隔。您还可以多次传递 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DisableControllers=</code> ，在这种情况下，每个新实例都会添加另一个要禁用的控制器。仅传递 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DisableControllers=</code> ，而没有控制器名称时，将重置禁用的控制器列表。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">It may not be possible to disable a controller after units have been started, if the unit or
          any child of the unit in question delegates controllers to its children, as any delegated subtree
          of the cgroup hierarchy is unmanaged by systemd.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在启动单元后可能无法禁用控制器，如果相关单元或其任何子级将控制器委托给其子级，则 cgroup 层次结构的任何委托子树都不受 systemd 管理。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="controllers-text" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>The following controller names may be specified: <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu</code>, <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpuacct</code>,
<code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpuset</code>, <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io</code>, <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">blkio</code>, <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory</code>, <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">devices</code>,
<code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">pids</code>, <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">bpf-firewall</code>, and <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">bpf-devices</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">可指定以下控制器名称: <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpu</code> , <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpuacct</code> , <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">cpuset</code> , <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">io</code> , <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">blkio</code> , <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory</code> , <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">devices</code> , <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">pids</code> , <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">bpf-firewall</code> 和 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">bpf-devices</code> 。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v240" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 240.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 240 中添加。</font></font></font></p></dd></dl></div></div><div class="refsect2" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><a name="id-1.7.11" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a><h3 id="Memory Pressure Control" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Memory Pressure Control<a class="headerlink" title="Permalink to this headline" href="#Memory%20Pressure%20Control" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内存压力控制 ¶</font></font></font></h3><div class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dl class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dt id="ManagedOOMSwap=auto|kill" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ManagedOOMSwap=auto|kill</code>, </span><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ManagedOOMMemoryPressure=auto|kill</code></span><a class="headerlink" title="Permalink to this term" href="#ManagedOOMSwap=auto%7Ckill" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ManagedOOMSwap=auto|kill</code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ManagedOOMMemoryPressure=auto|kill</code> ¶</font></font></font></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Specifies how
          <a href="systemd-oomd.service.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-oomd.service</span>(8)</span></a>
          will act on this unit's cgroups. Defaults to <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">auto</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">指定 systemd-oomd.service(8) 如何在此单元的 cgroups 上执行操作。默认为 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">auto</code> 。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">When set to <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">kill</code>, the unit becomes a candidate for monitoring by
          <span class="command" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><strong data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-oomd</strong></span>. If the cgroup passes the limits set by
          <a href="oomd.conf.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">oomd.conf</span>(5)</span></a> or
          the unit configuration, <span class="command" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><strong data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-oomd</strong></span> will select a descendant cgroup and send
          <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">SIGKILL</code> to all of the processes under it. You can find more details on
          candidates and kill behavior at
          <a href="systemd-oomd.service.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-oomd.service</span>(8)</span></a>
          and
          <a href="oomd.conf.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">oomd.conf</span>(5)</span></a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当设置为 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">kill</code> 时，该单元将成为 systemd-oomd 监视的候选对象。如果 cgroup 超过 oomd.conf(5) 或单元配置设置的限制，systemd-oomd 将选择一个后代 cgroup 并向其下的所有进程发送 <code class="constant" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">SIGKILL</code> 。您可以在 systemd-oomd.service(8) 和 oomd.conf(5) 中找到有关候选对象和杀死行为的更多详细信息。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Setting either of these properties to <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">kill</code> will also result in
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">After=</code> and <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Wants=</code> dependencies on
          <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-oomd.service</code> unless <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultDependencies=no</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">将这些属性中的任一设置为 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">kill</code> 也将导致对 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-oomd.service</code> 的 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">After=</code> 和 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Wants=</code> 依赖，除非 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultDependencies=no</code> 。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">When set to <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">auto</code>, <span class="command" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><strong data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-oomd</strong></span> will not actively use this
          cgroup's data for monitoring and detection. However, if an ancestor cgroup has one of these
          properties set to <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">kill</code>, a unit with <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">auto</code> can still be a candidate
          for <span class="command" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><strong data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-oomd</strong></span> to terminate.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当设置为 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">auto</code> 时，systemd-oomd 将不会主动使用此 cgroup 的数据进行监视和检测。但是，如果祖先 cgroup 中有一个属性设置为 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">kill</code> ，那么具有 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">auto</code> 的单元仍然可能成为 systemd-oomd 终止的候选对象。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v247" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 247.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 247 中添加。</font></font></font></p></dd><dt id="ManagedOOMMemoryPressureLimit=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ManagedOOMMemoryPressureLimit=</code></span><a class="headerlink" title="Permalink to this term" href="#ManagedOOMMemoryPressureLimit=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Overrides the default memory pressure limit set by
          <a href="oomd.conf.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">oomd.conf</span>(5)</span></a> for
          this unit (cgroup). Takes a percentage value between 0% and 100%, inclusive. This property is
          ignored unless <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ManagedOOMMemoryPressure=</code><code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">kill</code>. Defaults to 0%,
          which means to use the default set by
          <a href="oomd.conf.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">oomd.conf</span>(5)</span></a>.
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">覆盖 oomd.conf(5) 为此单元（cgroup）设置的默认内存压力限制。取值范围为 0% 到 100%，包括边界值。除非 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ManagedOOMMemoryPressure=</code> <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">kill</code> ，否则将忽略此属性。默认为 0%，表示使用 oomd.conf(5) 设置的默认值。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v247" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 247.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 247 中。</font></font></font></p></dd><dt id="ManagedOOMPreference=none|avoid|omit" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ManagedOOMPreference=none|avoid|omit</code></span><a class="headerlink" title="Permalink to this term" href="#ManagedOOMPreference=none%7Cavoid%7Comit" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Allows deprioritizing or omitting this unit's cgroup as a candidate when
          <span class="command" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><strong data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-oomd</strong></span> needs to act. Requires support for extended attributes (see
          <a href="https://man7.org/linux/man-pages/man7/xattr.7.html" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">xattr</span>(7)</span></a>)
          in order to use <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">avoid</code> or <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">omit</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">允许将此单元的 cgroup 降低优先级或省略为 systemd-oomd 需要采取行动时的候选对象。需要支持扩展属性（参见 xattr(7)）才能使用 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">avoid</code> 或 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">omit</code> 。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">When calculating candidates to relieve swap usage, <span class="command" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><strong data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-oomd</strong></span> will
          only respect these extended attributes if the unit's cgroup is owned by root.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在计算用于减轻交换使用情况的候选项时，systemd-oomd 仅在单元的 cgroup 属于 root 时才尊重这些扩展属性。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">When calculating candidates to relieve memory pressure, <span class="command" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><strong data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-oomd</strong></span>
          will only respect these extended attributes if the unit's cgroup is owned by root, or if the
          unit's cgroup owner, and the owner of the monitored ancestor cgroup are the same. For example,
          if <span class="command" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><strong data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-oomd</strong></span> is calculating candidates for <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">-.slice</code>,
          then extended attributes set on descendants of <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/user.slice/user-1000.slice/user@1000.service/</code>
          will be ignored because the descendants are owned by UID 1000, and <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">-.slice</code>
          is owned by UID 0. But, if calculating candidates for
          <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/user.slice/user-1000.slice/user@1000.service/</code>, then extended attributes set
          on the descendants would be respected.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在计算用于减轻内存压力的候选项时，systemd-oomd 仅在单元的 cgroup 属于 root，或者单元的 cgroup 所有者和受监视祖先 cgroup 的所有者相同时才尊重这些扩展属性。例如，如果 systemd-oomd 正在为 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">-.slice</code> 计算候选项，则会忽略在 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/user.slice/user-1000.slice/user@1000.service/</code> 的后代上设置的扩展属性，因为后代属于 UID 1000，而 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">-.slice</code> 属于 UID 0。但是，如果为 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/user.slice/user-1000.slice/user@1000.service/</code> 计算候选项，则会尊重后代上设置的扩展属性。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">If this property is set to <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">avoid</code>, the service manager will convey this to
          <span class="command" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><strong data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-oomd</strong></span>, which will only select this cgroup if there are no other viable
          candidates.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果将此属性设置为 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">avoid</code> ，服务管理器将将其传达给 systemd-oomd，后者仅在没有其他可行候选项时才选择此 cgroup。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">If this property is set to <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">omit</code>, the service manager will convey this to
          <span class="command" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><strong data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-oomd</strong></span>, which will ignore this cgroup as a candidate and will not perform
          any actions on it.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果将此属性设置为 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">omit</code> ，服务管理器将将此传达给 systemd-oomd，后者将忽略此 cgroup 作为候选项，并不会对其执行任何操作。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">It is recommended to use <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">avoid</code> and <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">omit</code> sparingly, as it
          can adversely affect <span class="command" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><strong data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-oomd</strong></span>'s kill behavior. Also note that these extended
          attributes are not applied recursively to cgroups under this unit's cgroup.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">建议谨慎使用 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">avoid</code> 和 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">omit</code> ，因为它可能会对 systemd-oomd 的终止行为产生不利影响。还请注意，这些扩展属性不会递归应用于此单元的 cgroup 下的 cgroup。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Defaults to <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">none</code> which means <span class="command" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><strong data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-oomd</strong></span> will rank this
          unit's cgroup as defined in
          <a href="systemd-oomd.service.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-oomd.service</span>(8)</span></a>
          and <a href="oomd.conf.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">oomd.conf</span>(5)</span></a>.
          <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">默认为 <code class="option" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">none</code> ，这意味着 systemd-oomd 将根据 systemd-oomd.service(8)和 oomd.conf(5)中定义的方式对此单元的 cgroup 进行排名。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v248" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 248.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 248 中。</font></font></font></p></dd><dt id="MemoryPressureWatch=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryPressureWatch=</code></span><a class="headerlink" title="Permalink to this term" href="#MemoryPressureWatch=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Controls memory pressure monitoring for invoked processes. Takes one of
        "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">off</code>", "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">on</code>", "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">auto</code>" or "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">skip</code>". If
        "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">off</code>" tells the service not to watch for memory pressure events, by setting the
        <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">$MEMORY_PRESSURE_WATCH</code> environment variable to the literal string
        <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/dev/null</code>. If "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">on</code>" tells the service to watch for memory
        pressure events. This enables memory accounting for the service, and ensures the
        <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory.pressure</code> cgroup attribute file is accessible for reading and writing by the
        service's user. It then sets the <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">$MEMORY_PRESSURE_WATCH</code> environment variable for
        processes invoked by the unit to the file system path to this file. The threshold information
        configured with <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryPressureThresholdSec=</code> is encoded in the
        <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">$MEMORY_PRESSURE_WRITE</code> environment variable. If the "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">auto</code>" value
        is set the protocol is enabled if memory accounting is anyway enabled for the unit, and disabled
        otherwise. If set to "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">skip</code>" the logic is neither enabled, nor disabled and the two
        environment variables are not set.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">控制调用进程的内存压力监控。取值为 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">off</code> "、" <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">on</code> "、" <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">auto</code> " 或 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">skip</code> " 中的一个。如果 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">off</code> " 告诉服务不要监视内存压力事件，将 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">$MEMORY_PRESSURE_WATCH</code> 环境变量设置为字面字符串 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">/dev/null</code> 。如果 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">on</code> " 告诉服务监视内存压力事件。这将为服务启用内存记账，并确保服务用户可以读取和写入 <code class="filename" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">memory.pressure</code> cgroup 属性文件。然后，将调用该单元的进程的 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">$MEMORY_PRESSURE_WATCH</code> 环境变量设置为该文件的文件系统路径。使用 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryPressureThresholdSec=</code> 配置的阈值信息编码在 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">$MEMORY_PRESSURE_WRITE</code> 环境变量中。如果设置了 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">auto</code> " 值，则在任何情况下为该单元启用协议，否则禁用。如果设置为 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">skip</code> "，则逻辑既不启用也不禁用，并且两个环境变量均不设置。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Note that services are free to use the two environment variables, but it's unproblematic if
        they ignore them. Memory pressure handling must be implemented individually in each service, and
        usually means different things for different software. For further details on memory pressure
        handling see <a class="ulink" href="https://systemd.io/MEMORY_PRESSURE" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Memory Pressure Handling in
        systemd</a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，服务可以免费使用这两个环境变量，但如果它们忽略它们也没有问题。内存压力处理必须在每个服务中单独实现，并且通常对不同软件意味着不同的事情。有关内存压力处理的更多详细信息，请参阅 systemd 中的内存压力处理。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Services implemented using
        <a href="sd-event.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">sd-event</span>(3)</span></a> may use
        <a href="sd_event_add_memory_pressure.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">sd_event_add_memory_pressure</span>(3)</span></a>
        to watch for and handle memory pressure events.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">使用 sd-event(3)实现的服务可以使用 sd_event_add_memory_pressure(3)来监视和处理内存压力事件。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">If not explicit set, defaults to the <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultMemoryPressureWatch=</code> setting in
        <a href="systemd-system.conf.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-system.conf</span>(5)</span></a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果未明确设置，默认为 systemd-system.conf(5)中的 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultMemoryPressureWatch=</code> 设置。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v254" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 254.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 254 中。</font></font></font></p></dd><dt id="MemoryPressureThresholdSec=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryPressureThresholdSec=</code></span><a class="headerlink" title="Permalink to this term" href="#MemoryPressureThresholdSec=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Sets the memory pressure threshold time for memory pressure monitor as configured via
        <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryPressureWatch=</code>. Specifies the maximum allocation latency before a memory
        pressure event is signalled to the service, per 2s window. If not specified defaults to the
        <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultMemoryPressureThresholdSec=</code> setting in
        <a href="systemd-system.conf.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-system.conf</span>(5)</span></a>
        (which in turn defaults to 200ms). The specified value expects a time unit such as
        "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ms</code>" or "<code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">μs</code>", see
        <a href="systemd.time.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.time</span>(7)</span></a> for
        details on the permitted syntax.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">设置内存压力监视器的内存压力阈值时间，如通过 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryPressureWatch=</code> 配置。指定在向服务发出内存压力事件信号之前的最大分配延迟，每 2s 窗口。如果未指定，默认为 systemd-system.conf(5) 中的 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">DefaultMemoryPressureThresholdSec=</code> 设置（默认为 200 毫秒）。指定的值期望一个时间单位，如 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">ms</code> " 或 " <code class="literal" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">μs</code> "，有关允许语法的详细信息，请参阅 systemd.time(7)。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v254" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 254.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">添加在版本 254 中。</font></font></font></p></dd></dl></div></div><div class="refsect2" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><a name="id-1.7.12" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a><h3 id="Coredump Control" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Coredump Control<a class="headerlink" title="Permalink to this headline" href="#Coredump%20Control" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">核心转储控制</font></font></font></h3><div class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dl class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dt id="CoredumpReceive=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CoredumpReceive=</code></span><a class="headerlink" title="Permalink to this term" href="#CoredumpReceive=" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">Takes a boolean argument. This setting is used to enable coredump forwarding for containers
        that belong to this unit's cgroup. Units with <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CoredumpReceive=yes</code> must also be configured
        with <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Delegate=yes</code>. Defaults to false.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">接受一个布尔参数。此设置用于启用属于此单元 cgroup 的容器的核心转储转发。必须还使用 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Delegate=yes</code> 配置具有 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CoredumpReceive=yes</code> 的单元。默认为 false。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">When <span class="command" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><strong data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-coredump</strong></span> is handling a coredump for a process from a container,
        if the container's leader process is a descendant of a cgroup with <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CoredumpReceive=yes</code>
        and <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Delegate=yes</code>, then <span class="command" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><strong data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-coredump</strong></span> will attempt to forward
        the coredump to <span class="command" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><strong data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-coredump</strong></span> within the container.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当 systemd-coredump 处理来自容器的进程的核心转储时，如果容器的领导进程是具有 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CoredumpReceive=yes</code> 和 <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Delegate=yes</code> 的 cgroup 的后代，则 systemd-coredump 将尝试将核心转储转发到容器内的 systemd-coredump。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v255" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 255.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 255 中添加。</font></font></font></p></dd></dl></div></div></div><div class="refsect1" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><a name="id-1.8" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a><h2 id="History" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">History<a class="headerlink" title="Permalink to this headline" href="#History" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">历史 ¶</font></font></font></h2><div class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dl class="variablelist" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><dt id="systemd 252" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><span class="term" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd 252</span><a class="headerlink" title="Permalink to this term" href="#systemd%20252" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a></dt><dd data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"> Options for controlling the Legacy Control Group Hierarchy (<a class="ulink" href="https://docs.kernel.org/admin-guide/cgroup-v1/index.html" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Control Groups version 1</a>)
          are now fully deprecated:
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUShares=<em class="replaceable"><code>weight</code></em></code>,
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupCPUShares=<em class="replaceable"><code>weight</code></em></code>,
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryLimit=<em class="replaceable"><code>bytes</code></em></code>,
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BlockIOAccounting=</code>,
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BlockIOWeight=<em class="replaceable"><code>weight</code></em></code>,
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupBlockIOWeight=<em class="replaceable"><code>weight</code></em></code>,
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BlockIODeviceWeight=<em class="replaceable"><code>device</code></em>
          <em class="replaceable"><code>weight</code></em></code>,
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BlockIOReadBandwidth=<em class="replaceable"><code>device</code></em>
          <em class="replaceable"><code>bytes</code></em></code>,
          <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BlockIOWriteBandwidth=<em class="replaceable"><code>device</code></em> <em class="replaceable"><code>bytes</code></em></code>.
          Please switch to the unified cgroup hierarchy.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">现在完全弃用了控制传统控制组层次结构（控制组版本 1）的选项： <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">CPUShares=<em class="replaceable"><code>weight</code></em></code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupCPUShares=<em class="replaceable"><code>weight</code></em></code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">MemoryLimit=<em class="replaceable"><code>bytes</code></em></code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BlockIOAccounting=</code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BlockIOWeight=<em class="replaceable"><code>weight</code></em></code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">StartupBlockIOWeight=<em class="replaceable"><code>weight</code></em></code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BlockIODeviceWeight=<em class="replaceable"><code>device</code></em>
          <em class="replaceable"><code>weight</code></em></code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BlockIOReadBandwidth=<em class="replaceable"><code>device</code></em>
          <em class="replaceable"><code>bytes</code></em></code> ， <code class="varname" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">BlockIOWriteBandwidth=<em class="replaceable"><code>device</code></em> <em class="replaceable"><code>bytes</code></em></code> 。请切换到统一的 cgroup 层次结构。</font></font></font></p><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1"><a name="v252" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a>Added in version 252.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">在版本 252 中添加。</font></font></font></p></dd></dl></div></div><div class="refsect1" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><a name="id-1.9" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"></a><h2 id="See Also" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">参见 ¶</font></font></font></h2><p data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2" data-immersive-translate-paragraph="1">
      <a href="systemd.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd</span>(1)</span></a>,
      <a href="systemd-system.conf.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-system.conf</span>(5)</span></a>,
      <a href="systemd.unit.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.unit</span>(5)</span></a>,
      <a href="systemd.service.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.service</span>(5)</span></a>,
      <a href="systemd.slice.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.slice</span>(5)</span></a>,
      <a href="systemd.scope.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.scope</span>(5)</span></a>,
      <a href="systemd.socket.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.socket</span>(5)</span></a>,
      <a href="systemd.mount.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.mount</span>(5)</span></a>,
      <a href="systemd.swap.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.swap</span>(5)</span></a>,
      <a href="systemd.exec.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.exec</span>(5)</span></a>,
      <a href="systemd.directives.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.directives</span>(7)</span></a>,
      <a href="systemd.special.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd.special</span>(7)</span></a>,
      <a href="systemd-oomd.service.html#" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="citerefentry" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2"><span class="refentrytitle" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">systemd-oomd.service</span>(8)</span></a>,
      The documentation for control groups and specific controllers in the Linux kernel:
      <a class="ulink" href="https://docs.kernel.org/admin-guide/cgroup-v2.html" target="_top" data-immersive-translate-walked="6117f796-6b2a-4510-9be7-16a2203e1dd2">Control Groups v2</a>.
    <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">systemd(1)，systemd-system.conf(5)，systemd.unit(5)，systemd.service(5)，systemd.slice(5)，systemd.scope(5)，systemd.socket(5)，systemd.mount(5)，systemd.swap(5)，systemd.exec(5)，systemd.directives(7)，systemd.special(7)，systemd-oomd.service(8)，Linux 内核中控制组和特定控制器的文档：Control Groups v2。</font></font></font></p></div></div>
</body></html>