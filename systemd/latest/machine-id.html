<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>machine-id</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><a name="machine-id" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"></a><div class="titlepage" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"></div><div class="refnamediv" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><h2 data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">machine-id — Local machine ID configuration file<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">机器 ID — 本地机器 ID 配置文件</font></font></font></p></div><div class="refsynopsisdiv" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><h2 data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">概要</font></font></font></h2><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code></p></div><div class="refsect1" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><a name="id-1.5" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"></a><h2 id="Description" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">The <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> file contains the unique machine ID of
    the local system that is set during installation or boot. The machine ID is a single
    newline-terminated, hexadecimal, 32-character, lowercase ID. When decoded from
    hexadecimal, this corresponds to a 16-byte/128-bit value. This ID may not be all
    zeros.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> 文件包含本地系统在安装或引导过程中设置的唯一机器 ID。机器 ID 是一个以换行符结尾的十六进制小写 32 字符 ID。从十六进制解码时，对应一个 16 字节/128 位值。此 ID 可能不全为零。</font></font></font></p><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">The machine ID is usually generated from a random source during system
    installation or first boot and stays constant for all subsequent boots. Optionally,
    for stateless systems, it is generated during runtime during early boot if necessary.
    <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">机器 ID 通常是在系统安装或首次引导期间从随机源生成的，并在所有后续引导中保持不变。可选地，对于无状态系统，如果需要，在早期引导期间在运行时生成。</font></font></font></p><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">The machine ID may be set, for example when network booting, with the
    <code class="varname" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">systemd.machine_id=</code> kernel command line parameter or by passing the
    option <code class="option" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">--machine-id=</code> to systemd. An ID specified in this manner
    has higher priority and will be used instead of the ID stored in
    <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">例如，当网络引导时，可以使用 <code class="varname" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">systemd.machine_id=</code> 内核命令行参数或通过传递选项 <code class="option" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">--machine-id=</code> 给 systemd 来设置机器 ID。以这种方式指定的 ID 具有更高的优先级，并将用于替代存储在 <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> 中的 ID。</font></font></font></p><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">The machine ID does not change based on local or network configuration or when
    hardware is replaced. Due to this and its greater length, it is a more useful
    replacement for the
    <a href="https://man7.org/linux/man-pages/man3/gethostid.3.html" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="citerefentry" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="refentrytitle" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">gethostid</span>(3)</span></a>
    call that POSIX specifies.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">机器 ID 不会根据本地或网络配置的更改或更换硬件而更改。由于这一点以及其更长的长度，它是对 POSIX 规定的 gethostid(3)调用的更有用的替代品。</font></font></font></p><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">This machine ID adheres to the same format and logic as the
    D-Bus machine ID.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此机器 ID 遵循与 D-Bus 机器 ID 相同的格式和逻辑。</font></font></font></p><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">This ID uniquely identifies the host. It should be considered "confidential", and must not be exposed in
    untrusted environments, in particular on the network. If a stable unique identifier that is tied to the machine is
    needed for some application, the machine ID or any part of it must not be used directly. Instead the machine ID
    should be hashed with a cryptographic, keyed hash function, using a fixed, application-specific key. That way the
    ID will be properly unique, and derived in a constant way from the machine ID but there will be no way to retrieve
    the original machine ID from the application-specific one. The
    <a href="sd_id128_get_machine_app_specific.html#" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="citerefentry" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="refentrytitle" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">sd_id128_get_machine_app_specific</span>(3)</span></a>
    API provides an implementation of such an algorithm.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">此 ID 唯一标识主机。它应被视为“机密”，不得在不受信任的环境中暴露，特别是在网络上。如果某个应用程序需要一个与机器绑定的稳定唯一标识符，那么机器 ID 或其任何部分都不应直接使用。相反，应使用具有固定的应用程序特定密钥的加密密钥哈希函数对机器 ID 进行哈希处理。这样，ID 将正确唯一，并且以一种恒定的方式从机器 ID 派生，但无法从应用程序特定 ID 中检索原始机器 ID。sd_id128_get_machine_app_specific(3) API 提供了这种算法的实现。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><a name="id-1.6" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"></a><h2 id="Initialization" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">Initialization<a class="headerlink" title="Permalink to this headline" href="#Initialization" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">初始化 ¶</font></font></font></h2><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">Each machine should have a non-empty ID in normal operation. The ID of each
    machine should be unique. To achieve those objectives,
    <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> can be initialized in a few different ways.
    <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">每台机器在正常运行中应具有非空 ID。每台机器的 ID 应该是唯一的。为实现这些目标， <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> 可以通过几种不同的方式进行初始化。</font></font></font></p><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">For normal operating system installations, where a custom image is created for a
    specific machine, <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> should be populated during
    installation.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">对于正常的操作系统安装，其中为特定机器创建自定义镜像，应在安装过程中填写 <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> 。</font></font></font></p><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">
    <a href="systemd-machine-id-setup.html#" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="citerefentry" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="refentrytitle" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">systemd-machine-id-setup</span>(1)</span></a>
    may be used by installer tools to initialize the machine ID at install time, but
    <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> may also be written using any other means.
    <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">systemd-machine-id-setup(1) 可被安装工具用于在安装时初始化机器 ID，但 <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> 也可通过其他方式编写。</font></font></font></p><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">For operating system images which are created once and used on multiple machines, for example for
    containers or in the cloud, <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> should be either missing or an empty
    file in the generic file system image (the difference between the two options is described under "First
    Boot Semantics" below). An ID will be generated during boot and saved to this file if possible. Having an
    empty file in place is useful because it allows a temporary file to be bind-mounted over the real file,
    in case the image is used read-only. Also see <a class="ulink" href="https://systemd.io/BUILDING_IMAGES" target="_top" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">Safely
    Building Images</a>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">对于仅创建一次并在多台机器上使用的操作系统镜像，例如用于容器或云中， <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> 应该在通用文件系统镜像中要么缺失要么是空文件（两种选项的区别在“首次启动语义”下有描述）。如果可能的话，将在启动时生成一个 ID 并保存到该文件中。将空文件放在那里是有用的，因为它允许将临时文件绑定挂载到真实文件上，以防镜像是只读的。另请参见安全构建镜像。</font></font></font></p><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1"><a href="systemd-firstboot.html#" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="citerefentry" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="refentrytitle" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">systemd-firstboot</span>(1)</span></a>
    may be used to initialize <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> on mounted (but not
    booted) system images.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">systemd-firstboot(1) 可用于初始化已挂载（但尚未引导）系统映像上的 <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> 。</font></font></font></p><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">When a machine is booted with
    <a href="systemd.html#" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="citerefentry" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="refentrytitle" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">systemd</span>(1)</span></a>
    the ID of the machine will be established. If <code class="varname" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">systemd.machine_id=</code>
    or <code class="option" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">--machine-id=</code> options (see first section) are specified, this
    value will be used. Otherwise, the value in <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> will
    be used. If this file is empty or missing, <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">systemd</code> will attempt
    to use the D-Bus machine ID from <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/var/lib/dbus/machine-id</code>, the
    value of the kernel command line option <code class="varname" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">container_uuid</code>, the KVM DMI
    <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">product_uuid</code> or the devicetree <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">vm,uuid</code>
    (on KVM systems), and finally a randomly generated UUID.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">当使用 systemd(1) 引导机器时，将建立机器的 ID。如果指定了 <code class="varname" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">systemd.machine_id=</code> 或 <code class="option" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">--machine-id=</code> 选项（请参阅第一部分），则将使用该值。否则，将使用 <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> 中的值。如果此文件为空或丢失，则 <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">systemd</code> 将尝试使用来自 <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/var/lib/dbus/machine-id</code> 的 D-Bus 机器 ID，内核命令行选项 <code class="varname" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">container_uuid</code> 的值，KVM DMI <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">product_uuid</code> 或 devicetree <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">vm,uuid</code> （在 KVM 系统上），最后是一个随机生成的 UUID。</font></font></font></p><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">After the machine ID is established,
    <a href="systemd.html#" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="citerefentry" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="refentrytitle" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">systemd</span>(1)</span></a>
    will attempt to save it to <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code>. If this fails, it
    will attempt to bind-mount a temporary file over <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code>.
    It is an error if the file system is read-only and does not contain a (possibly empty)
    <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> file.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">确定机器 ID 后，systemd(1) 将尝试将其保存到 <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> 。如果失败，它将尝试通过在 <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> 上绑定挂载临时文件。如果文件系统是只读的且不包含（可能为空的） <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> 文件，则会出错。</font></font></font></p><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1"><a href="systemd-machine-id-commit.service.html#" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="citerefentry" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="refentrytitle" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">systemd-machine-id-commit.service</span>(8)</span></a>
    will attempt to write the machine ID to the file system if
    <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> or <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/</code> are read-only during
    early boot but become writable later on.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">systemd-machine-id-commit.service(8)将尝试在早期引导期间，如果 <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> 或 <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/</code> 是只读的，但后来变为可写，则将机器 ID 写入文件系统。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><a name="id-1.7" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"></a><h2 id="First Boot Semantics" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">First Boot Semantics<a class="headerlink" title="Permalink to this headline" href="#First%20Boot%20Semantics" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">首次引导语义</font></font></font></h2><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1"><code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> is used to decide whether a boot is the first one. The rules
    are as follows:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> 用于决定引导是否为第一次。规则如下：</font></font></font></p><div class="orderedlist" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><ol class="orderedlist" type="1" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><li class="listitem" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">The kernel command argument <code class="varname" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">systemd.condition-first-boot=</code> may be
      used to override the autodetection logic, see
      <a href="kernel-command-line.html#" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="citerefentry" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="refentrytitle" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">kernel-command-line</span>(7)</span></a>.
      <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">内核命令参数 <code class="varname" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">systemd.condition-first-boot=</code> 可用于覆盖自动检测逻辑，请参阅 kernel-command-line(7)。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">Otherwise, if <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> does not exist, this is a first
      boot. During early boot, <span class="command" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><strong data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">systemd</strong></span> will write "<code class="literal" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">uninitialized\n</code>" to
      this file and overmount a temporary file which contains the actual machine ID. Later (after
      <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">first-boot-complete.target</code> has been reached), the real machine ID will be written
      to disk.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">否则，如果 <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> 不存在，则这是首次启动。在早期启动期间，systemd 将向该文件写入 " <code class="literal" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">uninitialized\n</code> " 并覆盖一个包含实际机器 ID 的临时文件。稍后（在达到 <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">first-boot-complete.target</code> 之后），真实的机器 ID 将被写入磁盘。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">If <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> contains the string "<code class="literal" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">uninitialized</code>",
      a boot is also considered the first boot. The same mechanism as above applies.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果 <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> 包含字符串 " <code class="literal" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">uninitialized</code> "，则引导也被视为首次启动。与上述相同的机制适用。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">If <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> exists and is empty, a boot is
      <span class="emphasis" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><em data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">not</em></span> considered the first boot. <span class="command" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><strong data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">systemd</strong></span> will still bind-mount a file
      containing the actual machine-id over it and later try to commit it to disk (if <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/</code> is
      writable).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果 <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> 存在且为空，则不被视为第一次引导。systemd 仍会将包含实际机器 ID 的文件绑定挂载在其上，并尝试将其提交到磁盘（如果 <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/</code> 可写）。</font></font></font></p></li><li class="listitem" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">If <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> already contains a valid machine-id, this is
      not a first boot.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果 <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> 已包含有效的机器 ID，则这不是第一次引导。</font></font></font></p></li></ol></div><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">If according to the above rules a first boot is detected, units with
    <code class="varname" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">ConditionFirstBoot=yes</code> will be run and <span class="command" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><strong data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">systemd</strong></span> will perform
    additional initialization steps, in particular presetting units.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果根据上述规则检测到第一次引导，则将运行具有 <code class="varname" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">ConditionFirstBoot=yes</code> 的单元，并且 systemd 将执行额外的初始化步骤，特别是预设单元。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><a name="id-1.8" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"></a><h2 id="Relation to OSF UUIDs" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">Relation to OSF UUIDs<a class="headerlink" title="Permalink to this headline" href="#Relation%20to%20OSF%20UUIDs" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">与 OSF UUIDs 的关系 ¶</font></font></font></h2><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">Note that the machine ID historically is not an OSF UUID as defined by <a class="ulink" href="https://tools.ietf.org/html/rfc4122" target="_top" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">RFC 4122</a>, nor a Microsoft GUID; however, starting with
    systemd v30, newly generated machine IDs do qualify as Variant 1 Version 4 UUIDs, as per RFC 4122.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，机器 ID 在历史上并不是 RFC 4122 定义的 OSF UUID，也不是 Microsoft GUID；然而，从 systemd v30 开始，新生成的机器 ID 符合 RFC 4122 的 Variant 1 Version 4 UUID 标准。</font></font></font></p><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">In order to maintain compatibility with existing installations, an application requiring a strictly
    RFC 4122 compliant UUID should decode the machine ID, and then (non-reversibly) apply the following
    operations to turn it into a valid RFC 4122 Variant 1 Version 4 UUID. With "<code class="literal" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">id</code>" being an
    unsigned character array:<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">为了保持与现有安装的兼容性，需要严格遵守 RFC 4122 标准的应用程序应该解码机器 ID，然后（不可逆地）应用以下操作将其转换为有效的 RFC 4122 Variant 1 Version 4 UUID。其中 " <code class="literal" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">id</code> " 是无符号字符数组：</font></font></font></p><pre class="programlisting">/* Set UUID version to 4 --- truly random generation */
id[6] = (id[6] &amp; 0x0F) | 0x40;
/* Set the UUID variant to DCE */
id[8] = (id[8] &amp; 0x3F) | 0x80;</pre><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">(This code is inspired by
    "<code class="literal" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">generate_random_uuid()</code>" of
    <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">drivers/char/random.c</code> from the Linux kernel
    sources.)<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">(此代码受到 Linux 内核源代码中的 " <code class="literal" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">generate_random_uuid()</code> " 的启发。)</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><a name="id-1.9" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"></a><h2 id="History" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">History<a class="headerlink" title="Permalink to this headline" href="#History" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">历史 ¶</font></font></font></h2><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">The simple configuration file format of
    <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> originates in the
    <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/var/lib/dbus/machine-id</code> file introduced by
    D-Bus. In fact, this latter file might be a symlink to
    <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> 的简单配置文件格式起源于 D-Bus 引入的 <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/var/lib/dbus/machine-id</code> 文件。事实上，后者的文件可能是一个指向 <code class="filename" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">/etc/machine-id</code> 的符号链接。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><a name="id-1.10" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"></a><h2 id="See Also" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">另请参阅 ¶</font></font></font></h2><p data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea" data-immersive-translate-paragraph="1">
        <a href="systemd.html#" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="citerefentry" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="refentrytitle" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">systemd</span>(1)</span></a>,
        <a href="systemd-machine-id-setup.html#" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="citerefentry" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="refentrytitle" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">systemd-machine-id-setup</span>(1)</span></a>,
        <a href="https://man7.org/linux/man-pages/man3/gethostid.3.html" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="citerefentry" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="refentrytitle" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">gethostid</span>(3)</span></a>,
        <a href="hostname.html#" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="citerefentry" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="refentrytitle" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">hostname</span>(5)</span></a>,
        <a href="machine-info.html#" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="citerefentry" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="refentrytitle" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">machine-info</span>(5)</span></a>,
        <a href="os-release.html#" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="citerefentry" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="refentrytitle" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">os-release</span>(5)</span></a>,
        <a href="sd-id128.html#" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="citerefentry" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="refentrytitle" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">sd-id128</span>(3)</span></a>,
        <a href="sd_id128_get_machine.html#" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="citerefentry" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="refentrytitle" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">sd_id128_get_machine</span>(3)</span></a>,
        <a href="systemd-firstboot.html#" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="citerefentry" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea"><span class="refentrytitle" data-immersive-translate-walked="e156026a-4081-4b77-a8e1-397d055ff5ea">systemd-firstboot</span>(1)</span></a>
      </p></div></div>
</body></html>