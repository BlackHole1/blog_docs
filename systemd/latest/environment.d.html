<html><head><style data-id="immersive-translate-default-injected-css">:root {
  --immersive-translate-theme-underline-borderColor: #72ece9;
  --immersive-translate-theme-nativeUnderline-borderColor: #72ece9;
  --immersive-translate-theme-nativeDashed-borderColor: #72ece9;
  --immersive-translate-theme-nativeDotted-borderColor: #72ece9;
  --immersive-translate-theme-highlight-backgroundColor: #ffff00;
  --immersive-translate-theme-dashed-borderColor: #59c1bd;
  --immersive-translate-theme-blockquote-borderColor: #cc3355;
  --immersive-translate-theme-thinDashed-borderColor: #ff374f;
  --immersive-translate-theme-dashedBorder-borderColor: #94a3b8;
  --immersive-translate-theme-dashedBorder-borderRadius: 0;
  --immersive-translate-theme-solidBorder-borderColor: #94a3b8;
  --immersive-translate-theme-solidBorder-borderRadius: 0;
  --immersive-translate-theme-dotted-borderColor: #94a3b8;
  --immersive-translate-theme-wavy-borderColor: #72ece9;
  --immersive-translate-theme-dividingLine-borderColor: #94a3b8;
  --immersive-translate-theme-grey-textColor: #2f4f4f;
  --immersive-translate-theme-marker-backgroundColor: #fbda41;
  --immersive-translate-theme-marker-backgroundColor-rgb: 251, 218, 65;
  --immersive-translate-theme-marker2-backgroundColor: #ffff00;
  --immersive-translate-theme-opacity-opacity: 10;
}

.immersive-translate-target-translation-pre-whitespace {
  white-space: pre-wrap !important;
}

.immersive-translate-pdf-target-container {
  position: absolute;
  background-color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    sans-serif;
  top: 0;
  width: 600px;
  height: 100%;
  z-index: 2;
  line-height: 1.3;
  font-size: 16px;
}
.immersive-translate-target-wrapper[dir='rtl'] {
  text-align: right;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper {
  color: rgb(0, 0, 0);
  white-space: normal;
  position: absolute;
}

.immersive-translate-pdf-target-container .immersive-translate-target-wrapper font {
  color: inherit;
  white-space: inherit;
  position: unset;
}

.immersive-translate-state-dual>br {
  display: none;
}

.immersive-translate-target-translation-block-wrapper {
  margin: 8px 0 !important;
  display: inline-block;
}

.immersive-translate-target-translation-pdf-block-wrapper {
  margin: 0 !important;
  display: block;
}

.immersive-translate-target-translation-theme-grey-inner {
  color: var(--immersive-translate-theme-grey-textColor);
}


.immersive-translate-target-translation-theme-underline-inner {
  border-bottom: 1px solid var(--immersive-translate-theme-underline-borderColor) !important;
}

.immersive-translate-target-translation-theme-nativeUnderline-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeUnderline-borderColor) !important;
}

.immersive-translate-target-translation-block-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-dashedBorder {
  border: 1px dashed var(--immersive-translate-theme-dashedBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-dashedBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 6px;
  margin-top: 2px;
  display: block;
}

.immersive-translate-target-translation-inline-wrapper-theme-solidBorder {
  border: 1px solid var(--immersive-translate-theme-solidBorder-borderColor) !important;
  border-radius: var(--immersive-translate-theme-solidBorder-borderRadius) !important;
  padding: 2px;
}

.immersive-translate-target-translation-theme-nativeDashed-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDashed-borderColor) !important;
  text-decoration-style: dashed !important;
}

.immersive-translate-target-translation-theme-thinDashed-inner {
  border-bottom: 1px dashed var(--immersive-translate-theme-thinDashed-borderColor) !important;
}

.immersive-translate-target-translation-theme-dotted-inner {
  background-image: linear-gradient(to right,
      var(--immersive-translate-theme-dotted-borderColor) 30%,
      rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 5px 1px;
  background-repeat: repeat-x;
  padding-bottom: 3px;
}

.immersive-translate-target-translation-theme-nativeDotted-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-nativeDotted-borderColor) !important;
  text-decoration-style: dotted !important;
}

.immersive-translate-target-translation-theme-wavy-inner {
  text-decoration: underline !important;
  text-decoration-color: var(--immersive-translate-theme-wavy-borderColor) !important;
  text-decoration-style: wavy !important;
}

.immersive-translate-target-translation-theme-dashed-inner {
  background: linear-gradient(to right,
      var(--immersive-translate-theme-dashed-borderColor) 0%,
      var(--immersive-translate-theme-dashed-borderColor) 50%,
      transparent 50%,
      transparent 100%) repeat-x left bottom;
  background-size: 8px 2px;
  padding-bottom: 2px;
}

.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before {
  content: "";
  display: block;
  max-width: 80px;
  width: 10%;
  border-top: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  padding-top: 8px;
}

.immersive-translate-target-translation-inline-wrapper-theme-dividingLine::before {
  content: "";
  border-left: 1px dashed var(--immersive-translate-theme-dividingLine-borderColor);
  max-height: 16px;
  height: 16px;
  padding-left: 8px;
}

.immersive-translate-target-translation-theme-highlight-inner {
  background: var(--immersive-translate-theme-highlight-backgroundColor);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-block-wrapper-theme-marker {
  line-height: 1.5em;
}

.immersive-translate-target-translation-theme-marker2-inner {
  font-weight: bold;
  text-shadow: 10px 0px 3px var(--immersive-translate-theme-marker2-backgroundColor),
    16px 3px 9px var(--immersive-translate-theme-marker2-backgroundColor),
    2px 0px 6px var(--immersive-translate-theme-marker2-backgroundColor),
    -12px 0px 12px var(--immersive-translate-theme-marker2-backgroundColor) !important;
}

.immersive-translate-target-translation-theme-marker-inner {
  /* TODO: add more texture */
  background: linear-gradient(to right,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.1),
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 3%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 35%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.9) 70%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.8) 95%,
      rgba(var(--immersive-translate-theme-marker-backgroundColor-rgb), 0.3));
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

.immersive-translate-target-translation-theme-weakening {
  opacity: 0.618 !important;
}

.immersive-translate-target-translation-theme-italic {
  font-style: italic !important;
}

.immersive-translate-target-translation-theme-bold {
  font-weight: bold !important;
}

.immersive-translate-target-translation-block-wrapper-theme-paper {
  margin: 8px 0;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  padding: 16px 32px;
  display: block;
}

.immersive-translate-target-translation-block-wrapper-theme-blockquote {
  border-left: 4px solid var(--immersive-translate-theme-blockquote-borderColor) !important;
  padding-left: 12px !important;
  margin-top: 4px;
  margin-bottom: 4px;
  padding-top: 4px;
  padding-bottom: 4px;
  display: block;
}

.immersive-translate-target-translation-theme-mask-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-mask-inner {
  filter: none !important;
}

[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner {
  filter: blur(5px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}


/* opacity theme start */

.immersive-translate-target-translation-theme-opacity-inner {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

[data-immersive-translate-root-translation-theme="none"] .immersive-translate-target-translation-theme-opacity-inner {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner,.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: opacity(calc(var(--immersive-translate-theme-opacity-opacity) * 1%)) !important;
  transition: filter 0.3s ease !important;
  border-radius: 10px;
  display: inline-block;
}

.immersive-translate-target-translation-theme-opacity-inner:hover {
  filter: none !important;
}


.immersive-translate-target-translation-theme-mask-inner:hover {
  filter: none !important;
}
[data-immersive-translate-root-translation-theme="opacity"] .immersive-translate-target-inner:hover {
  filter: none !important;
}


[data-immersive-translate-root-translation-theme="mask"] .immersive-translate-target-inner:hover {
  filter: none !important;
}

/* opacity theme end */

/* vertical css , please remain it in the last one. */
.immersive-translate-target-translation-vertical-block-wrapper {
  margin: 0px 8px !important;
}

.immersive-translate-text {
  font-size: 15px !important;
}

.immersive-translate-error-toast {
  position: fixed;
  top: 5%;
  z-index: 99999999;
  left: 0;
  right: 0;
  margin: auto;
  max-width: 300px;
  padding: 16px;
  border-radius: 12px;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

@media all and (min-width: 750px) {
  .immersive-translate-error-toast {
    max-width: 400px;
  }
}


.immersive-translate-clickable-button {
  cursor: pointer;
}

.immersive-translate-help-button {
  cursor: pointer;
}

.immersive-translate-loading-text:before {
  content: "...";
}


/* dark mode for loading */

@media only screen and (prefers-color-scheme: dark) {
  .immersive-translate-loading {
    border: 2px rgba(255, 255, 255, 0.25) solid !important;
    border-top: 2px rgba(255, 255, 255, 1) solid !important;
  }
}

.immersive-translate-error-wrapper {
  position: relative;
  display: inline-flex;
  padding: 6px;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 0.9em;
}
[lang="zh-CN"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}
[lang="zh-TW"] .immersive-translate-error-wrapper {
  font-size: 0.75em;
}


.immersive-translate-tooltip {
  position: relative;
  display: inline-flex;
  /* little indicater to indicate it's hoverable */
}

.immersive-translate-tooltip-content {
  /* here's the magic */
  position: absolute;
  z-index: 100000000000;

  left: 50%;
  bottom: 0;
  transform: translate(-50%, 110%);
  line-height: 1;
  /* and add a small left margin */

  /* basic styles */
  width: max-content;
  max-width: 250px;
  word-wrap: break-word;
  white-space: pre-line;
  padding: 10px;
  border-radius: 10px;
  background: #000C;
  color: #fff;
  text-align: center;
  font-size: 14px;
  display: none;
  /* hide by default */
}

.immersive-translate-tooltip:hover .immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip:hover+.immersive-translate-tooltip-content {
  display: block;
}

.immersive-translate-tooltip-content-table {
  left: unset !important;
  bottom: unset !important;
  transform: translate(-10%, 50%) !important;
}


.immersive-translate-tooltip:hover:before {
  display: block;
}



.immersive-translate-loading-spinner {
  vertical-align: middle !important;
  width: 10px !important;
  height: 10px !important;
  display: inline-block !important;
  margin: 0 4px !important;
  border: 2px rgba(221, 244, 255, 0.6) solid !important;
  border-top: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-left: 2px rgba(0, 0, 0, 0.375) solid !important;
  border-radius: 50% !important;
  padding: 0 !important;
  -webkit-animation: immersive-translate-loading-animation 0.6s infinite linear !important;
  animation: immersive-translate-loading-animation 0.6s infinite linear !important;
}

@-webkit-keyframes immersive-translate-loading-animation {
  from {
    -webkit-transform: rotate(0deg);
  }

  to {
    -webkit-transform: rotate(359deg);
  }
}

@keyframes immersive-translate-loading-animation {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}
</style><style data-id="immersive-translate-user-custom-style">:root {

.immersive-translate-target-inner { font-family: inherit; }
}
</style><style data-id="immersive-translate-dynamic-injected-css">.immersive-translate-target-wrapper[dir='rtl'] {text-align: right;}
.immersive-translate-target-wrapper[dir='rtl'] [data-immersive-translate-class-bak*='block-wrapper'] {display:block;}
.immersive-translate-target-wrapper {word-break: break-word;}
</style></head><body data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>environment.d</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="../nav.js"></script><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">Index </a>·
  <a href="systemd.directives.html" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">Directives </a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">索引 · 指令</font></font></font><span style="float:right" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">systemd 255</span><hr><div class="refentry" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><a name="environment.d" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"></a><div class="titlepage" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"></div><div class="refnamediv" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><h2 data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">Name<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">名称</font></font></font></h2><p data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">environment.d — Definition of user service environment<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">environment.d — 用户服务环境定义</font></font></font></p></div><div class="refsynopsisdiv" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><h2 data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">Synopsis<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">简介</font></font></font></h2><p data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">~/.config/environment.d/*.conf</code></p><p data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/etc/environment.d/*.conf</code></p><p data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/run/environment.d/*.conf</code></p><p data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/usr/lib/environment.d/*.conf</code></p><p data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/etc/environment</code></p></div><div class="refsect1" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><a name="id-1.5" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"></a><h2 id="Description" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">Description<a class="headerlink" title="Permalink to this headline" href="#Description" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">描述</font></font></font></h2><p data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">Configuration files in the <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">environment.d/</code> directories contain lists of
    environment variable assignments passed to services started by the systemd user instance.
    <a href="systemd-environment-d-generator.html#" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><span class="citerefentry" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><span class="refentrytitle" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">systemd-environment-d-generator</span>(8)</span></a>
    parses them and updates the environment exported by the systemd user instance. See below for an
    discussion of which processes inherit those variables.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1"> <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">environment.d/</code> 目录中的配置文件包含由 systemd 用户实例启动的服务传递的环境变量赋值列表。systemd-environment-d-generator(8) 解析它们并更新由 systemd 用户实例导出的环境。有关哪些进程继承这些变量的讨论，请参见下文。</font></font></font></p><p data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">It is recommended to use numerical prefixes for file names to simplify ordering.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">建议使用数字前缀来简化文件名的排序。</font></font></font></p><p data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">For backwards compatibility, a symlink to <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/etc/environment</code> is
    installed, so this file is also parsed.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">为了向后兼容性，安装了一个指向 <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/etc/environment</code> 的符号链接，因此也会解析此文件。</font></font></font></p></div><div class="refsection" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><a name="confd" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"></a><h2 data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">Configuration Directories and Precedence<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置目录和优先级</font></font></font></h2><p data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">Configuration files are read from directories in <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/etc/</code>,
    <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/run/</code>, <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/usr/local/lib/</code>, and <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/usr/lib/</code>, in
    order of precedence, as listed in the SYNOPSIS section above. Files must have the
    "<code class="literal" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">.conf</code>" extension. Files in <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/etc/</code> override files with the same name
    in <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/run/</code>, <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/usr/local/lib/</code>, and
    <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/usr/lib/</code>. Files in <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/run/</code> override files with the same name
    under <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/usr/</code>.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置文件按照优先顺序从 <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/etc/</code> 、 <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/run/</code> 、 <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/usr/local/lib/</code> 和 <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/usr/lib/</code> 的目录中读取，如上面的概要部分所列。文件必须具有“ <code class="literal" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">.conf</code> ”扩展名。 <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/etc/</code> 中的文件会覆盖 <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/run/</code> 、 <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/usr/local/lib/</code> 和 <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/usr/lib/</code> 中具有相同名称的文件。 <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/run/</code> 中的文件会覆盖 <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/usr/</code> 下具有相同名称的文件。</font></font></font></p><p data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">All configuration files are sorted by their filename in lexicographic order, regardless of which of
    the directories they reside in. If multiple files specify the same option, the entry in the file with the
    lexicographically latest name will take precedence. Thus, the configuration in a certain file may either
    be replaced completely (by placing a file with the same name in a directory with higher priority), or
    individual settings might be changed (by specifying additional settings in a file with a different name
    that is ordered later).<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">所有配置文件都按照它们的文件名按字典顺序排序，无论它们位于哪个目录中。如果多个文件指定相同的选项，则具有字典顺序最晚名称的文件中的条目将优先。因此，某个文件中的配置可能会被完全替换（通过将具有更高优先级目录中相同名称的文件放置在其中），或者可能更改单个设置（通过在稍后排序的具有不同名称的文件中指定附加设置）。</font></font></font></p><p data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">Packages should install their configuration files in <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/usr/lib/</code> (distribution
    packages) or <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/usr/local/lib/</code> (local installs). Files in <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/etc/</code>
    are reserved for the local administrator, who may use this logic to override the configuration files
    installed by vendor packages. It is recommended to prefix all filenames with a two-digit number and a
    dash, to simplify the ordering of the files.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">包应该将它们的配置文件安装在 <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/usr/lib/</code> （发行版包）或 <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/usr/local/lib/</code> （本地安装）中。 <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/etc/</code> 中的文件保留给本地管理员，管理员可以使用此逻辑来覆盖供应商包安装的配置文件。建议所有文件名都以两位数字和短横线开头，以简化文件的排序。</font></font></font></p><p data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">If the administrator wants to disable a configuration file supplied by the vendor, the recommended
    way is to place a symlink to <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/dev/null</code> in the configuration directory in
    <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/etc/</code>, with the same filename as the vendor configuration file. If the vendor
    configuration file is included in the initrd image, the image has to be regenerated.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">如果管理员想要禁用供应商提供的配置文件，推荐的方法是在 <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/etc/</code> 的配置目录中放置一个指向 <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/dev/null</code> 的符号链接，文件名与供应商配置文件相同。如果供应商配置文件包含在 initrd 映像中，则必须重新生成映像。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><a name="id-1.7" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"></a><h2 id="Configuration Format" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">Configuration Format<a class="headerlink" title="Permalink to this headline" href="#Configuration%20Format" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置格式 ¶</font></font></font></h2><p data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">The configuration files contain a list of
    "<code class="literal" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><em class="replaceable"><code>KEY</code></em>=<em class="replaceable"><code>VALUE</code></em></code>" environment
    variable assignments, separated by newlines. The right hand side of these assignments may
    reference previously defined environment variables, using the "<code class="literal" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">${OTHER_KEY}</code>"
    and "<code class="literal" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">$OTHER_KEY</code>" format. It is also possible to use
    "<code class="literal" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">${<em class="replaceable"><code>FOO</code></em>:-<em class="replaceable"><code>DEFAULT_VALUE</code></em>}</code>"
    to expand in the same way as "<code class="literal" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">${<em class="replaceable"><code>FOO</code></em>}</code>" unless the
    expansion would be empty, in which case it expands to <em class="replaceable" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><code data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">DEFAULT_VALUE</code></em>,
    and use
    "<code class="literal" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">${<em class="replaceable"><code>FOO</code></em>:+<em class="replaceable"><code>ALTERNATE_VALUE</code></em>}</code>"
    to expand to <em class="replaceable" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><code data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">ALTERNATE_VALUE</code></em> as long as
    "<code class="literal" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">${<em class="replaceable"><code>FOO</code></em>}</code>" would have expanded to a non-empty value.
    No other elements of shell syntax are supported.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">配置文件包含一个由换行符分隔的“ <code class="literal" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><em class="replaceable"><code>KEY</code></em>=<em class="replaceable"><code>VALUE</code></em></code> ”环境变量赋值列表。这些赋值的右侧可能引用先前定义的环境变量，使用“ <code class="literal" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">${OTHER_KEY}</code> ”和“ <code class="literal" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">$OTHER_KEY</code> ”格式。也可以使用“ <code class="literal" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">${<em class="replaceable"><code>FOO</code></em>:-<em class="replaceable"><code>DEFAULT_VALUE</code></em>}</code> ”进行扩展，方式与“ <code class="literal" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">${<em class="replaceable"><code>FOO</code></em>}</code> ”相同，除非扩展为空，否则扩展为 <code data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">DEFAULT_VALUE</code> ，并使用“ <code class="literal" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">${<em class="replaceable"><code>FOO</code></em>:+<em class="replaceable"><code>ALTERNATE_VALUE</code></em>}</code> ”扩展为 <code data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">ALTERNATE_VALUE</code> ，只要“ <code class="literal" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">${<em class="replaceable"><code>FOO</code></em>}</code> ”扩展为非空值。不支持 shell 语法的其他元素。</font></font></font></p><p data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">Each <em class="replaceable" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><code data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">KEY</code></em> must be a valid variable name. Empty lines
    and lines beginning with the comment character "<code class="literal" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">#</code>" are ignored.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">每个 <code data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">KEY</code> 必须是有效的变量名。空行和以注释字符“ <code class="literal" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">#</code> ”开头的行将被忽略。</font></font></font></p><div class="refsect2" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><a name="id-1.7.4" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"></a><h3 id="Example" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">Example<a class="headerlink" title="Permalink to this headline" href="#Example" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 ¶</font></font></font></h3><div class="example" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><a name="id-1.7.4.2" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"></a><p class="title" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><b data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">Example&nbsp;1.&nbsp;Setup environment to allow access to a program installed in
        <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/opt/foo</code><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">示例 1。设置环境以允许访问安装在 <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/opt/foo</code> 中的程序。</font></font></font></b></p><div class="example-contents" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><p data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">/etc/environment.d/60-foo.conf</code>:
        </p><pre class="programlisting">        FOO_DEBUG=force-software-gl,log-verbose
        PATH=/opt/foo/bin:$PATH
        LD_LIBRARY_PATH=/opt/foo/lib${LD_LIBRARY_PATH:+:$LD_LIBRARY_PATH}
        XDG_DATA_DIRS=/opt/foo/share:${XDG_DATA_DIRS:-/usr/local/share/:/usr/share/}
        </pre></div></div><br class="example-break" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"></div></div><div class="refsect1" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><a name="id-1.8" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"></a><h2 id="Applicability" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">Applicability<a class="headerlink" title="Permalink to this headline" href="#Applicability" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">适用性 ¶</font></font></font></h2><p data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">Environment variables exported by the user service manager (<span class="command" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><strong data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">systemd --user</strong></span>
    instance started in the <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">user@<em class="replaceable"><code>uid</code></em>.service</code> system service)
    are passed to any services started by that service manager. In particular, this may include services
    which run user shells. For example in the GNOME environment, the graphical terminal emulator runs as the
    <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">gnome-terminal-server.service</code> user unit, which in turn runs the user shell, so that
    shell will inherit environment variables exported by the user manager. For other instances of the shell,
    not launched by the user service manager, the environment they inherit is defined by the program that
    starts them. Hint: in general,
    <a href="systemd.service.html#" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><span class="citerefentry" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><span class="refentrytitle" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">systemd.service</span>(5)</span></a> units
    contain programs launched by systemd, and
    <a href="systemd.scope.html#" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><span class="citerefentry" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><span class="refentrytitle" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">systemd.scope</span>(5)</span></a> units
    contain programs launched by something else.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">用户服务管理器导出的环境变量（在 <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">user@<em class="replaceable"><code>uid</code></em>.service</code> 系统服务中启动的 systemd --user 实例）会传递给该服务管理器启动的任何服务。特别是，这可能包括运行用户 shell 的服务。例如，在 GNOME 环境中，图形终端仿真器作为 <code class="filename" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">gnome-terminal-server.service</code> 用户单元运行，该单元又运行用户 shell，因此该 shell 将继承用户管理器导出的环境变量。对于由用户服务管理器启动的其他 shell 实例，它们继承的环境由启动它们的程序定义。提示：一般来说，systemd.service(5) 单元包含由 systemd 启动的程序，而 systemd.scope(5) 单元包含由其他程序启动的程序。</font></font></font></p><p data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">Note that these files do not affect the environment block of the service manager itself, but
    exclusively the environment blocks passed to the services it manages. Environment variables set that way
    thus cannot be used to influence behaviour of the service manager. In order to make changes to the
    service manager's environment block the environment must be modified before the user's service manager is
    invoked, for example from the system service manager or via a PAM module.<font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">请注意，这些文件不会影响服务管理器本身的环境块，而仅影响传递给其管理的服务的环境块。因此，以这种方式设置的环境变量不能用于影响服务管理器的行为。为了对服务管理器的环境块进行更改，必须在用户的服务管理器被调用之前修改环境，例如从系统服务管理器或通过 PAM 模块。</font></font></font></p><p data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">Specifically, for ssh logins, the
    <a href="http://linux.die.net/man/8/sshd" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><span class="citerefentry" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><span class="refentrytitle" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">sshd</span>(8)</span></a>
    service builds an environment that is a combination of variables forwarded from the remote system and
    defined by <span class="command" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><strong data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">sshd</strong></span>, see the discussion in
    <a href="http://linux.die.net/man/1/ssh" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><span class="citerefentry" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><span class="refentrytitle" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">ssh</span>(1)</span></a>.
    A graphical display session will have an analogous mechanism to define the environment. Note that some
    managers query the systemd user instance for the exported environment and inject this configuration into
    programs they start, using <span class="command" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><strong data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">systemctl show-environment</strong></span> or the underlying D-Bus call.
    <font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">具体来说，对于 ssh 登录，sshd(8) 服务构建了一个环境，该环境是从远程系统转发的变量和由 sshd 定义的变量的组合，请参阅 ssh(1) 中的讨论。图形显示会话将具有类似的机制来定义环境。请注意，一些管理器会查询 systemd 用户实例导出的环境，并将此配置注入启动的程序中，使用 systemctl show-environment 或底层的 D-Bus 调用。</font></font></font></p></div><div class="refsect1" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><a name="id-1.9" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"></a><h2 id="See Also" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">¶</a><font class="notranslate immersive-translate-target-wrapper" lang="zh-CN" data-immersive-translate-translation-element-mark="1"><font class="notranslate" data-immersive-translate-translation-element-mark="1">&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark="1">参见 ¶</font></font></font></h2><p data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f" data-immersive-translate-paragraph="1">
      <a href="systemd.html#" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><span class="citerefentry" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><span class="refentrytitle" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">systemd</span>(1)</span></a>,
      <a href="systemd-environment-d-generator.html#" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><span class="citerefentry" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><span class="refentrytitle" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">systemd-environment-d-generator</span>(8)</span></a>,
      <a href="systemd.environment-generator.html#" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><span class="citerefentry" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f"><span class="refentrytitle" data-immersive-translate-walked="aa48f9fc-3f76-4692-80e7-24b060f94c8f">systemd.environment-generator</span>(7)</span></a>
    </p></div></div>
</body></html>